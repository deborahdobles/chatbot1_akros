                              INC-4098 - Consulta Pagaré 138704

                              INC-4123-Separar cuentas

                              INC-4105 - México - Cuenta Cancelada y Muestra Activa

                              INC-4119-Solicitud de cartera PAXOS

                              INC-4157 Costa Rica R-82145 consulta activación de débito automático

                              INC-4174 - Cancelar cuentas

176

178

181

183

185

187

 
 
 
 
 
 
                              INC-4198 Inconsistencia en la app ONFIDO

                              INC-4064 El Salvador Actualizar parámetros para contabilidad automática

                              INC-4058 CARACTER ESPECIAL PARA CREACION Y CAMBIO DE CONSTRASEÑA

                              INC-4220 - Error en status de operación R-201029 siguiendo la plantilla proporcionada:

                              INC-4168-modificar-usuario-core

                              INC-4238 - Eliminación de Minicard Borra Saldo.

                              INC-4366: Costa Rica R-200195 consulta activación de debito automático

                              INC-4376: Cambio de nombre

                         Mes Noviembre (SOLIC.)

                              INC-4232-Trazabilidad electrónica de usuarios en App Multimoney

                              INC-4276 cuenta R-208191, devolución de saldo a favor

                              INC-4206 - Costa Rica Aplicación de pagos para cuentas canceladas separadas al 31oct24

                              INC-4215 Actualizacion de comprobante de domicilio

                                   INC-4250 - Cambio RFC Folio 51280 R-02800

                              INC-4122 CR. Digital. Cancelación de Tarjetas visa junio-octubre 2024

                              INC-4149 SV. Agregar nuevo banco participante en servicio Transferencia 365 APP

                              INC-4227-Acceso a reporte de pagos

                              INC-4298 Validar quién y cuándo se activa la domiciliación del cliente 139101

                              INC-4287-Error inesperado en la reversión de pago / mala aplicación del sistema en monto

                              INC-4265 Problemas con cliente, no genera análisis de crédito

                              INC-4333-Guatemala Diferencia en descuento aplicado 10020858

                              INC-4316 CEDULAS DESCARGADAS EN MANTENIMIENTO 2.0

                              INC-4271-Operacion 98658, reversión de cobertura de seguros (3)

                              INC-4351 - Eliminación de Mini Card "Sé un Máster del Ahorro"

                              INC-4303-Acceso a la generación de 3 reportes

                              INC-4392 Desbloqueo usuario en sysde

                              INC-4203 Baja de credenciales SAP a usuario de Blanca Galicia / bgali

                              INC-4394 Mensaje en SOC y bloqueo

                              INC-4169 cambio de contraseña

                              INC-4387-No aparece usuario nuevo en lista de accesos para asignar permisos

                              INC-4385 No puede cambiar contraseña

                              INC-4358-Trazabilidad electrónica de app multimoney para un usuario

                              INC-4273 bloqueo

                              INC-4400 ERROR EN EL COMPROBANTE DE PAGO OPERACION BACK TO BACK

                              INC-4343-guatemala-diferencia-en-descuento-aplicado-10020858

                              INC-4310 Acceso sistema Mantenimientos AKROS

                              INC-4477-Validar usuario que activa domiciliación R-192091

                              INC-4299-Agregar el permiso de Cambio de producto en BetoSys al perfil BSYS_CRED-ANALISTA-

CONTROL2

                              INC-4324 Calificación incorrecta de Alerta por usuario "SERVICIOS"

                              INC-4307:Validar envio de estado de cuenta

                              INC-4476 - Subir nueva Mini Card para campaña Smart

                              INC-4479-Error en cuenta R-82534

                              INC-4414-Solicitud para descartar cédulas sin apadronar

                              INC-4529- No tiene acceso App Mexico // R-01922

                              INC-4497 Cuota mal proyectada con calculadora para ampliaciones

195

196

197

198

200

201

202

203

206

207

209

210

212

214

216

223

227

229

230

231

232

234

236

238

240

242

244

245

246

247

249

251

253

255

258

260

262

264

266

267

269

272

273

274

275

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                              INC-4519 - Cambio de Estado de DTR en el Sistema de NOVA

                              INC-4555 - Restablecimiento de contraseña para Domingo Osegueda

                              inc-4530-No permite ingreso a la App Multimoney Mexico // R-00994

                              INC-4528-Error en acceso a NOVAMP

                              INC-4568-ACTIVACION DE CATALOGOS

               Postmortem

                    Año 2024 (POST.)

                         INC-3233 Análisis Postmortem de Ciberseguridad

                         Postmortem de Pruebas de Pentest en la Aplicación Multimoney

                         Postmortem of Pentest Tests on the Multimoney Application

               Causa Raiz

                    Pendiente

                    En curso

                         INC-3919 Incidentes recurrentes en aplicación de pagos

                              Plan de acción INC-3919

                    Completado

                         INC-3533-TIPO-DE-CAMBIO

               Reglas Documentación

276

277

278

280

282

283

284

285

292

296

300

301

302

303

308

311

312

316

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
5

Documentación de incidentesEste espacio es para agregar la documentación de incidencias tanto issues operativos, incidentes y solicitudes  6

INCIDENTESApartado donde se documentan los incidentes por Mes y año7

Año 2024 (INC.)Incidentes año 2024 8

Mes octubre (INC.)Incidencias mes de octubre 9

INC-2955 No se recibe códigoEnlace de la incidencia INC-2955: Cliente no recibe código de verificaciónCERRADO Registro de IncidenciasINC-2955Envíos de OTP no llegan al cliente. Los mensajes quedan en estado enviado en Twilio y U Contact, pero no son recibidos por los usuarios.Creado 1 de octubre de 2024, 8:11Twilio, U ContactProceso de envío de OTP mediante SMSProblema con proveedor de telefonía Claro, mensajes rechazados con "RESTRICTED (SERVICIOS RESTRINGIDOS)". U Contact utiliza Claro y Liberty para balancear el envío de SMS.Se colaboró con soporte local para validar el flujo. Se contactó al proveedor para investigar el mensaje de rechazo. Revisión de configuraciones en Twilio y U Contact. Pruebas exhaustivas.Se implementó un sistema de seguimiento de errores y se recomendó el uso de alternativas como email o aplicaciones móviles para envíos de OTP hasta resolver el problema con el proveedor.NúmeroDescripción del CasoFecha de CreaciónAplicación RelacionadaFlujo más EspecíficoCausa Raíz AsociadaAcciones RealizadasSolución Relacionada10

INC-3988 El Salvador - Reporte de contabilidad automática del 24oct24 no subió a SysdeDescripción del problema El reporte de contabilidad automática del 24 de octubre de 2024 no se subió a Sysde debido a que quedó en estado de cola 85, que corresponde a "PENDIENTE DE CHEQUE SAP".Análisis y acciones tomadas1. Marvin Trejo identificó que la contabilidad automática se encontraba en estado 85, el cual se refiere a cheques SAP. Sin embargo, se confirmó que los cheques SAP ya no se utilizan en este proceso.2. Se solicitó la ayuda de Luis Fernando Solano Calderón para cambiar el estado de la contabilidad automática a "pendiente" y permitir que el proceso continuara.3. Luis Fernando consultó si solo se trataba de transacciones de cheques o si había otras transacciones implicadas, confirmándose que había más transacciones afectadas.4. Marvin Trejo cambió el estado de las transacciones afectadas a "pendiente" para que el proceso pudiera retomarse.5. Marvin confirmó que todas las transacciones habían sido procesadas correctamente y verificó con el cliente si el registro ya era visible en Sysde.6. Una vez confirmado que el registro estaba visible y se procesaría durante la madrugada, Luis Fernando devolvió el estado de las transacciones a su condición original.Validación y cierrePara validar la correcta solución del incidente, se realizaron las siguientes consultas en la base de datos SV_CORE:Se consultaron los encabezados de contabilidad automática para la fecha 2024-10-24 utilizando la tabla STC_REP_CONTABILIDAD_AUTOMATICA_ENCABEZADO.Se obtuvo el valor de la llave primaria PK_STC_REP_CONTABILIDAD_AUTOMATICA_ENCABEZADO y el número de lote NO_LOTE_ARCHIVO para dicha fecha.Se verificó el estado de cola de los registros en la tabla STC_REP_CONTABILIDAD_AUTOMATICA_RESUMEN relacionado con el encabezado obtenido.Se revisaron los logs de servicio de contabilidad automática en la tabla STC_LOG_SERVICIO_CONTABILIDAD_AUTOMATICA tanto para el ID de carga específico como para la fecha de creación del log.Solución aplicadaSe ejecutaron las siguientes acciones para corregir el estado de las transacciones afectadas:Se actualizó el estado del servicio a 90 en la tabla STC_LOG_SERVICIO_CONTABILIDAD_AUTOMATICA para el ID de carga 195794699770907.Se actualizó el estado de cola a 90 en las tablas STC_REP_CONTABILIDAD_AUTOMATICA_ENCABEZADO, STC_REP_CONTABILIDAD_AUTOMATICA_RESUMEN y STC_REP_CONTABILIDAD_AUTOMATICA_DETALLE para la fecha 2024-10-24.Estas acciones permitieron que las transacciones fueran procesadas correctamente y visibles en Sysde.Código proporcionado1USE SV_CORE23DECLARE @FK INT = 04DECLARE @IDCARGA BIGINT = 1957946997709075DECLARE @FECHACARGA DATE = '2024-10-24'67SELECT * FROM dbo.STC_REP_CONTABILIDAD_AUTOMATICA_ENCABEZADO WITH(NOLOCK) WHERE FECHA_MOVIMIENTO = @FECHACARGA89SELECT @FK = PK_STC_REP_CONTABILIDAD_AUTOMATICA_ENCABEZADO, @IDCARGA = NO_LOTE_ARCHIVO FROM dbo.STC_REP_CONTABIL1011

Resultado El proceso de contabilidad automática se completó con éxito, y el cliente confirmó que el registro ya estaba disponible en Sysde para su procesamiento final.Notas adicionalesSe recomienda revisar el proceso de cola de cheques SAP, el cual ya no se utiliza para evitar que futuras transacciones queden bloqueadas en dicho estado.El incidente fue resuelto satisfactoriamente y se procedió al cierre oficial con el cliente. Sistema Relacionado: Reportes Sysde SVFlujo relacionado: OP - Contabilidad automáticaCausa: El sistema intentó procesar un paso relacionado con los cheques SAP, un proceso que ya no es necesario, lo cual provocó que las transacciones quedaran detenidas y no fueran procesadas correctamente.Solución: Se eliminaron los pasos relacionados con el procesamiento de cheques SAP y se actualizaron los registros afectados, permitiendo que las transacciones se completaran sin problemas y fueran visibles para el cliente en el sistema. Causa raíz relacionada:  INC-709: Causa raíz El Salvador Reporte de conta automática no subió a SysdeABIERTO  Tipo solución: WorkaroundNo hay etiquetas asociadas.11SELECT ESTADO_COLA, * FROM dbo.STC_REP_CONTABILIDAD_AUTOMATICA_RESUMEN WITH(NOLOCK) WHERE FK_STC_REP_CONTABILIDA1213SELECT * FROM dbo.STC_LOG_SERVICIO_CONTABILIDAD_AUTOMATICA WITH(NOLOCK) WHERE ID_CARGA = @IDCARGA1415SELECT * FROM dbo.STC_LOG_SERVICIO_CONTABILIDAD_AUTOMATICA WHERE FECHA_CREACION = '2024-10-24 23:45:06.957' ORDE1617-- Solución18BEGIN TRAN1920UPDATE dbo.STC_LOG_SERVICIO_CONTABILIDAD_AUTOMATICA SET ESTADO_SERVICIO = 90 WHERE ID_CARGA = 19579469977090721UPDATE dbo.STC_REP_CONTABILIDAD_AUTOMATICA_ENCABEZADO SET ESTADO_COLA = 90 WHERE FECHA_MOVIMIENTO = '2024-10-24'22UPDATE [dbo].[STC_REP_CONTABILIDAD_AUTOMATICA_RESUMEN] SET ESTADO_COLA = 90 WHERE FECHA_MOVIMIENTO = '2024-10-2423UPDATE [dbo].[STC_REP_CONTABILIDAD_AUTOMATICA_DETALLE] SET ESTADO_COLA = 90 WHERE FECHA_MOVIMIENTO = '2024-10-242425ROLLBACK26COMMIT TRAN2728-- Estados29SELECT * FROM dbo.UTL_CAT_ESTADO WHERE LLAVE01 = 'ESTADO_CONTABILIDAD_AUTOMATICA'12

INC-3907 - Paso incorrecto flujo SmartDocumento del Caso: Propietario: José ValverdeFecha 28-10-2024Sistema Relacionado: Flujo Smart Hostpot App MMCausa:Lógica incompleta en la asignación de estados dentro del proceso temporal.statusOnfido, donde el estado 'EXCEDIO_CONTADOR' no estaba contemplado, bloqueando las transacciones y deteniendo el flujo automatizado.INC-3907: Paso incorrecto flujo SmartCERRADO INC-4062: Causa Raíz: Lógica incompleta en la asignación de estados hubspotCERRADO Descripción del ProblemaEl cliente reportó un problema en el flujo Smart debido a que la opción 'EXCEDIO_CONTADOR' no se estaba gestionando correctamente. Esta situación estaba generando errores en la asignación del estado en temporal.statusOnfido. Como consecuencia, algunas transacciones no seguían el flujo esperado en la plataforma.Análisis y Acciones Tomadas1. Identificación del problema:Se detectó que las solicitudes relacionadas con los clientes afectados no avanzaban debido a que el estado 'EXCEDIO_CONTADOR' no estaba considerado en la lógica del proceso.2. Acción Correctiva:Se implementó un fix para actualizar el campo temporal.statusOnfido:Si la descripción es 'excedio_contador', el estado se asigna como 'rechazado'.En otros casos, se mantiene la descripción original o se asigna como 'pendiente'.3. Consultas Realizadas:Actualización de las solicitudes en la base de datos:  Consulta de solicitudes relacionadas con el cliente:1UPDATE F2P_NEO_BANCO.dbo.BAN_MTR_SOLICITUD_GLOBAL 2SET FECHA_MODIFICACION = GETDATE()3WHERE PK_BAN_MTR_SOLICITUD_GLOBAL IN (116746); 45UPDATE F2P_NEO_BANCO.dbo.BAN_MTR_SOLICITUD_GLOBAL 6SET FECHA_MODIFICACION = GETDATE()7 WHERE PK_BAN_MTR_SOLICITUD_GLOBAL IN (116959);13

4. Verificación de las Actualizaciones:Se revisaron las transacciones en Hotspot para confirmar que el flujo había avanzado correctamente y el estado del cliente se había actualizado según lo esperado.Angie Calderón validó que las solicitudes afectadas pasaran a estado 9, permitiendo que siguieran el proceso sin inconvenientes.Validación y CierreLink Jira del Incidente: INC-3907Link TFS: Pull Request #69524Descripción del Cambio:Se agregó la opción 'EXCEDIO_CONTADOR' a la lógica del proceso para garantizar que las transacciones continúen correctamente.Instancia: Producción (IP: 172.29.0.30)1. Validación del Fix:Se verificó que el proceso de las solicitudes con PK 116746 y 116959 avanzó según lo esperado tras aplicar el fix.2. Resultados:Los estados de las transacciones actualizadas reflejan correctamente la asignación esperada.Las consultas realizadas confirmaron que el cliente '1-1773-0040' ya no tiene bloqueos en el flujo Smart.3. Confirmación Final:José Valverde y Angie Calderón verificaron con los clientes afectados que todas las solicitudes estaban procesadas correctamente. Se confirmó que los registros estaban visibles y listos para continuar el flujo en Hotspot.Recomendaciones y Próximos PasosMonitorear: Supervisar las solicitudes de los clientes involucrados para asegurar que el proceso fluya sin interrupciones.Validación continua: Revisar la lógica de otros estados similares para evitar futuros bloqueos.Etiquetas Solución:Lógica de ProcesosAsignación de EstadosIntervención ManualContinuidad OperativaMejora en Hotspot1SELECT TOP 10 * FROM F2P_NEO_BANCO.dbo.BAN_MTR_SOLICITUD_GLOBAL 2WHERE identificacion = '1-1773-0040';14

INC-4037-Costa Rica R-154738 y 209911 error en debito automáticoSistema Relacionado: Sistema Reporte  Descripción detallada del problema:Las cuentas R-154738 y 209911, que tienen activa la domiciliación, no se incluyeron en el reporte de débitos automáticos generados en octubre, lo cual afecta el proceso de cobro correspondiente a cada ciclo. En detalle:Cuenta R-154738: Esta cuenta debió haberse incluido en el reporte generado el 1 de octubre, sin embargo, no apareció. Existe un ticket abierto, INC-3166, creado el 4 de octubre, donde se documentó previamente un problema similar ("Costa Rica R-154738 error en débito automático"). Hasta el momento, este ticket no ha presentado avances significativos, y la fecha de cobro de noviembre se aproxima rápidamente, poniendo en riesgo el cobro del ciclo siguiente.Cuenta 209911: La cuenta tenía programada la domiciliación para el 21 de octubre, pero tampoco fue incluida en el reporte correspondiente. Como resultado, el cliente ha presentado una queja formal, la cual podría escalar a una situación más grave si no se gestiona de manera adecuada y oportuna.Análisis del caso:Al validar el reporte, este retorna correctamente para las cuentas indicadas, lo cual sugiere que el problema está relacionado con consultas incorrectas al momento de generar el reporte. Esto indica que puede ser necesario revisar la lógica de consulta y los parámetros aplicados para asegurar que todas las cuentas activas se incluyan adecuadamente.Acciones detalladas a implementar para una posible solución:1. Verificación de Reportes Generados:Revisar cuidadosamente los reportes generados el 1 y el 21 de octubre, para identificar si hubo algún patrón en la omisión de estas cuentas.Comparar estos reportes con los listados de cuentas que tienen la domiciliación activa, para encontrar discrepancias y determinar si el problema afecta a otras cuentas además de las mencionadas.Examinar si existe un problema con el identificador de las cuentas o algún error en la estructura del archivo de reporte.2. Validación de Filtros Utilizados:Analizar detalladamente los filtros aplicados durante la generación de los reportes. Es posible que alguna condición o criterio esté excluyendo a las cuentas con domiciliación activa.Realizar pruebas generando los reportes con diferentes configuraciones de filtros (por ejemplo, sin aplicar restricciones específicas) para determinar si las cuentas son visibles bajo condiciones distintas.Evaluar la configuración del sistema encargado de procesar la información de domiciliación y su integración con los reportes generados.3. Realización de Pruebas Internas:Reproducir el proceso de generación de reportes en un entorno de prueba, con datos similares, para identificar en qué punto fallan los reportes y si las cuentas son omitidas bajo ciertas condiciones.Probar la funcionalidad de domiciliación activando y desactivando ciertos parámetros, para determinar si hay algún problema con la sincronización entre la domiciliación y el sistema que genera los reportes.Verificar si existen problemas de comunicación entre los sistemas de domiciliación y el sistema de generación de reportes. Esto podría requerir la colaboración con los equipos de tecnología o sistemas.Resultado: El punto 5 se realizó, y el reporte devuelve ambas cuentas correctamente. Las cuentas se muestran en el reporte sin problemas tanto a nivel de base de datos como a nivel del aplicativo de reporte.4. Propuesta de Mejora Preventiva:Considerar la implementación de un proceso de revisión y validación automático que compare las cuentas activas en domiciliación con los reportes generados, de forma que se identifiquen cuentas omitidas antes de que se envíen los reportes finales.15

Proponer la creación de alertas automáticas que notifiquen cualquier discrepancia entre los datos de domiciliación y los reportes, para poder actuar preventivamente antes de que se generen quejas de los clientes.Solución al negocio:No se realizó ninguna acción específica como solución, ya que el problema se originó debido a que la domiciliación se activó después de haber ciclado los clientes, lo que causó la omisión de las cuentas en el reporte.16

INC-3990 Revisión de Tablas de pagosDescripción del caso:Revisión en las tablas de pagos de las operaciones por vencer, debido a que se encontró una muestra de operaciones que la fecha de vencimiento aumenta de un mes a otro, aproximadamente 30 o 31 días.El error se da en operaciones que el saldo final es menor a la cuota habitual, lo cual me parece que no es correcto, ya que los saldos adeudados son muy bajos.Respuesta de chatGPT:1. Identificación del ProblemaFenómeno: La fecha de vencimiento en algunas operaciones se está extendiendo de 30 a 31 días adicionales cada mes.Condición: Esto ocurre específicamente cuando el saldo final es menor que la cuota usual.Impacto: Los saldos adeudados bajos están generando fechas de vencimiento extendidas, lo cual parece incorrecto.2. Pasos para la Revisión a) Revisión de Cálculo de Fechas de VencimientoVerificar la lógica utilizada para calcular la fecha de vencimiento, especialmente en operaciones donde el saldo final es bajo.Revisar si existen reglas o excepciones aplicadas para ajustar automáticamente la fecha de vencimiento en función del saldo restante.b) Validación de Reglas de Amortización y CuotasAnalizar si el cálculo de las cuotas aplica correctamente en los casos donde el saldo final es menor que la cuota.Verificar si hay lógica adicional que ajusta el saldo en lugar de fijar el último pago en función del saldo real pendiente.c) Muestreo y Análisis de CasosExtraer una muestra de operaciones que presenten este comportamiento para analizar patrones o condiciones comunes.Evaluar si existen inconsistencias en la manera en que estas operaciones fueron registradas o procesadas.3. Pruebas y AjustesProponer o implementar ajustes en la lógica de cálculo, asegurando que, en operaciones con saldo bajo, el sistema no extienda la fecha de vencimiento de manera incorrecta.Realizar pruebas con casos simulados para validar que el ajuste en la lógica corrige el problema.Soluciones Posibles:1. Ajuste de la Lógica de Cálculo de la Fecha de VencimientoDescripción: Modificar el cálculo de la fecha de vencimiento para que no se extienda en operaciones con saldo final menor a la cuota regular.Implementación: Incluir una condición en la lógica que:Cuando el saldo final sea menor a la cuota habitual, la fecha de vencimiento no se extienda automáticamente en 30-31 días.La fecha de vencimiento se fije en la fecha de pago de la última cuota en lugar de generar un plazo adicional.2. Revisión de Reglas de Amortización y Pagos FinalesDescripción: Aplicar una regla en el cálculo de cuotas para ajustar automáticamente el monto de la última cuota si el saldo es menor que la cuota habitual.Implementación: Configurar la lógica de cálculo de cuotas para que la última cuota sea equivalente al saldo final, en lugar de replicar la cuota fija.17

Sistema Relacionado: Core GeneralFlujo relacionado:Causa:Solución:Causa raíz relacionado:18

. 19

INC-4038-no genera reportes en el sistema sysdeDescripción del ProblemaEl sistema Sysde no está generando los comprobantes de aplicación en las transacciones, lo cual afecta la capacidad de los usuarios para obtener un registro de las operaciones.Análisis y Acciones TomadasSe identificó que el problema estaba relacionado con una configuración errónea, posiblemente afectada por una solicitud de parche anterior en WebLogic Sysde.Validación y CierreEl problema fue solucionado tras el reinicio del servidor. Se validó que la generación de comprobantes funcionara correctamente tras aplicar la solución.Solución AplicadaReinicio del servidor.Código ProporcionadoN/AResultadoLa generación de comprobantes se restableció y los usuarios pudieron obtener los registros de las transacciones.Notas AdicionalesSe recomienda monitorear el sistema y realizar pruebas periódicas para evitar futuros problemas derivados de configuraciones o actualizaciones.Sistema RelacionadoSysde.Flujo RelacionadoGeneración de comprobantes de aplicación en transacciones.CausaProblema de configuración posiblemente relacionado con un parche de WebLogic Sysde.SoluciónReinicio del servidor.20

Causa Raíz RelacionadaINC-3870: Problemas por Solicitud de parche de web logic Sysde ABIERTO Tipo de SoluciónWorkaround.Caso relacionadoINC-4038: no genera reportes en el sistema sysdeCOMPLETADO 21

INC-4033-Apoyo plataforma SYSDEDescripción del ProblemaEl sistema SYSDE estaba presentando un error y requería revisión.Análisis y Acciones TomadasSe identificó que el problema está relacionado con la causa raíz INC-3870, debido a la solicitud de parche de WebLogic para SYSDE.Validación y CierreSe procedió a reiniciar el servidor como medida correctiva.Solución AplicadaReinicio del servidor.ResultadoEl problema fue resuelto temporalmente mediante el reinicio del servidor.Notas AdicionalesSe recomienda revisar la estabilidad del parche para evitar recurrencias.Sistema RelacionadoSYSDE.Flujo RelacionadoPlataforma SYSDE.CausaError debido a problemas en WebLogic relacionados con un parche.SoluciónReinicio del servidor para restaurar la funcionalidad.Causa Raíz RelacionadaINC-3870: Problemas por Solicitud de parche de web logic Sysde ABIERTO Tipo de SoluciónWorkaround.22

Caso relacionadoINC-4033: Apoyo plataforma SYSDE RESUELTO 23

INC-4034-SYSDEDescripción del ProblemaLa plataforma SYSDE presenta un error en la opción "Sistemas - Administración de Clientes" al intentar buscar datos y extraer el KYC. Cuando ocurre el error, la página de la plataforma queda en blanco, obligando al usuario a volver a iniciar sesión.Análisis y Acciones TomadasSe identificó que el error podría estar relacionado con un problema previo documentado como "INC-3870", que señala problemas debido a una solicitud de parche en WebLogic de SYSDE.Validación y CierreSe realizó un reinicio del servidor para restaurar el servicio afectado.Solución AplicadaReinicio del servidor para solventar el problema y restaurar la funcionalidad del sistema.Código ProporcionadoN/AResultadoEl problema se resolvió y el sistema volvió a funcionar correctamente, permitiendo la búsqueda y extracción del KYC sin incidentes adicionales.Notas AdicionalesEl incidente parece estar relacionado con problemas previos documentados bajo el código INC-3870, lo que sugiere la necesidad de revisar las dependencias de los parches aplicados en WebLogic.Sistema RelacionadoSYSDE.Flujo RelacionadoAdministración de clientes, búsqueda y extracción de KYC.CausaProblemas con la aplicación de un parche de WebLogic que afectaba el funcionamiento del sistema SYSDE.SoluciónReinicio del servidor para restaurar la funcionalidad.24

Causa Raíz RelacionadaINC-3870: Problemas por Solicitud de parche de web logic Sysde ABIERTO Tipo de SoluciónWorkaround.Caso RelacionadoINC-4034: SYSDERESUELTO 25

INC-3852 - El Salvador - No se aplica PLP - R-083511Propietario:José ValverdeFecha:29-10-2024Sistema Relacionado:SV_CORE / Aplicación de Plan de Liquidación de Pagos (PLP)Causa Principal:Los intereses de las cuotas no estaban calculados correctamente debido a que la cuenta fue separada en un momento previo, lo que alteró los valores de los intereses y bloqueó la aplicación del PLP. Esta situación impidió que las cuotas cumplieran las validaciones necesarias para aplicar la política del perdón.Descripción del Problema:El cliente R-083511 reportó que, aunque se mostraba la opción de aplicar el PLP en el sistema, no se reflejaba en el Estado de Cuenta (EC). Esto bloqueaba el proceso de pago y mantenía al cliente en alta mora. Se detectaron inconsistencias en los intereses de las cuotas debido a la separación de la cuenta y un intento fallido de aplicar la política de perdón.Análisis y Acciones Tomadas:Identificación del Problema:Separación de la Cuenta: La cuenta fue separada previamente, lo que dejó los intereses mal calculados.Intento Fallido de Aplicación del PLP: Aunque la opción de aplicar el PLP aparecía disponible, no se reflejaba en el Estado de Cuenta.Problemas Persistentes: A pesar de las correcciones, la cuenta seguía sin permitir la aplicación del PLP debido a que los intereses vencidos no se registraban correctamente.Acción Correctiva:Se ajustaron los saldos e intereses de las cuotas para que cumplieran las validaciones necesarias y así permitir la aplicación del PLP: Consultas Realizadas:1. Verificación de Saldos y Estados del Cliente: 2. Consulta de Cuotas Afectadas: 1begin tran;23update dbo.stc_blp_tradicional_cuota 4   set saldo_interes = 7.393436, saldo_amortizacion = 81.606564 5   where id = 4806964;67update dbo.stc_blp_tradicional_cuota 8   set saldo_interes = 74.382672, saldo_amortizacion = 14.617328 9   where id = 4775224;1011update dbo.stc_blp_tradicional_cuota 12   set saldo_interes = 77.4747, saldo_amortizacion = 11.5253 13   where id = 4743764;1415commit;1select b.saldo_actual, b.fk_stc_par_status, b.INTERES_DEVENGADOS, 2       b.SALDO_INTERESES, b.pagare3from dbo.stc_blp_tradicional_cliente a with (nolock)4inner join SV_CORE.dbo.stc_blp_tradicional_cliente_detalle b 5   with (nolock) on b.fk_stc_blp_tradicional_cliente = a.id6where a.NUMERO_CUENTA = 'R-083511';1select Nivel, Estado, secuencia_cuota, Fecha_Ultimo_Pago2from dbo.stc_blp_tradicional_cuota with (nolock)3where id_tradicional = (4  select pk_stc_blp_tradicional_cliente_detalle 5  from dbo.stc_blp_tradicional_cliente_detalle with (nolock) 6  where pagare = 'R-08351100'7) 8order by id desc;26

3. Verificación del Proceso de Aplicación de PLP:Verificación de Actualizaciones:Después de realizar las actualizaciones, se revisó que las cuotas se encontraran en estado pendiente (3) y que los saldos se actualizaran correctamente.Si el problema persiste, se recomienda revisar las validaciones dentro del proceso PA_PRO_APLICAR_PLP para asegurarse de que los estados y los montos sean válidos.Validación y Cierre:1. Revisión Adicional:Se actualizó el saldo e intereses de las cuotas afectadas para asegurar consistencia: 2. Confirmación de Continuidad:Se verificó que todas las cuotas avanzaran al estado correcto (estado = 2): Resultados:Las cuotas afectadas se actualizaron con los saldos correctos y el proceso de cobro pudo continuar.La validación interna confirmó que las condiciones para aplicar el PLP se cumplieron.Recomendaciones y Próximos Pasos:1. Monitorear: Supervisar las solicitudes del cliente para confirmar que el flujo se mantenga sin interrupciones.2. Revisión Adicional: Verificar otras cuentas con plazos prolongados de mora para evitar bloqueos similares.Etiquetas Solución:Ajuste de SaldosValidación de EstadosAplicación Manual de PLPContinuidad Operativa1exec dbo.PA_PRO_APLICAR_PLP;1update SV_CORE.dbo.stc_blp_tradicional_cliente_detalle 2   set SALDO_INTERESES = 458.3965887509, INTERES_DEVENGADOS = 7.393436;1update dbo.stc_blp_tradicional_cuota 2   set saldo = 0, estado = 2 3   where id in (4681812, 4651302);27

INC-3812 - Venta de SOC con datos incorrectosDescripción del ProblemaEl cliente presentó discrepancias en la información de salario entre diferentes sistemas. En SOC se registró un salario de 862,079, en Blaze se mostró un salario de 9,576,165, y en Carga Caja el valor fue cero. Estas inconsistencias generaron confusión sobre cuál oferta debía asignarse, lo cual podría afectar la toma de decisiones comerciales.Análisis y Acciones Tomadas1. Identificación del Problema: Se identificaron diferencias significativas en los datos del salario de un cliente entre los sistemas SOC, Blaze, y Carga Caja, lo cual generó incertidumbre en el proceso de venta.2. Posibles Causas del Error:Error en la Sincronización de Datos: Los procesos de sincronización entre los sistemas podrían no haberse ejecutado correctamente.Diferencias en las Reglas de Cálculo o Actualización: Cada sistema puede tener reglas diferentes para calcular o actualizar los datos.Error Manual en el Ingreso de Datos: El ingreso incorrecto de los datos por parte del asesor podría haber causado las diferencias.3. Acciones Inmediatas:Se realizó una validación exhaustiva de los datos del salario en cada sistema afectado para identificar la fuente de las discrepancias.Se procedió con la sincronización manual de los datos correctos (salario de 862,079) en todos los sistemas para unificar la información y asegurar la consistencia.4. Depuración Técnica:Se ejecutó un procedimiento almacenado (SP) denominado PA_REP_FLUJO_BASE_BLAZE_CR para depurar y encontrar la tabla con la información incorrecta. Esto ayudó a determinar qué datos debían modificarse.5. Corrección de Datos:Se utilizó un script SQL para corregir los datos del reporte en la base de datos de STAGE_REPORTES. Primero, se consultaron los registros afectados y luego se realizó una actualización para corregir los valores del salario.Validación y CierreDespués de la corrección, se validaron los datos en los sistemas afectados para asegurarse de que la información estuviera alineada.Se verificó que el salario correcto (862,079) se reflejara en SOC, Blaze, y Carga Caja.Solución AplicadaSe realizó una sincronización manual de los datos para garantizar la consistencia entre los sistemas.Corrección en DWH: Los datos fueron corregidos en el reporte de DWH para asegurar que la información fuera precisa y consistente.Notas AdicionalesSe recomienda implementar un proceso automatizado de verificación de datos entre sistemas para identificar posibles discrepancias antes de que afecten los procesos de negocio.Se deben establecer alertas automáticas que notifiquen cuando existan discrepancias significativas en la información entre los sistemas.Sistema Relacionado: Core, Soc, Sistema de reportes28

Flujo Relacionado: Reporte base flujo blazeCausaError en la Sincronización de Datos y Diferencias en las Reglas de Actualización: Las discrepancias fueron causadas por una combinación de errores de sincronización entre sistemas y un posible error manual al ingresar los datos.SoluciónCorrección Manual de los Datos: Se corrigieron los datos en el reporte de DWH para asegurar la consistencia.Causa Raíz RelacionadaNo aplica: El incidente se presentó por un error en el ingreso de datos por parte del asesor.Tipo SoluciónWorkaround: Se optó por una corrección manual mientras se revisan y mejoran los procesos de actualización y sincronización.Código ProporcionadoScript SQL: Procedimiento Almacenado (SP):1USE STAGE_REPORTES;2--UPDATE 13SELECT TOP 1004       Fecha_Hora,5       IngresosBrutos,6       IngresosT,7       [Variables - Income - AsignacionIngresos],8       [Variables - Income - CalcularIncome],9       *10FROM [rpt].[BOM_REP_NODOS_XML_PIVOT_CR]11WHERE Cedula = '105450716'12      AND PK_BOM_REP_NODOS_XML_PIVOT_CR IN ( ... )13ORDER BY PK_BOM_REP_NODOS_XML_PIVOT_CR DESC;1415--UPDATE 216BEGIN TRAN;17UPDATE [rpt].[BOM_REP_NODOS_XML_PIVOT_CR]18SET IngresosT = 86207919WHERE Cedula = '105450716'20      AND PK_BOM_REP_NODOS_XML_PIVOT_CR IN ( ... );2122COMMIT;23ROLLBACK;1EXEC stage_reportes.rpt.[PA_REP_FLUJO_BASE_BLAZE_CR] @Cedula = '',      -- varchar(30)2                                                     @FechaInicio = '', -- varchar(20)3                                                     @FechaFin = '',    -- varchar(20)4                                                     @BCarga = '',      -- varchar(10)5                                                     @BVentas = '',     -- varchar(10)6                                                     @BAprobadas = '',  -- varchar(10)7                                                     @P_USUARIO = ''    -- varchar(50)29

 ResultadoLos datos de salario se corrigieron manualmente y fueron sincronizados en todos los sistemas afectados para reflejar el valor correcto (862,079).Respuesta a negocio:La solución aplicada consistió en unificar y corregir los datos del cliente en los sistemas SOC, Blaze y Carga Caja, asegurando que el salario reflejado sea consistente (862,079). Esto permite tener claridad sobre la oferta correcta. El error fue causado por una incorrecta carga de información realizada por el área de negocio durante el registro inicial.30

INC-3906 - Validación de Envío de MensajesDescripción del problemaSe solicitó apoyo para validar el envío de un mensaje de la financiera al cliente con número 86150343 (Ariel de Jesús Novoa Obando), específicamente en el mensaje que contiene un monto preaprobado. Este mensaje levantó sospechas de fraude al cliente debido a su contenido y a que el cliente se encuentra en "Cartera Separada".Análisis y Acciones TomadasAnálisis inicial: Se revisó el mensaje en la plataforma interna de envío y, en conversaciones con el equipo de Mercadeo, se concluyó que el mensaje corresponde a campañas de envíos masivos de prospectos.Acciones:Confirmación del Envío: Se validó que el envío se realizó el 22 de octubre y que fue parte de una campaña de prospectos gestionada por el equipo de Mercadeo.Verificación en Sistemas: En el sistema Postman se corroboró que el número está asociado a Ariel Novoa, quien está en Cartera Separada. Esto generó el incidente, ya que el mensaje fue enviado al número antes de identificar la asociación con Ariel en los sistemas de marketing.Consulta con Marketing: Se confirmó con el equipo de BI, Fraude y Mercadeo que el mensaje es parte de campañas estándar para prospectos y que las campañas indican: sujeto a condiciones.Solución del CierreSe mantendrá en revisión la configuración de la segmentación en la plataforma de envíos masivos de parte de Fraude, para evitar envíos similares en el futuro a clientes en "Cartera Separada". De parte de Katherine, va a indicarle a SAC que actualice el número a este cliente para que el sistema no lo tome. Se sugirió al equipo de fraude cerrar el caso considerando que el mensaje sigue las condiciones de campaña establecidas y aplica condiciones específicas.Sistema RelacionadoPlataforma UcontactPostmanCausaEl número asociado a Ariel Novoa Obando fue considerado como prospecto en las bases de datos de Mercadeo y, debido a una falta de actualización DWH y el CORE, se le envió un mensaje de campaña pese a su estatus en Cartera Separada.SoluciónImplementación de ajustes en la segmentación de la base de datos para mejorar la validación de estatus de clientes en campañas futuras. Además, se verificará con BI que los números en Cartera Separada sean excluidos de futuras campañas de envío masivo. Causa-raíz: Causa raíz no APLICA (7108754)Catalogo de lista negraProblemas al cargar Modulo Prequality Push (71154987)Envio de correos de oferta de crédito incorrecto Sistema Relacionado: MKT - Verificación campaña SMSFlujo relacionado: SMS a prospectos // UContact31

INC-3894 CR. Flujo de crédito incorrecto WEBDescripción del problema:El cliente realizó la solicitud de crédito a través de la plataforma web, pero el proceso quedó detenido en el paso 8 de manera incorrecta. El flujo no avanzó como se esperaba, generando la necesidad de investigar por qué el trámite quedó en dicho estado. Posteriormente, al intentar reprocesar al cliente, el sistema lo colocó en el estado 2.2 ("Ingrese contraseña"), y se detectó que una de las tablas del sistema no tiene registrada la contraseña del cliente, lo que podría estar bloqueando el avance del flujo. Análisis y acciones tomadas:Análisis inicial: Se identificó que el comportamiento podría estar relacionado con otro incidente resuelto recientemente mediante la aplicación de un fix.Acción: Se procedió a reprocesar al cliente.Código proporcionado:-- Consulta de información del cliente SELECT TOP 100 * FROM RG_SUCURSAL_VIRTUAL..SUV_MTR_USUARIO WITH(NOLOCK) WHERE IDENTIFICACION = '109970035'; -- Consulta de logs relacionados al usuario SELECT TOP 100 * FROM RG_SUCURSAL_VIRTUAL..SUV_LOG_SOLICITUD_USUARIO WITH(NOLOCK) WHERE FK_SUV_MTR_USUARIO IN (737392) ORDER BY PK_SUV_LOG_SOLICITUD_USUARIO DESC; -- Transacción para modificar el estado BEGIN TRAN; UPDATE RG_SUCURSAL_VIRTUAL.dbo.SUV_LOG_SOLICITUD_USUARIO SET FECHA_MODIFICACION = GETDATE() WHERE PK_SUV_LOG_SOLICITUD_USUARIO IN (856767); --PK_SUV_LOG_SOLICITUD_USUARIOROLLBACK; COMMIT;Resultado del reprocesamiento: Tras la ejecución del script, el cliente pasó del paso 8 al estado 2.2 ("Ingrese contraseña"). Sin embargo, sigue pendiente que el cliente complete el proceso para que se pueda cambiar de estado.Validación y cierre:Validación del equipo: El equipo de soporte confirmó que el cliente no ha completado el flujo, por lo que es necesario que lo finalice para que el sistema lo actualice correctamente.Solución aplicada:Reprocesamiento del cliente mediante un fix previo que permitió pasar del paso 8 al estado 2.2.Modificación de registros en la tabla relacionada utilizando el script SQL proporcionado.Resultado:El cliente fue reprocesado y pasó del paso 8 al estado 2.2 ("Ingrese contraseña").El flujo aún no se ha completado, por lo que se requiere que el cliente ingrese su contraseña y finalice el proceso para que el sistema lo actualice correctamente.32

Sistema Relacionado:Sistema: HubSpotFlujo relacionado: Integración de HubSpotCausa:El cliente quedó en el paso 8 debido a la falta de una lógica dentro del proceso que realiza este flujo, además no tenía una contraseña registrada en las tablas del sistema, lo que impidió que avanzara correctamente en el proceso de crédito.Solución:Se procedió con un fix asociado a un caso similar al reportado donde adicionalmente, se reprocesó manualmente al cliente mediante realizando ajuste en los registros del sistema para permitir que el flujo avanzara al siguiente estado correctamente.Causa raíz relacionada:INC-4062: Causa Raíz: Lógica incompleta en la asignación de estados hubspotCERRADO Tipo de solución: Fix33

INC-3954 - Cliente Activo no se encuentra en Reporte de Sysde "Clientes y Saldos"Descripción del problema: Cliente activo desde diciembre de 2023 no aparecía en el reporte "Consulta Clientes y Saldos". Se solicitó una revisión integral para asegurar que todos los clientes activos estuvieran reflejados.Análisis y acciones tomadas: Se revisó el reporte en el sistema Sysde y, tras la validación, se comprobó que el cliente estaba correctamente reflejado.Validación y cierre: La validación demostró que el cliente está presente en el reporte. No se identificaron errores o inconvenientes adicionales, por lo que el caso se cierra.Solución aplicada: Verificación directa en el sistema Sysde, confirmando que el cliente aparece correctamente en el reporte.Código Proporcionado: N/AResultado: Caso cerrado satisfactoriamente al confirmar la presencia del cliente en el reporte.Notas adicionales: Ninguna.Sistema Relacionado: Sysde.Flujo relacionado: Reporte "Consulta Clientes y Saldos".Causa: La situación parece haber sido una discrepancia temporal o un problema de visualización en el sistema que se resolvió con una verificación.Solución: La verificación en el sistema mostró que el cliente estaba incluido en el reporte, sin requerir ajustes adicionales.Tipo de Solución: N/A.Causa raíz relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO Caso relacionado: INC-3954: Cliente Activo no se encuentra en Reporte de Sysde "Clientes y Saldos"COMPLETADO 34

INC-4063-El Salvador Diferencia en saldoDescripción del ProblemaDescripción del Problema: Las cuentas presentan un saldo diferente en el módulo Core comparado con el saldo reflejado en el módulo de Cartera. Esta discrepancia está generando confusión en el balance financiero del cliente.Posible Causa del Problema:1. Error de Sincronización: Puede haber problemas de sincronización entre ambos módulos, lo cual causa una falta de actualización de los saldos.2. Registros Incompletos o Incorrectos: Datos inconsistentes o no actualizados en alguno de los módulos podrían estar causando el desbalance.3. Problemas de Integración: Falla en la integración que impide la correcta actualización del saldo en los dos módulos.Análisis y Acciones Tomadas1. Revisión de Base de Datos: Validar los saldos en ambas bases de datos (Core y Cartera) para identificar la discrepancia.2. Sincronización de Datos: Corregir cualquier error de sincronización que esté causando que los saldos no coincidan.3. Pruebas de Validación: Una vez corregido, realizar pruebas para confirmar que los saldos coinciden en ambos módulos.Siguiente Paso: Coordinar con el equipo técnico para la aplicación de la corrección y comunicar al cliente una vez que el problema haya sido resuelto.Validación y CierreEl problema fue solucionado tras el resultado del análisis donde se encuentra que las cuentas muestran diferencias debido al campo saldo_actual que se encontraba en 0, se indica por medio del chat externo lo que pudo haber sucedido con las cuentas afectadas y se validar por ese medio.Solución AplicadaEl problema fue solucionado tras el resultado del análisis donde se encuentra que las cuentas muestran diferencias debido al campo saldo_actual que se encontraba en 0, se procede con la corrección en los saldos de las cuentas buscando el registro del último pago que si tenía el saldo que debía manejarse en el campo mencionado anteriormente.Código Proporcionado\\172.28.10.185\Compartida-Akros\Soporte\Binder Soporte a Produccion\SISTEMAS\Incidentes\2024\Octubre\HD_INC-4063-El Salvador Diferencia en saldoResultadoLa generación de comprobantes se restableció y los usuarios pudieron obtener los registros de las transacciones.Notas AdicionalesSe recomienda monitorear el sistema y realizar pruebas periódicas para evitar futuros problemas derivados de configuraciones o actualizaciones.Sistema RelacionadoCore35

Flujo RelacionadoOperaciones coreCausaProblemas de sincronización y falta de integración adecuada entre los módulos Core y Cartera.SoluciónPara resolver la discrepancia en los saldos, se propone realizar una revisión detallada de la base de datos para asegurar la correcta sincronización entre los módulos Core y Cartera. Se aplicarán correcciones manuales si es necesario, sincronizando nuevamente los datos y ajustando cualquier inconsistencia. Además, se efectuarán pruebas de validación para garantizar que los saldos coincidan y se ajusten correctamente en ambos módulos.Causa Raíz RelacionadaINC-1902: Cuentas con saldos incorrectosABIERTO Tipo de SoluciónCorrectiva.Caso relacionadoN/A 36

INC-4117 - CR. Digital. Seguro con monto en 0Descripción del Problema: El cliente mantiene un seguro congelado por un monto de 0. Este seguro no debería estar congelado ni tener un monto en 0. Se solicita averiguar qué usuario o proceso realizó el congelamiento y corregir el monto correspondiente.Referencia del Pagaré: R-186559.Posibles Acciones:1. Verificación de Historial de Cambios: Revisar los registros de auditoría del sistema para identificar qué usuario o proceso realizó el congelamiento del seguro y estableció el monto en 0.2. Análisis del Proceso de Congelamiento: Analizar si hubo un proceso automático que pudo haber causado el congelamiento incorrecto del seguro, revisando las reglas y condiciones que activan este tipo de acción.3. Revisión del Perfil del Cliente: Verificar los detalles del cliente y del seguro en cuestión para determinar si existen discrepancias o registros adicionales que puedan explicar el error.4. Validación de Montos del Seguro: Confirmar cuál es el monto correcto que debería tener el seguro y proceder a realizar la corrección manualmente si es necesario.5. Pruebas de Validación: Realizar pruebas en un entorno de control para asegurar que, al actualizar el monto del seguro, no se generen problemas adicionales.6. Corrección y Actualización: Descongelar el seguro y asignar el monto correcto en el sistema. Documentar las acciones realizadas para futuras referencias.Posibles Soluciones:1. Corrección Manual del Monto y Estado del Seguro: Una vez identificado el origen del congelamiento y la asignación del monto 0, realizar la corrección manual del monto del seguro, estableciendo el valor correcto y eliminando el estado de congelado.2. Ajuste de Procesos Automáticos: Si se determina que un proceso automático fue el responsable del error, ajustar las reglas y configuraciones del proceso para evitar futuras ocurrencias del mismo problema.3. Actualización de Información del Cliente: Asegurar que todos los datos del cliente estén actualizados y que no existan discrepancias entre diferentes módulos del sistema que pudieran causar errores como el congelamiento del seguro.4. Revisión y Corrección de Parámetros del Sistema: Verificar y, si es necesario, corregir los parámetros de configuración del sistema relacionados con la gestión de seguros, garantizando que los seguros no puedan ser congelados por error y que no se asignen montos inválidos.37

Sistema Relacionado: Módulo de Seguros, Core.Flujo Relacionado: CARGOS RECURRENTES.Causa Raíz Asociada: N/A.Tipo de Solución: N/A.Solución al Negocio: Se detectó que el cliente tiene dos cargos activos asociados a su cuenta: uno identificado como tipo 45, el cual tiene la forma de cobro configurada sobre la cuota actual, y otro identificado como tipo 47, cuya forma de cobro se basa en la línea de crédito disponible del cliente.Actualmente, el cliente se encuentra en el estado 16, también conocido como "re estructurado". Este estado implica que el cliente ha realizado una reestructuración de sus condiciones de crédito, lo cual limita las acciones que puede realizar sobre su línea de crédito y sus productos asociados. Debido a que el estado 16 corresponde a una situación de reestructuración, el cliente no tiene permitido realizar ampliaciones de su línea de crédito, ya que las políticas internas del sistema establecen que solo los clientes con un estatus de crédito "activo" pueden optar a ampliaciones. Esta limitación está programada en la lógica del sistema como parte de las medidas para controlar el riesgo crediticio y garantizar que solo los clientes con un perfil financiero sólido puedan ampliar sus compromisos crediticios.Como resultado de esta reestructuración, es correcto y esperado que el cargo recurrente del cliente se muestre con un saldo de 0. Esta situación refleja la naturaleza restringida del crédito para un cliente reestructurado, donde se evita la acumulación de nuevas obligaciones financieras hasta que se normalice la situación del crédito.Adicionalmente, se ha identificado que el cliente tiene dos tipos de cargos: uno de estos cargos se encuentra cancelado, mientras que el otro permanece congelado. Es importante destacar que el cargo congelado es el que muestra el saldo de 0. Este congelamiento se debe a las condiciones específicas del estado del cliente y a las restricciones impuestas por la reestructuración, lo cual asegura que el cliente no incurra en nuevas deudas mientras esté en un proceso de estabilización financiera.El comportamiento observado en el sistema es consistente con las políticas establecidas para clientes en estado de reestructuración, y no se requiere ninguna corrección adicional en los cargos mostrados. La lógica implementada en el sistema está funcionando como se espera para proteger tanto al cliente como a la entidad financiera de riesgos adicionales durante el periodo de reestructuración del crédito.ResultadoSe procedió a realizar la auditoría de los cambios y se está revisando la consistencia en los estados y los saldos de las cuentas involucradas. Hasta el momento, la solución final está pendiente de la revisión de la auditoría.Código ProporcionadoPara ayudar en el análisis y en la identificación de cuentas afectadas, se proporcionó el siguiente script SQL:Notas AdicionalesPendientes: Se requiere la auditoría completa para identificar todos los cambios inapropiados y entender el origen del problema.1SELECT a.id_cliente,2       b.pagare,3       b.fk_stc_par_status,4       b.saldo_actual,5       c.FECHA_ACTIVACION,6       c.FECHA_ULTIMO_DESCARGO,7       c.FK_PSE_CAT_TIPO_CARGO,8       c.FK_UTL_CAT_ESTADO9FROM dbo.stc_blp_tradicional_cliente a WITH(NOLOCK)10INNER JOIN dbo.stc_blp_tradicional_cliente_detalle b WITH(NOLOCK) ON b.fk_stc_blp_tradicional_cliente = a.id11INNER JOIN dbo.CRT_TRA_EXPEDIENTE c WITH(NOLOCK) ON c.FK_STC_BLP_TRADICIONAL_CLIENTE_DETALLE = b.pk_stc_blp_trad12WHERE b.fk_stc_par_status IN (10, 13, 19, 16) 13  AND c.FK_UTL_CAT_ESTADO = 3;38

Solución Temporal (Workaround): Hasta que se complete la auditoría y se apliquen las correcciones, se procederá a corregir los estados de las cuentas afectados de manera manual.39

INC-4047-Seguros colones cargados automáticamente a cuenta en dólaresParece que estamos ante un error similar al incidente INC-2803. En este caso, el cliente con ID R-170492 ha recibido un cargo incorrecto de 2800 colones en su estado de cuenta en dólares.Sugiero que realicemos los siguientes pasos:1. Verificar el origen del cargo: Revisar en el sistema si el cargo de colones fue procesado de manera errónea en la cuenta de dólares.2. Ajustar el cargo: Si se confirma que el cargo fue incorrecto, realizar el ajuste correspondiente para eliminarlo de la cuenta en dólares del cliente.3. Notificar al cliente: Comunicar al cliente sobre la corrección y ofrecer disculpas por el inconveniente.Solución ImplementadaLa solución se llevó a cabo en tres pasos, enfocándose en corregir la moneda del expediente, cancelar los cargos incorrectos, y finalmente eliminar registros no válidos del sistema.Paso 1: Revisión y Corrección del ExpedienteVerificación del Estado del Expediente: Se revisó si el expediente estaba activo en el sistema core y se confirmó si la moneda era la correcta.Actualización del Estado del Expediente: Si el expediente tenía una moneda incorrecta, se actualizó su estado a 4 (cancelado) mediante el siguiente UPDATE: De esta manera, el expediente se cancela ya que se detectó una discrepancia en la moneda.Paso 2: Cancelación de los Cargos IngresadosSelección de Cargos Asociados al Expediente: Se consultaron los cargos asociados al detalle del cliente para obtener información de los mismos:Cancelación de los Cargos: Se procedió a cancelar los cargos asociados al expediente incorrecto. Se actualizaron los cargos a un estado 4 y se estableció el saldo a 0:De esta forma, los cargos se marcan como cancelados y no tienen saldo pendiente.1BEGIN TRAN2 UPDATE dbo.CRT_TRA_EXPEDIENTE SET FK_UTL_CAT_ESTADO = 43  WHERE PK_CRT_TRA_EXPEDIENTE = <ID_EXPEDIENTE>4ROLLBACK COMMIT1SELECT TOP 100 * FROM dbo.PSE_TRA_CARGOS_CUOTA WITH (NOLOCK)2 WHERE FK_STC_BLP_TRADICIONAL_CLIENTE_DETALLE = <ID_CLIENTE_DETALLE>40

Paso 3: Eliminación de Cargos desde el CoreEliminación de Registros Relacionados: Finalmente, se generó un DELETE en cascada para eliminar todos los registros relacionados con los pagos y cargos incorrectos. Se generaron comandos de eliminación de varias tablas involucradas:Estas consultas eliminan los pagos, registros de pagos, y cualquier referencia en las tablas relacionadas, además de actualizar el estado de la transacción a 33 (indicado como "Reversión de cargo No procede")ResultadoCon esta solución, se corrigió el problema de los cargos en moneda incorrecta al:Cancelar expedientes y cargos asociados que estaban en la moneda equivocada.Marcar como cancelados los cargos con estado 4 y saldo 0.Eliminar todos los registros de pagos no válidos y revertir los cargos del cliente.Estas acciones aseguraron que el cliente no tuviera cargos incorrectos en su cuenta y se evitó que los expedientes incorrectos afectaran otros procesos.Código ProporcionadoN/AResultadoCorrección la cuenta en dolares, con cargos cargados en colonesNotas AdicionalesOperaciones en colones ligadas a Cargos recurrentes con moneda dólar CRSistema RelacionadoCoreFlujo RelacionadoOperaciones CoreCausaProblemas de sincronización y falta de integración adecuada entre los módulos Core y Cartera.1SELECT CONCAT(2  'DELETE stc_blp_tradicional_pago where id =', id, ' and id_tradicional = ', id_tradicional, '; ',3  'DELETE stc_blp_tradicional_pago_registro where id_pago =', id, ' and id_tradicional = ', id_tradicional, '4  'DELETE PSE_TRA_PAGO_CUENTA where FK_STC_BLP_VALIDAPAGO =', id_validapago, ';',5  'DELETE PSE_LOG_TRANSACCION_CUOTA where FK_ID_VALIDA_PAGO =', id_validapago, ' and FK_STC_BLP_TRADICIONAL_C6  'update stc_blp_validapago SET FK_PSE_CAT_TRANSACCION_STATUS = 33, comentario =''Reversion de cargo No proc7)8FROM dbo.stc_blp_tradicional_pago WITH (NOLOCK)9WHERE id IN (<LISTA_IDS_PAGOS>)1041

SoluciónPara resolver la discrepancia en los saldos, se propone realizar una revisión detallada de la base de datos para asegurar la correcta sincronización entre los módulos Core y Cartera. Se aplicarán correcciones manuales si es necesario, sincronizando nuevamente los datos y ajustando cualquier inconsistencia. Además, se efectuarán pruebas de validación para garantizar que los saldos coincidan y se ajusten correctamente en ambos módulos.Causa Raíz RelacionadaCuenta en dolares presenta seguros cobrados en colones.Tipo de SoluciónCorrectiva.Caso relacionadoN/A42

INC-4085 - Reporte no muestra pagaréCliente: MARIA PAOLA VIQUEZ CASTILLO (cédula: 116770980)Descripción del Problema: La usuaria reporta que, al generar el reporte de transacción SINPE, no se refleja el pagaré en el reporte del cliente MARIA PAOLA VIQUEZ CASTILLO (pagaré: R-201774). El problema impide que el cliente visualice la información completa sobre sus transacciones.Posible Causa del Problema:1. Error en el Registro del Pagaré: Falta de vinculación del pagaré al perfil del cliente en la base de datos.2. Fallo en la Actualización de Datos: Problemas de sincronización entre el módulo de cuentas/pagarés y el sistema de reportes.3. Filtros de Reporte Incorrectos: Filtros de búsqueda que están excluyendo el pagaré del reporte.Acciones Realizadas:1. Verificación de Base de Datos: Confirmar si el pagaré R-201774 está vinculado correctamente al cliente con cédula 116770980 en el módulo de pagarés y en el módulo de reportes.2. Revisión de la Integración de Módulos: Evaluar el proceso de sincronización de datos entre los módulos para garantizar la correcta transmisión de información.3. Pruebas de Generación del Reporte: Realizar una prueba manual de generación del reporte SINPE para confirmar si el pagaré es incluido.Sistema Relacionado: Sistema de reportesFluo relacionado: Reporte transferencias sinpeeTipo de Solución: WorkaroundCausa Raíz Relacionada: INC-4149 - Reporte transacción sinpePosibles Soluciones:1. Corrección de la Asociación del Pagaré: Si el pagaré no está correctamente vinculado, realizar la asociación manual y actualizar los registros del cliente.2. Actualización del Módulo de Reportes: Ajustar el proceso de integración para asegurar que la información del pagaré se refleje correctamente en el reporte.3. Reconfiguración de Filtros de Reporte: Ajustar los filtros del reporte para que incluya todos los pagarés asociados al cliente.Siguientes Pasos:1. Comunicación con la Usuaria: Contactar a la usuaria una vez que el problema esté solucionado.2. Validación con el Cliente: Generar un reporte actualizado y validar con la cliente si la información es correcta.3. Documentación del Proceso: Documentar el proceso de solución y los ajustes realizados para referencia futura.Solución Aplicada: Para resolver el problema, se decidió insertar manualmente el registro faltante en la tabla correspondiente. Se utilizó el siguiente query para la solución:1INSERT INTO CR_CORE.dbo.STC_TRA_TRANSFERENCIA_AUTOMATICA2(3    FK_STC_BLP_TRADICIONAL_CLIENTE,4    FK_STC_TRA_TRANSFERENCIA,5    FK_LOTE,6    FK_STC_CAT_ESTADO_TRANSFERENCIA_AUTOMATICA,7    INT_NUMERO_INTENTO,8    DEC_MONTO,43

Solución al Negocio: Después de validar el reporte, se confirmó que la transferencia del 28 de octubre se muestra correctamente para la fecha. Se realizó una corrección para vincular adecuadamente el pagaré R-201774 en el sistema y garantizar que aparezca en el reporte de transacción SINPE.9    FK_STC_PAR_MONEDA,10    FK_STC_CAT_ESTADO_TRANSFERENCIA_AUTOMATICA_NOTIFICACION_CLIENTE,11    FK_STC_CAT_TIPO_TRANSFERENCIA_AUTOMATICA,12    INT_ID_TIPO_TRANSFERENCIA,13    STR_FECHA_TRANSACCION,14    STR_FECHA_NOTIFICACION_CLIENTE,15    STR_USUARIO_CREACION,16    STR_FECHA_CREACION,17    STR_USUARIO_MODIFICACION,18    STR_FECHA_MODIFICACION19)20VALUES21(22    292399, -- FK_STC_BLP_TRADICIONAL_CLIENTE - int23    7679620, -- FK_STC_TRA_TRANSFERENCIA - int24    '72C026CD-B5CE-401A-A265-B7D18B02E3BB', -- FK_LOTE - uniqueidentifier25    2, -- FK_STC_CAT_ESTADO_TRANSFERENCIA_AUTOMATICA - int26    1, -- INT_NUMERO_INTENTO - int27    25000.0000000000, -- DEC_MONTO - decimal(20, 10)28    1, -- FK_STC_PAR_MONEDA - int29    1, -- FK_STC_CAT_ESTADO_TRANSFERENCIA_AUTOMATICA_NOTIFICACION_CLIENTE - int30    3, -- FK_STC_CAT_TIPO_TRANSFERENCIA_AUTOMATICA - int31    0, -- INT_ID_TIPO_TRANSFERENCIA - int32    '2024-10-28 09:08:29.000', -- STR_FECHA_TRANSACCION - datetime33    '2024-10-28 09:08:29.000', -- STR_FECHA_NOTIFICACION_CLIENTE - datetime34    'AzureFunctionTrans', -- STR_USUARIO_CREACION - varchar(50)35    '2024-10-28 09:08:29.000', -- STR_FECHA_CREACION - datetime36    NULL, -- STR_USUARIO_MODIFICACION - varchar(50)37    '2024-10-28 09:08:29.000' -- STR_FECHA_MODIFICACION - datetime38);44

INC-4081-SOC permitió avanzar a una venta con cuenta en Cartera SeparadaIncidente: INC-4081Cliente: 109550655Descripción del problema:Durante el proceso de venta para el cliente 109550655, se permitió avanzar la transacción hasta la etapa del flujo 3. En esta etapa, se realizó una revisión manual del Buró de Crédito, donde se identificó que el cliente tenía un juicio en curso con "Beto", relacionado con la cuenta separada T-13694. Por este motivo, la venta fue rechazada. El sistema no debió permitir que la venta llegara hasta esa etapa.Acciones realizadas:1. Se avanzó la venta hasta el flujo 3, momento en el cual se realizó una revisión manual por parte del equipo.2. Se detectó que el cliente tiene un juicio activo con "Beto", lo que llevó al rechazo de la venta en esa etapa.3. Al validar el estado del cliente, se confirmó que este se encuentra en "cancelado cartera separada".Resumen de la investigación:El rechazo de la venta en el flujo 3 fue incorrecto, ya que el estado del cliente "cancelado cartera separada" es válido para permitir la venta. Se propone ajustar las reglas de validación para reconocer este estado como adecuado para la venta, evitando rechazos innecesarios en etapas avanzadas.Sistema relacionado: Ventas SOCFlujo relacionado: Originación CrediticiaCausa raíz relacionada: INC-4154: Ventas en estado cancelado separado deja avanzar flujo 1 de SOCABIERTO Tipo solución: WorkaroundSolución al negocio: Se validó la tabla de base de datos mediante la consulta SELECT * FROM dbo.ventas_status WHERE permite_venta=1, para asegurar que el estado "cancelado cartera separada" esté permitido para continuar con la venta. Además, se pasó un listado al negocio con los estatus válidos que aplican a ventas nuevas, entre ellos el estado 33 "cancelado cartera separada". La tabla con los estados válidos es la siguiente:10Activo13Coordinado14Inventario15Oficina16Recordinación17Revisar18Ruta1000cola_impresion1001pendiente_idcheck50Pendiente Cambio51Rechazo Cambio52Aprobado CambioID de Ventas StatusNombre45

*Solución paso a paso Negocio indico cambiar el bit al tabla de catálogos 53Realizado Cambio30Pendiente40Pendiente revisión43Alerta fraude44Fraude46Cola aumento linea38Pendiente de Score39Esperando Score TUCA54Bandeja Salvamento33Cancelado-Separado55Reprogramada Bandeja Salvamento2000impresion_automatica2010proceso_impresion_automatica2020error_impresion_automatica999Inactivo2030Sin Desembolso2100Impresion_automatica_LINK2110Proceso_Impresion_automatica_LINK2120Error_Impresion_automatica_LINK 1USE F2P_VENTAS_CR23EXEC PA_CON_POSEE_VENTA @STR_IDENTIFICADOR=N'109550655',@STR_MARCA=N'1'456EXEC CR_CORE..PA_CON_CLIENTE_ACTIVO @pSTR_IDENTIFICADOR = N'109550655',7                        @pSTR_IDENTIFICADOR_UNICO = '',8                        @pINT_TIPO_FLUJO = 0;91011SELECT * FROM dbo.ventas_status WITH(NOLOCK) WHERE permite_venta=11213-- solucion del caso 14BEGIN TRAN 15UPDATE   dbo.ventas_status SET permite_venta=0,nombre='Cancelado CS' WHERE id_ventas_status=3316ROLLBACK TRAN 17commit TRAN 46

INC-3005 - Error en provisión de intereses Certificados 29 y 30 septiembreDescripción del problema:Hubo un error en el sistema que impidió la provisión de intereses para ciertos certificados en las fechas del 29 y 30 de septiembre, impactando los reportes de cierre trimestral.Análisis y acciones tomadas:Se realizó una llamada con la persona que creó el caso para profundizar en el tema. Durante la conversación con los expertos, se determinó que los intereses no fueron provisionados correctamente, confirmando la ausencia de esos valores en los reportes.Esto llevó a la decisión de realizar un ajuste manual en los certificados afectados.Validación y cierre:Se verificó que los certificados afectados ahora incluyan las provisiones de intereses correspondientes, asegurando la precisión del reporte al 30 de septiembre.Solución aplicada:Se ejecutó un insert manual de intereses en los certificados para corregir los reportes trimestrales.Código Proporcionado:No se ha incluido código en este reporte. La provisión se realizó mediante una inserción manual validada por el equipo.Resultado:El reporte al 30 de septiembre refleja correctamente los intereses para los certificados, cumpliendo con los requisitos de auditoría.Notas adicionales:Este ajuste fue prioritario por la implicación en auditorías del cierre trimestral.Sistema Relacionado:Módulo de provisión de intereses del sistema financiero.Flujo relacionado:Procesos de cierre mensual y trimestral para reportes de certificación de intereses.Causa:Error en el proceso automático de provisión de intereses, posiblemente por un fallo en la configuración o una actualización no aplicada correctamente.Solución:Se aplicó un insert manual en la base de datos, validado por el equipo, para asegurar la precisión en los reportes trimestrales.Tipo de Solución:Workaround Causa raíz relacionada:INC-4167: Provisión de intereses Certificados falta los datosABIERTO Caso relacionado:INC-3005: Error en provisión de intereses Certificados 29 y 30 setiembreCOMPLETADO 47

   Para generar el reporte y validar seguir la siguiente ruta (hacer antes y después de las correcciones)Nota los querys para insertar las líneas están abajo48

En esta parte en agencia le damos enter igual que en cartera, luego ponemos la fecha del reporte y la dirección donde queremos el reporte. Le damos al icono marcado al terminar de llenar esos datosel genera los datos y nos mandara a la siguiente parte, darle al icono. Punto importante en un par de seg te saldrá un mensaje como que termino pero debes esperar a que no salga lo que marque en amarillo, cuando eso súdese ya termino Nota: si no les sale como en la imagen de abajo deben pedir permisos para ese reporte en particular esto es lo que sucede cuando dice que esta listo, el crea 2 archivos, uno el log y el otro el txt que es el que nos interesa. Asta que termine le pondrá peso entonces es esperar49

Una vez termine abrimos Excel y le damos abrir, buscamos en la ubicacion donde dejaron el archivo y le dan para ver todos los archivos. Lo seleccionan y seguir los siguientes pasos50

Aquí vamos al final y pondremos 3 nuevas columnas, Días, Calculo Manual y DifDías =SI(O(IZQUIERDA(V3; 2) = "43"; IZQUIERDA(V3; 2) = "44"; IZQUIERDA(V3; 2) = "49"; IZQUIERDA(V3; 2) = "51"); 365; 360)Calculo Manual  =+(R3*P3%)/AN3    (NOTA: cuando tengamos este seguimos la imagen de abajo para que cuadre si no la dif va a quedar mal)Dif  =AO3-AK351

Debe quedar en 0 o similares todas, en este caso se tienen 2 que no tienen pero eso es un caso especial el caso es que esas 2 están vencidas entonces no debe generar por lo que esta bien.52

  Insertar los registros si faltan Query usado para revisar si el cliente tiene un registro del día antes al que insertaremos, si no tiene es un caso diferente y se debe hacer todo manual, mas abajo explico como. si tiene mas de uno se debe ver como hacer los inserta ya que esto esta echo para que si se debe insertar ejemplo del 30, salga solo el 29 y ya cuando se inserte el 30 también salga, pero antes nosi y solo si salió un único registro que es del día anterior en el fecha_calculo se puede correr el siguiente query ya con eso podemos tirar nuevamente el query de validación y debe salir, recordar aplicar el commit o el rollback a como se ocupe  Ahora si el query de validación no nos devuelve nada se debe hacer un insert manual completamente, se deben ayudar del reporte que ya sacaron en mi caso yo los pase al Excel de Google pero se puede hacer en el mismo que ya tienen abiertoal final agregue unos campos que usaremos para poder hacer los insert, el orden afecta ya que son los campos que van en orden a modificarcerticado= solo puse el = y busque el campo para moneda=  =SI(P4="Colones", 1, SI(P4="DÓLARES", 2, "")) monto=  busco monto y que lo traiga monto interes=   =(M4*L4%)/AC4  que seria =(monto*TAS_NETA%)/diastasa bruta=TAS_BRUTAtasa neta=TAS_NETAmonto interes bruto= =(M4*K4%)/AC4  que seria =(monto*TAS_BRUTA%)/diasintxpagar= =(M4*K4%)/AC4  que seria =(monto*TAS_BRUTA%)/dias  comentar que este valor es el anterior mas la suma del monto interes bruto, peroooo como este no tiene antes se pone el mismo 1SELECT a.fecha_calculo,a.fecha_inicio,a.fecha_fin,a.fecha_adicion,a.int_x_pagar,a.monto_interes_bruto,a.*2  From Cd_interes a3 Where     a.Cod_empresa = '1'4       And a.Cod_agencia = '101'5       And a.Num_certificado in ('1717802') --cambiar6       and a.fecha_calculo>=   to_date('2024-09-29','yyyy/mm/dd') --cambiar dia antes7       order by a.fecha_calculo desc;1INSERT INTO CD.CD_INTERES2Select COD_EMPRESA, COD_AGENCIA, NUM_CERTIFICADO, COD_MONEDA, FECHA_CALCULO +1, MONTO_CD, TIP_CALCULO, FECHA_FIN3MONTO_INTERES, RANGO_DIAS, TASA_BRUTA, TASA_NETA, ADICIONADO_POR, FECHA_ADICION, MODIFICADO_POR, FECHA_MODIFICAC4CLASIFICACION, MONTO_INTERES_BRUTO, INT_X_PAGAR + MONTO_INTERES_BRUTO, MTO_INT_RET_BRUTO, MTO_INT_RET_NETO5  From Cd_interes6 Where     Cod_empresa = '1'7       And Cod_agencia = '101'8       And Num_certificado = '1532797' --cambiar9       and fecha_calculo>=   to_date('2024-09-29','yyyy/mm/dd') --cambiar dia antes10       order by fecha_calculo desc53

ya con los datos ya podemos hacer el insert sin problemas. Usaremos el siguiente insert que aunque se vea feo lo puse asi para saber que debo modificar en linea recta, es solo poner los datos en el mismo orden y listo si no sirve quitar los comentariosNOTA CAMBIAR LAS FECHAS TAMBIEN SI NO VA A QUEDAR MAL Otras tablas a considerar1Insert into Cd_interes (COD_EMPRESA,COD_AGENCIA,NUM_CERTIFICADO,COD_MONEDA,FECHA_CALCULO,MONTO_CD,TIP_CALCULO,FEC2'1717802',/*certicado*/3'2',   /*moneda*/                to_date('2024-09-30 00:00:00','YYYY-MM-DD HH24:MI:SS'),4306.63, /*monto*/            'I',to_date('2024-09-30 00:00:00','YYYY-MM-DD HH24:MI:SS'),to_date('2024-09-29 00:0050.02730267123,/*monto interes*/           1,63.8235,/*tasa bruta*/73,        /*tasa neta*/             'PA',to_date('2024-09-30 00:00:12','YYYY-MM-DD HH24:MI:SS'),null,null,'P',80.0321205426,/*monto interes bruto*/90.0321205426  /*intxpagar*/       ,0,0);1Select Estado, Fec_pago2  From Cd_certificado3 Where     Cod_empresa = '1'4       And Cod_agencia = '101'5       And Num_certificado = '1688498';67Select *8  From Cd_movimiento9 Where     Cod_empresa = '1'10       And Cod_agencia = '101'11       And Num_certificado = '1688498';1213Select *14  From Cd_cupon15 Where     Cod_empresa = '1'16       And Cod_agencia = '101'17       And Num_certificado = '1688498';1819Select *20  From Cd_interes54

excel usado para el caso https://docs.google.com/spreadsheets/d/1pyVxjnOa0BH_a3hhhgg5Etyx5iyqrq6hEy8XeJHHGBk/edit?usp=sharing 21 Where     Cod_empresa = '1'22       And Cod_agencia = '101'23       And Num_certificado = '1688498' order by fecha_calculo descConecta tu cuentade Google55

INC-3994 - Error al Generar ComprobanteDescripción del ProblemaSYSDE se cae al intentar aplicar una transacción o reimprimir un comprobante, dejando de funcionar por aproximadamente 30 minutos antes de restaurarse. Este problema afecta a los usuarios de tesorería tanto en la oficina como en casa y no está relacionado con inactividad ni problemas de conexión a internet.Análisis y Acciones TomadasSe visualiza es un problema por el WebLogic.Validación y CierreTras evaluar los registros, se determinó que el problema esta relacionado con WebLogic, el cual causaba interrupciones en SYSDE.Solución AplicadaLa solución temporal consiste en reiniciar el servidor para restaurar el funcionamiento, debido a que el problema está relacionado con el componente de WebLogic.Código ProporcionadoNo aplica.ResultadoEl sistema vuelve a funcionar normalmente después de reiniciar el servidor. Sin embargo, el problema puede volver a ocurrir sin esta medida temporal.Notas AdicionalesEste incidente se presenta de manera irregular, aproximadamente cada 2-3 días.Sistema RelacionadoSYSDE Flujo RelacionadoTransacciones e impresión de comprobantes.CausaProblema de rendimiento en WebLogic que afecta el procesamiento en SYSDE.SoluciónReinicio del servidor como solución temporal.56

Tipo de SoluciónWorkaround Causa Raíz RelacionadaINC-3870: Problemas por Solicitud de parche de web logic Sysde ABIERTO Caso RelacionadoINC-3994: ERROR AL GENERAR COMPROBANTE.COMPLETADO 57

INC-4147 - ERROR CON SYSDE YA QUE ME SACA DEL SISTEMADescripción del problemaEl usuario está experimentando un problema al intentar hacer una nota de crédito en el módulo CC de SYSDE. Al presionar F10 para aplicar las transacciones, el sistema lo saca de SYSDE y muestra un mensaje de error. Este problema ha ocurrido en dos ocasiones distintas.Análisis y acciones tomadasSe ha identificado que este problema es el mismo relacionado con WebLogic que se ha reportado en otros casos.Validación y cierreSe ha confirmado que el problema se puede solventar reiniciando el servidor.Solución aplicadaEl reinicio del servidor es la solución aplicada para resolver el incidente.ResultadoEl incidente se considera cerrado tras la aplicación de la solución.Notas adicionalesEste tipo de error parece ser recurrente para otros usuarios que utilizan el módulo CC.Sistema RelacionadoSYSDEFlujo relacionadoMódulo de Crédito (CC)CausaEl problema se origina debido a fallas en el servidor de WebLogic que afectan la conexión con el sistema.SoluciónReiniciar el servidor de WebLogic para restablecer la conexión con SYSDE.Tipo de SoluciónWorkaroundCausa raíz relacionadaINC-3870: Problemas por Solicitud de parche de web logic Sysde ABIERTO 58

Caso relacionadoINC-4147: ERROR CON SYSDE YA QUE ME SACA DEL SISTEMA COMPLETADO 59

INC-4024 Detalle de tarjeta 439749******6301Descripción del problemaEl caso INC-4024 se abrió debido a que la tarjeta número 439749******6301 no se refleja en el sistema NOVO, pese a que presenta un código de rechazo 54, lo que indica que la tarjeta debería tener alguna actividad registrada. Jerelyn, quien apertura el caso, solicita soporte para identificar la razón de esta ausencia de datos en el sistema. Sin embargo, menciona que no dispone de los datos del cliente, lo que añade una complicación adicional al análisis.Análisis y acciones tomadasInicio de la comunicación con el usuario:Al recibir el reporte, se solicitó a Jerelyn que proporcionara los datos del cliente necesarios para realizar una investigación completa. Se le explicó que, sin esta información, el caso se mantendría en estado pendiente. Jerelyn responde que no cuenta con dichos datos y consulta si el equipo de NOVO podría realizar una revisión, proporcionando solo el número de tarjeta completo como dato adicional.Investigación preliminar en el sistema interno y creación de caso en NOVO:Ante la falta de datos, se procede a realizar una búsqueda exhaustiva en las tablas y registros de las bases de datos internas. Esta revisión, que incluyó un análisis detallado de logs, no produjo resultados relacionados con la tarjeta reportada. En consecuencia, se decidió escalar el caso al equipo de NOVO, creando un incidente en su sistema para investigar desde su lado. En una reunión con el equipo de NOVO, se les expuso la situación y se solicitó apoyo para identificar la tarjeta. NOVO realizó una búsqueda paralela en su propia base de datos y también confirmó que no existía ninguna asociación o registro relacionado con la tarjeta 439749******6301.Petición de evidencia visual del usuario:Para aclarar el flujo que seguía Jerelyn y entender mejor el contexto, se le solicitó una captura de pantalla donde pudiera verse el código 54 o cualquier referencia de la tarjeta en el sistema. Posteriormente, se acordó una llamada rápida en la cual Jerelyn mostrara el flujo completo, desde el inicio hasta el punto donde visualiza la tarjeta en NOVO.Escalamiento a VISA y reunión con especialistas:Al no obtener registros en las bases de datos internas ni en NOVO, se decidió abrir un caso directamente con VISA. El objetivo era comprender la razón del código de rechazo y la ausencia de la tarjeta en ambos sistemas. Para fortalecer el análisis, se incluyó a Liliana Vega, experta en procesos de VISA y NOVO, en la investigación. Durante una llamada conjunta, se explicó la situación detalladamente y se determinó que VISA podría proporcionar información técnica sobre el rechazo, sin comprometer datos del cliente. Mientras se espera la respuesta de VISA, se acordó documentar el caso y darle seguimiento en el chat externo para asegurar que se considere cualquier avance o información adicional que pueda surgir.Validación y cierreEl caso se cerrará, pero se documentará toda la investigación realizada hasta el momento. Sin embargo, el análisis continuará a través del chat externo y mediante el seguimiento de la causa raíz. Asimismo, se prevé revisar el estatus del caso con Alonso, especialista en el área de tarjetas, a su regreso, ya que su conocimiento podría aportar puntos adicionales de búsqueda y análisis en este caso.Solución aplicadaSe procedió con la creación de un caso en VISA para que su equipo verifique la razón del código de rechazo 54 y determine cualquier posible discrepancia en la sincronización de datos de la tarjeta. Además, se asignó a Liliana Vega como experta en el proceso para asistir en la gestión y facilitar la comunicación con VISA.ResultadoA la espera de una resolución o información adicional por parte de VISA que permita aclarar si el código 54 se debe a una omisión en la actualización de datos entre VISA y NOVO, o a algún otro error en el flujo de datos.Notas adicionalesColaboradores clave: Ronaldo Segura (investigación y seguimiento del caso), Alberth Morales (supervisión de pasos), Mario Barrantes (validación de la transferencia de datos a NOVO), Liliana Vega (experta en procesos de VISA y NOVO), Jerelyn (usuario que apertura el caso).Documentación aportada: Capturas de pantalla de evidencias visuales, logs de las búsquedas realizadas en las bases de datos internas 60

y comunicación con el equipo de NOVO.Sistema Relacionado:NOVO, VISAFlujo relacionado:Consulta de tarjetas, visibilidad de registros en NOVO y VISA, y análisis de códigos de rechazo.Causa:Se identificó una falta de sincronización en los registros de la tarjeta en el sistema NOVO y VISA, lo que provoca que la tarjeta no se muestre en los sistemas internos ni en NOVO, aunque está presente el código de rechazo. Esto sugiere que la tarjeta puede no estar correctamente actualizada en los sistemas y requerir intervención técnica.Solución:La solución planteada consiste en escalar el caso al equipo de VISA para que realicen un análisis técnico exhaustivo que determine la causa del código de rechazo. VISA podría proporcionar detalles adicionales que expliquen la falta de visibilidad en NOVO, permitiendo así identificar si el problema reside en el flujo de transferencia de datos entre VISA y el sistema interno.Causa raíz relacionada:INC-4196: Causa raíz detalle de tarjetas con codigo 54ABIERTO Tipo solución:Workaround61

INC-4087 Correcion de saldo en coreDescripción del ProblemaEste incidente fue identificado debido a una diferencia notable en el balance de dos cuentas de clientes en el sistema core bancario, manifestada como una inconsistencia entre el saldo actual (saldo fijo o congelado) y el saldo en caliente (saldo dinámico y en proceso). Dicha discrepancia provoca que el estado de cuenta consolidado refleje un saldo erróneo para los clientes, afectando su visibilidad real del balance de fondos. Las cuentas involucradas en esta situación fueron:R-119404-01R-149257-01Esta situación podría impactar negativamente la experiencia del cliente y comprometer la precisión de los reportes financieros, ya que el saldo mostrado en los estados de cuenta no coincidía con el balance transaccional. Además, esta inconsistencia presenta el riesgo de generar consultas adicionales de los clientes y posibles errores en la toma de decisiones internas basadas en datos financieros.Análisis y Acciones Tomadas1. Consulta Inicial y Diagnóstico del ProblemaPara investigar la causa de la diferencia, se inició con una consulta detallada en la base de datos utilizando el sistema CR_CORE. A través de consultas SQL específicas, se obtuvieron datos detallados de ambas cuentas, extrayendo valores críticos como:Saldo actual: Estado congelado del balance de cada cuenta.Intereses acumulados y devengados: Intereses registrados que forman parte del saldo de las cuentas.Cuotas, pagos y tipo de moneda: Información que proporciona contexto adicional sobre la posible fuente de la discrepancia.Estos valores iniciales ayudaron a confirmar la existencia de una diferencia entre el saldo actual y el saldo en caliente, lo que sustentó la necesidad de corrección.2. Aplicación de Corrección de SaldosUna vez identificado el comportamiento anómalo, se aplicaron ajustes específicos a los saldos de ambas cuentas mediante transacciones SQL seguras que permitieran observar cambios en el sistema sin comprometer la integridad de los datos. La actualización incluyó los siguientes pasos:Cuenta R-119404-01: El saldo actual se ajustó a 1,396,793.1287213655, aplicando una actualización directa en la tabla de detalles de clientes mediante el comando UPDATE, seguido de pruebas de reversión (ROLLBACK) para asegurar que el cambio no comprometiera el sistema en caso de error.Cuenta R-149257-01: Se incrementó el saldo actual en 1,790 unidades, obteniendo un total ajustado de 1,740,640.8242880634. El cambio se realizó bajo una transacción controlada, empleando BEGIN TRAN para confirmar la seguridad de la modificación antes de ejecutar COMMIT TRAN para finalizar los ajustes.3. Validación en Ambiente Controlado y Confirmación de ResultadosTras aplicar los cambios, se realizaron pruebas de consistencia para verificar que los nuevos saldos coincidían con el balance deseado y que los cambios se reflejaban correctamente en los estados de cuenta consolidados. Las pruebas incluyeron:Revisión de los estados consolidados en el sistema core: Se confirmó que los valores corregidos ahora eran consistentes con el saldo en caliente.Consultas al equipo de negocio: El área de negocio revisó los saldos y validó que reflejaban los valores correctos esperados por los clientes.Pruebas de carga y consulta simultánea: Se realizaron pruebas para asegurar que los cambios en los saldos no generaban retrasos adicionales en el sistema de consulta de cuentas.62

Validación y CierreEl equipo de negocio aprobó la corrección final de los saldos y validó que el estado de cuenta consolidado reflejaba los valores correctos sin presentar discrepancias entre el saldo actual y el saldo en caliente. La aprobación final se basó en una consulta exhaustiva de todos los registros transaccionales de las cuentas afectadas y en la validación cruzada de saldos con el área de control interno. Se concluyó que las cuentas ahora muestran información precisa para los clientes, y que el estado de cuenta consolidado está en total alineación con el balance dinámico.Solución AplicadaPara resolver la inconsistencia, se ajustaron los saldos en las cuentas afectadas mediante actualizaciones SQL directas en el sistema core bancario. Las transacciones se realizaron en un ambiente controlado y con el respaldo del área de negocio, asegurando que los cambios se alinearan con el balance real deseado y reflejaran una información precisa para los titulares de las cuentas.Código Proporcionado-----Cuenta R-119404---------- USE [CR_CORE] -- CONSULTAS DE PAGARÉ SELECT b.saldo_actual, a.id_cliente, cuota,b.interes_normal, b.pagare,b.fk_stc_par_status,b.FK_STC_PAR_MONEDA, b.saldo_actual, b.SALDO_INTERESES, b.INTERES_DEVENGADOS,b.* FROM dbo.stc_blp_tradicional_cliente a WITH(NOLOCK) INNER JOIN dbo.stc_blp_tradicional_cliente_detalle b WITH(NOLOCK) ON b.fk_stc_blp_tradicional_cliente=a.id WHERE a.numero_cuenta = 'R-119404' -- COLOCAR PAGARÉ BEGIN TRAN UPDATE dbo.stc_blp_tradicional_cliente_detalle SET saldo_actual = 1396793.1287213655 WHERE pk_stc_blp_tradicional_cliente_detalle = 329085 --1395993.1287213655 ROLLBACK COMMIT TRAN -----Cuenta R-149257---------- USE [CR_CORE] -- CONSULTAS DE PAGARÉ SELECT b.saldo_actual, a.id_cliente, cuota,b.interes_normal, b.pagare,b.fk_stc_par_status,b.FK_STC_PAR_MONEDA, b.saldo_actual, b.SALDO_INTERESES, b.INTERES_DEVENGADOS,b.* FROM dbo.stc_blp_tradicional_cliente a WITH(NOLOCK) INNER JOIN dbo.stc_blp_tradicional_cliente_detalle b WITH(NOLOCK) ON b.fk_stc_blp_tradicional_cliente=a.id WHERE a.numero_cuenta = 'R-149257' -- COLOCAR PAGARÉ BEGIN TRAN UPDATE dbo.stc_blp_tradicional_cliente_detalle SET saldo_actual = saldo_actual + 1790 WHERE pk_stc_blp_tradicional_cliente_detalle = 300104 --1740640.8242880634ROLLBACK COMMIT TRANResultadoLos saldos se corrigieron satisfactoriamente, y ambos estados de cuenta consolidado y transaccional se muestran ahora alineados sin inconsistencias. Los titulares de las cuentas pueden acceder a sus balances actualizados correctamente.Notas AdicionalesSe sugiere monitorear ambas cuentas en los próximos ciclos contables para asegurar la persistencia de los cambios.63

Es recomendable una revisión semestral del proceso de sincronización entre el saldo actual y el saldo en caliente para evitar futuros casos similares.Sistema Relacionado: CR_COREFlujo Relacionado: OP - Contabilidad automáticaCausa La discrepancia en los saldos fue causada por un desfase temporal entre el saldo congelado (saldo actual) y el saldo en proceso (saldo en caliente) en el sistema bancario, lo cual generó una inconsistencia en el estado de cuenta consolidado, afectando la claridad de la información mostrada al cliente sobre sus fondos disponibles.SoluciónPara corregir la inconsistencia, se ajustaron los saldos de ambas cuentas mediante una actualización directa en el sistema. Esto permitió alinear el saldo congelado con el saldo en proceso, asegurando que el estado de cuenta consolidado refleje con precisión el balance disponible para el cliente en tiempo real.Causa Raíz Relacionada: INC-1902: Cuentas con saldos incorrectosABIERTO Tipo de Solución:Workaround64

INC-3195 El Salvador sobregiro de compras en comercio VisaDescripción del problema: El problema se presenta en el cálculo incorrecto del límite de crédito y el saldo disponible, debido a errores de redondeo en cuentas que realizan su primer desembolso y en casos de ampliaciones de crédito. Este comportamiento afecta la información mostrada al cliente y genera sobregiros aparentes.Análisis y acciones tomadas: Se analizaron dos escenarios que causan los problemas de redondeo, tanto en el cálculo del límite inicial de crédito como en el saldo disponible para cuentas con ampliaciones de crédito. Se discutieron varias opciones de solución y se decidió aplicar un redondeo hacia arriba para evitar sobregiros aparentes.Validación y cierre: El fix se trabajará en el entorno UAT y se realizarán las pruebas necesarias para garantizar que los montos sean correctos y que no se produzcan sobregiros aparentes. La fecha de aplicación en UAT está programada para el 6 de noviembre de 2024, mientras que la implementación en producción se llevará a cabo el 11 de noviembre de 2024.Solución aplicada: Aplicación de un redondeo hacia arriba para el cálculo del límite de crédito y saldo disponible, evitando así que el cliente vea sobregiros aparentes debido a errores de redondeo.Código proporcionado:Resultado: Con la aplicación del fix, se espera que el problema de los sobregiros aparentes quede resuelto, respetando los montos establecidos y proporcionando la información correcta a los clientes. 1USE SV_CORE23-- CONSULTAS DE PAGARÉ4SELECT CICLO,b.pagare,b.fk_stc_par_status,b.FK_STC_PAR_MONEDA, b.saldo_actual, b.SALDO_INTERESES, b.INTERES_DEVE5FROM dbo.stc_blp_tradicional_cliente a  with(nolock)  inner join6dbo.stc_blp_tradicional_cliente_detalle b with(nolock)  on b.fk_stc_blp_tradicional_cliente=a.id7WHERE a.numero_cuenta = 'R-074673'   -- COLOCAR PAGARÉ 89SELECT TOP 100 * FROM dbo.stc_par_producto WHERE idstc_par_producto=671011SELECT LIMITE_CREDITO_CON_COMISION,* FROM stc_blp_tradicional_cliente WHERE id=946941213select 16055.0000000000 *0.052881849014select (16055.0000000000 *0.0528818490) *0.1315SELECT 849.01808569500000000000+110.3723511403500000000000+160551617EXEC dbo.PA_CON_LIMITE_CLIENTE_MAS_COMISION18                                              @P_LIMITE = 16055.0000000000, -- decimal(20, 10)19                                              @P_ID_PRODUCTO = 67; -- int2021                                              --17014.00000000002223-- escenario 224-- 12866.062526EXEC dbo.PA_CON_LIMITE_CLIENTE_MAS_COMISION27                                              @P_LIMITE = 3915.00, -- decimal(20, 10)28                                              @P_ID_PRODUCTO = 67; -- int2930SELECT 12866.06/((1+0.0528818490)+((0.0528818490 *0.13)))  --  12140.58147230461058799631SELECT 12866/((1+0.0528818490)+((0.0528818490 *0.13))) 3233SELECT 16055.0000000000 - 12140.581472304610587996, 16055.0000000000 - 12140, 16055.0000000000 - 1214165

Sistema Relacionado: CoreFlujo relacionado: Estado de cuenta consolidadoCausa: Error de redondeo en el cálculo del límite de crédito y saldo disponible, específicamente causado por la lógica que redondea los montos hacia abajo, lo cual genera inconsistencias entre el monto real disponible para el cliente y el monto mostrado en el sistema core y en los reportes regulatoriosSolución: Redondeo hacia arriba del límite de crédito y saldo disponible para evitar inconsistencias y sobregiros aparentes. Este fix se aplicará a mas tardar en UAT el 6 de noviembre de 2024 y, posteriormente, se implementará en producción el 11 de noviembre de 2024, garantizando que los clientes tengan la información correcta sobre su crédito disponibleCausa raíz relacionada: INC-4226: Causa raíz - sobregiro en cuentas de el salvadorABIERTO Tipo solución: Pendiente Fix66

INC-4195 Validar core lentitudDescripción del Problema:El caso INC-4195 involucra una incidencia relacionada con la lentitud e intermitencia en el sistema core, reportada principalmente por usuarios en modalidad de trabajo remoto desde Costa Rica y en menor medida por usuarios desde las oficinas en Nicaragua. Estos usuarios han experimentado dificultades específicas al cargar escenarios y cuentas en el módulo CRM del sistema. El problema se presenta de manera intermitente, y aunque en algunas ocasiones el sistema opera correctamente, en otras, los tiempos de espera para cargar la información son excesivos. Esta situación ha generado una disminución en la productividad de los usuarios, debido a la imposibilidad de realizar sus tareas con la eficiencia requerida.El módulo CRM es crucial para la operación diaria, ya que permite la gestión de cuentas y el seguimiento de interacciones con clientes. Al verse afectada su funcionalidad, se corre el riesgo de impactar no solo en la eficiencia operativa sino también en la satisfacción del cliente final. Por lo tanto, es de suma importancia investigar si esta intermitencia se debe a una limitación en la infraestructura, a problemas de conectividad externa o a otros factores que podrían estar interfiriendo con el rendimiento del sistema core en contextos de trabajo remoto.Análisis y Acciones Tomadas:1. Investigación Inicial con el Negocio:El primer paso fue establecer una comunicación con el equipo de negocio para clarificar la naturaleza del problema y determinar en qué condiciones específicas se presentaba la lentitud. Se consultó con la representante Valeria Meza, quien confirmó que la intermitencia afecta principalmente a usuarios que operan desde casa en Costa Rica, aunque también se reportaron incidencias esporádicas desde oficinas en Nicaragua. Asimismo, se aclaró que el problema de lentitud era general y no dependía de la cuenta específica que se estuviera consultando.El equipo de negocio también proporcionó evidencia visual (capturas de pantalla) de fallas al cargar datos en el módulo CRM, indicando que, aunque en el sitio parecía funcionar correctamente en ciertos momentos, las condiciones para los usuarios remotos variaban sin un patrón claro.2. Validación Técnica con Soporte Local:Monitoreo de Infraestructura y Enlaces: El equipo de soporte local en Costa Rica, liderado por Cristian Chavarria y Cristopher Zamora, revisó los enlaces hacia Azure, que es la plataforma en la nube en la cual se encuentra alojado el sistema core. Este monitoreo reveló que la comunicación hacia Azure era estable y no presentaba tiempos de respuesta inusualmente altos ni pérdidas de paquetes. Esto indicaba que, al menos a nivel de infraestructura externa, no había problemas que pudieran justificar la lentitud experimentada.Pruebas Locales: Durante el análisis en el sitio, Cristian Chavarria realizó pruebas en dispositivos de usuarios en las oficinas y observó que el sistema core respondía adecuadamente, sin experimentar la intermitencia reportada desde los entornos de trabajo remoto. Esto sugería que la lentitud estaba posiblemente ligada a condiciones de red específicas de los usuarios en teletrabajo y no a una limitación inherente del core.3. Pruebas Comparativas de Carga:Se solicitó al equipo de negocio realizar pruebas de carga simultáneas, tanto desde ubicaciones remotas como desde las oficinas, utilizando la misma cuenta para identificar cualquier diferencia de rendimiento entre ambas configuraciones. Se observó que en las oficinas el sistema core no presentaba lentitud significativa, mientras que los usuarios desde casa seguían experimentando tiempos de respuesta variables y, en algunos casos, imposibilidad de completar la carga.Esta comparación reforzó la teoría de que factores externos, como la calidad de conexión de los usuarios en casa, podrían estar contribuyendo a la intermitencia en el core.Validación y Cierre:67

Tras las acciones y pruebas descritas, el análisis determinó que no había evidencia de una limitación en el sistema core o de fallas en la infraestructura interna que pudieran explicar el problema de lentitud e intermitencia reportado. No obstante, la situación intermitente persiste principalmente para los usuarios en teletrabajo desde Costa Rica, por lo cual se mantendrá un monitoreo proactivo de la red y del rendimiento del sistema core, con revisiones periódicas para asegurar que la experiencia del usuario se mantenga estable.Se concluyó que el problema puede estar influido en gran medida por factores externos de red que afectan la conexión de los usuarios desde sus domicilios, dado que el sistema core y sus recursos internos han mostrado operar adecuadamente bajo condiciones normales de uso en sitio.Solución Aplicada:Para mitigar las afectaciones de este problema, se procedió a ajustar algunas configuraciones mínimas en la red de usuarios en teletrabajo con el fin de optimizar su conexión hacia el core. Estos ajustes buscan mejorar la estabilidad en la conexión de datos entre sus redes domésticas y el sistema. Adicionalmente, se recomendó a los usuarios que notifiquen cualquier otra incidencia de lentitud específica con el fin de identificar patrones o condiciones que ayuden a optimizar aún más la experiencia de acceso remoto.Código Proporcionado:No se aplica en este caso.Resultado:Tras la aplicación de las configuraciones de optimización en las redes de los usuarios remotos y el monitoreo continuo del sistema core, la incidencia de intermitencia y lentitud disminuyó. Sin embargo, se mantendrá un seguimiento estrecho en coordinación con el equipo de negocio para que cualquier cambio en el comportamiento del sistema pueda ser reportado y analizado de inmediato.Notas Adicionales:Se sugiere mantener abierta la comunicación con los usuarios de teletrabajo para facilitar el reporte de incidentes similares en tiempo real, lo cual permitirá una respuesta más ágil.Evaluar la posibilidad de implementar herramientas de auditoría en el sistema core que permitan optimizar y detectar con antelación cualquier operación intensiva en el sistema desde ubicaciones remotas.Sistema Relacionado:Sistema Core, módulo CRM.Flujo Relacionado:OP.Causa: La lentitud e intermitencia observada parece estar relacionada con factores externos de conectividad en los entornos de trabajo remoto de los usuarios en Costa Rica. Las pruebas y validaciones realizadas indican que la infraestructura del sistema core está operando dentro de los parámetros normales y no presenta problemas de rendimiento inherentes. Sin embargo, el acceso remoto desde redes domésticas introduce variabilidad en la calidad de la conexión, lo cual puede estar afectando la experiencia del usuario en ciertos momentos.Solución: Se implementaron ajustes menores en las configuraciones de red de los usuarios en teletrabajo con el objetivo de mejorar la estabilidad de la conexión hacia el sistema core. Además, se está llevando a cabo un monitoreo continuo y se mantiene un canal de comunicación abierto para que los usuarios reporten cualquier incidente adicional de lentitud o intermitencia. Estas medidas buscan mitigar el impacto sin realizar cambios significativos en el sistema core, lo que garantiza la continuidad del servicio y una mayor estabilidad en la experiencia de usuario.Causa Raíz Relacionada: INC-1898: Problemas con aplicativo core al consultar clientes ABIERTO Tipo de Solución: Workaround 68

INC-4204 Guatemala Diferencia saldo por pagos mal aplicados vs la reversa del pago 10043792.Descripción del Problema:Se presentó una discrepancia en el saldo de la cuenta 10043792, donde un pago aplicado tenía un valor distinto al observado al revertir dicho pago. Esta diferencia se reflejaba en los registros de la cuenta y era necesario corregir el proceso para asegurar la consistencia de los valores aplicados y revertidos.Análisis y Acciones Tomadas:1. Se ejecutó el procedimiento para realizar la reversa del pago afectado (PA_PRO_TRANSACCION_REVERSION) utilizando el siguiente código:Luego, se actualizó el estado de la transacción para poder procesarla nuevamente y aplicar el pago correctamente, utilizando el siguiente código:2. Se validaron las cuotas de la cuenta y los intereses aplicados, utilizando consultas específicas para confirmar que los valores de amortización y los intereses estaban correctamente calculados, utilizando el siguiente código:3. Se reaplicó manualmente el pago, distribuyendo los montos de manera adecuada entre amortización, intereses y otros cargos, para restaurar la integridad del saldo en la cuenta del cliente, utilizando el siguiente código:Validación y Cierre:Se validó el pago en el Core bancario, confirmando que el monto aplicado era correcto. Se verificó que los registros financieros y contables fueran consistentes y reflejaran el saldo correcto.Solución Aplicada:Reversión del pago incorrecto.Validación y ajuste de cuotas e intereses asociados a la cuenta.Reaplicación manual del pago con los montos correctos.Código Proporcionado:Queries utilizados para reversa, validación de cuotas e intereses, y reaplicación del pago.Resultado:La cuenta reflejó el saldo correcto después de la reaplicación del pago, logrando resolver la diferencia de saldo presentada.Sistema Relacionado: Core.1EXEC dbo.PA_PRO_TRANSACCION_REVERSION @P_ID_VALOR = 34520465, -- id_validapago2@P_USUARIO = '', -- varchar(50)3@P_TIPO_ORIGEN = 'x', -- varchar(1)4@P_NUM_OPERACION = '', -- varchar(50)5@P_MONTO_PAGO = 0 -- int1-- SE APLICA LA REVERSION TOMANDO EL ID RETORNADO DEL PASO ANTERIOR2DECLARE @V_VALIDAPAGO INT=345227543UPDATE dbo.stc_blp_validapago SET FK_PSE_CAT_TRANSACCION_STATUS=1 WHERE id_validapago IN (@V_VALIDAPAGO) 45-- se ejecuta el sp para procesar el pago de nuevo6EXEC dbo.PA_PRO_PSE_TRANSACCION_PAGO @P_ID_TRADICIONAL_CLIENTE = 0, -- bigint7    @P_ID_TRADICIONAL_CLIENTE_DETALLE = 0, -- bigint8    @P_ID_VALIDA_PAGO =  @V_VALIDAPAGO, -- bigint9    @P_DEBUG = 0 -- int1SELECT Nivel, Estado, secuencia_cuota, Fecha_Ultimo_Pago, *2FROM dbo.stc_blp_tradicional_cuota WITH(NOLOCK)3WHERE id_tradicional = (SELECT pk_stc_blp_tradicional_cliente_detalle4                        FROM dbo.stc_blp_tradicional_cliente_detalle WITH(NOLOCK) WHERE pagare = '10043792-01')5ORDER BY id DESC67SELECT CICLO, b.pagare, b.fk_stc_par_status, b.FK_STC_PAR_MONEDA, b.saldo_actual, b.SALDO_INTERESES, b.INTERES_DEVENGADOS, b.*8FROM dbo.stc_blp_tradicional_cliente a WITH(NOLOCK)9INNER JOIN dbo.stc_blp_tradicional_cliente_detalle b WITH(NOLOCK) ON b.fk_stc_blp_tradicional_cliente = a.id10WHERE a.numero_cuenta = '10043792'1-- Script para obtener un pago específico e ingresarlo en estado pendiente  2SELECT 3    concat('insert into stc_blp_validapago values (', FK_stc_blp_tradicional_cliente, ',', fk_stc_blp_tradicional_cliente_detalle, ',',4           1, ',', '''', fecha_pago, '''', ',', pago, ',', prelacion, ',', '''', pagare, '''', ',', '''', referencia_bancaria, '''', ',', '''', banco, '''', ',', '''5           accion, '''', ',', '''', 'pendiente', '''', ',', '''', fecha_ingreso, '''', ',', '''', fecha_aplicacion, '''', ',', '''', fecha_aprobacion, '''', ',', 0, 6           usuario_aprobacion, '''', ',', '''', comentario, '''', ',', moneda, ',', tipo_transaccion, ',', '''', sucursal, '''', ',', replica, ', null, null, null, n7FROM stc_blp_validapago WITH(NOLOCK)8WHERE id_validapago = 34520465910INSERT INTO stc_blp_validapago VALUES (143685, 0, 1, 'Oct 26 2024 11:28AM', 5325.0000000000, 1, '10043792', '27045', 'G&T', 'G&T', 'Normal', 'pendiente', 'Oct 29 20211SELECT SCOPE_IDENTITY()1213DECLARE @V_VALIDAPAGO INT = 3452285414UPDATE dbo.stc_blp_validapago SET FK_PSE_CAT_TRANSACCION_STATUS = 1, Fk_stc_blp_tradicional_cliente_detalle = 165652, Usuario_Carga = 'cesar.morazan.gt' WHERE id_val1516-- Se ejecuta el SP para procesar el pago de nuevo17EXEC dbo.PA_PRO_PSE_TRANSACCION_PAGO @P_ID_TRADICIONAL_CLIENTE = 0, -- bigint18    @P_ID_TRADICIONAL_CLIENTE_DETALLE = 0, -- bigint19    @P_ID_VALIDA_PAGO = @V_VALIDAPAGO, -- bigint20    @P_DEBUG = 0 -- int69

Flujo relacionado: Aplicación de pagos.Causa: Aplicación incorrecta de montos en cuotas e intereses durante el proceso de reversión, lo cual generó una discrepancia en el saldo reflejado en la cuenta del cliente.Solución: La cuenta salió en un monitoreo que detectó la diferencia. Se procedió primero con la reversión del pago incorrecto para restaurar los valores originales y luego se realizó la aplicación correcta del pago, garantizando que los montos distribuidos fueran consistentes. Esto aseguró que el saldo del cliente estuviera actualizado y reflejara correctamente todos los movimientos.Causa Raíz Relacionada: INC-4255: Problema por diferencia de monto de pago aplicado vs monto ingresado (7151536)ABIERTO Tipo Solución: Workaround70

INC-4164 - Guatemala Diferencia saldo por pagos mal aplicados vs la reversa del pago 10048639Aquí tienes el análisis del caso INC-4164 basado en las reglas proporcionadas:Tema: Diferencia en saldo por pagos mal aplicados frente a la reversa del pago en cuenta 10048639.Descripción del problema:El cliente reporta que la cuenta 10048639 presenta un saldo desajustado tras la reversión de un pago. Al intentar revertir el pago aplicado, el saldo mostrado en la cuenta no coincide con el monto inicial, generando inconsistencias y afectando el saldo total reflejado en la operación.Análisis y acciones tomadas:Se identificó que el saldo aplicado en la cuenta difería del saldo que aparecía tras realizar la reversa. Este error, que también se ha observado en otros casos, apunta a un problema en el proceso de reversión de pagos, que no está ajustando los saldos correctamente. Como acción inicial, se revisó el historial de transacciones de la cuenta para confirmar los valores aplicados y las reversas correspondientes, y se validaron las reglas de reversión en el sistema.Validación y cierre:Se realizó la reversión del pago afectado y se aplicó nuevamente de forma correcta, lo cual ajustó el saldo de la cuenta a su valor adecuado. Se confirmó que el saldo de la cuenta refleja ahora el monto correcto sin inconsistencias.Solución aplicada:Se reversó el pago problemático y se aplicó correctamente para restaurar el saldo correcto de la cuenta.Código proporcionado:No se proporcionó código para este caso.Resultado:El saldo de la cuenta fue corregido y ahora refleja los valores adecuados para el cliente, eliminando la discrepancia.Sistema Relacionado:Core General.Flujo relacionado:Gestión de pagos y reversión de saldos.Causa:Error en el proceso de reversión de pagos, que generaba inconsistencias en el saldo al no considerar adecuadamente las operaciones previas.Solución:Se realizó la reversión del pago afectado y se aplicó correctamente para que el saldo de la cuenta refleje el monto adecuado y esté alineado con las operaciones realizadas.Causa raíz relacionada:INC-3549 - Reversión deja mal la distribución.Tipo solución:Operativa.71

INC-4340 - Error en plazo cuenta R-137881Tema: INC-4340 - Error en el plazo de la cuenta R-137881Descripción del problema:El cliente reportó un problema con la operación R-137881. Después de un desembolso realizado el 27/10/2024, el saldo de la cuenta fue actualizado a ₡189,472.94. Sin embargo, el sistema continuó aplicando cuotas basadas en el saldo anterior, lo que resultó en una cuota incorrecta para el siguiente mes y generó una situación de mora.Análisis y acciones tomadas:Se detectó que el sistema no estaba ajustando automáticamente las cuotas pendientes tras el desembolso adicional. Esto causó que las cuotas permanecieran configuradas para el saldo anterior, aplicando incorrectamente el valor de ₡7,110.00. Para corregir esto, se canceló la cuenta de noviembre por un monto de ₡65,550.00 y se procedió a sincronizar la cuenta, actualizándola al plazo correcto de 60 meses.Validación y cierre:Tras la sincronización, la cuenta quedó al día, con el plazo ajustado a 60 meses, eliminando la mora del cliente y asegurando que las futuras cuotas reflejen correctamente el saldo actualizado.Solución aplicada:Se canceló la cuota de noviembre por un monto de ₡65,550.00 y se sincronizó la cuenta para corregir el plazo.Código proporcionado:1.  2.    Resultado:La cuenta quedó actualizada y sincronizada, reflejando el plazo correcto de 60 meses y eliminando la situación de mora.Sistema Relacionado:Core General.Flujo relacionado:Sincronización de saldos y ajuste de cuotas.Causa:Falta de actualización automática de las cuotas en el sistema tras el desembolso adicional.1UPDATE dbo.stc_blp_tradicional_cuota  2SET Estado = 2, saldo = 0, saldo_interes = 0, saldo_amortizacion = 0 3WHERE id = 24110629;41EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS 2    @P_PK_STC_BLP_TRADICIONAL_CLIENTE = 184959, 3    @P_PK_STC_PAR_MONEDA = 1, 4    @P_USUARIO = '', 5    @P_MODO_EJECUCION = 0, 6    @P_OPCION = 0, 7    @P_IDENTIFICADOR_EXTERNO = '';872

Solución:Se aplicó un ajuste manual para cancelar la cuota de noviembre y sincronizar la cuenta, ajustando el plazo y el saldo correctamente.Causa raíz relacionada:INC-4345 - Cuenta PDP cambio a activa (71153167).Tipo solución:Workaround.73

Noviembre (INC.) 74

INC-4274INC-4274Detalle del Problema: La cuenta R-92188 presenta un error de actualización de saldos después de la reversión de un débito por 52,743.00 colones realizada el 01-10-2024. El débito original estaba destinado a amortizar completamente el saldo 2, pero después de la reversión:1. El saldo 1 aumentó de manera incorrecta.2. El saldo 2 no se actualizó, a pesar de que era el saldo que debería haber sido afectado por la reversión.Análisis del Problema:1. Reversión Incorrecta del Débito: El problema parece haber surgido por un error en la aplicación de la reversión. En lugar de afectar exclusivamente el saldo 2 (el saldo al cual se aplicó el pago inicialmente), la reversión aumentó el saldo 1. Esto sugiere que el sistema pudo haber identificado incorrectamente los saldos involucrados.2. Desfase de los Saldos: El saldo 2 no fue actualizado, lo cual es incorrecto, ya que el débito que fue revertido estaba destinado a amortizar este saldo. Esto podría indicar una falla en la lógica de asignación de saldos al momento de revertir transacciones, generando una inconsistencia entre los saldos actuales y lo que se esperaría tras una operación de este tipo.3. Queja del Cliente: Debido a este error, el cliente está observando un aumento en el saldo 1, lo cual no corresponde con la realidad de sus transacciones. Esto genera una situación de insatisfacción y falta de confianza del cliente hacia la institución.Sugerencias para Resolver el Problema:1. Corrección Manual de Saldos: Se recomienda realizar una corrección manual para ajustar los saldos. Específicamente:Disminuir el saldo 1 en la cantidad que fue erróneamente aumentada.Ajustar el saldo 2 para reflejar correctamente la reversión del débito por 52,743.00 colones.2. Revisión del Proceso de Reversión: Revisar el proceso de reversión del sistema para identificar qué causó el desvío hacia el saldo incorrecto. Podría ser útil simular el mismo escenario en un ambiente de pruebas para replicar el comportamiento y entender mejor el error.3. Mejora de los Controles Internos: Incorporar controles adicionales que verifiquen la correcta actualización de saldos tras una reversión. Estos controles deberían asegurar que el saldo afectado sea el mismo que fue impactado originalmente.4. Comunicación al Cliente: Mientras se realiza la investigación y ajuste, sería importante comunicarse con el cliente para informarle sobre la situación, las acciones tomadas y los tiempos esperados para la resolución. La transparencia ayudará a mitigar el impacto de la queja.Etiquetas:Sistema Relacionado: CoreFlujo Relacionado: Reversiones de PagoCausa Raíz: INC-4281 Causa raíz reversion afecta saldo productivo a pago aplicado a saldo especial INC-4281: Causa raíz reversion afecta saldo productivo a pago aplicado a saldo especialABIERTO Tipo Solución: WorkaroundSolución al Negocio: Corrección manual de los saldos para mantener la integridad de la información y evitar la insatisfacción del cliente.Queries Utilizados para la Solución:1USE [cr_CORE]23-- CONSULTAS DE PAGARÉ4SELECT b.pagare, b.fk_stc_par_status, b.FK_STC_PAR_MONEDA, b.saldo_actual, b.SALDO_INTERESES, b.INTERES_DEVENGAD5FROM dbo.stc_blp_tradicional_cliente a WITH (nolock) 75

6INNER JOIN dbo.stc_blp_tradicional_cliente_detalle b WITH (nolock) ON b.fk_stc_blp_tradicional_cliente = a.id7WHERE a.numero_cuenta = 'R-178074';   -- COLOCAR PAGARÉ89SELECT * FROM STC_BLP_TRADICIONAL_PAGO WITH (nolock)10WHERE ID_TRADICIONAL = 306785 11ORDER BY id DESC;1213/** Solución aplicada al cliente */14BEGIN TRAN 1516UPDATE stc_blp_tradicional_saldos_especiales 17SET Saldo_Actual = 82726.68 18WHERE ID = 2703457;1920UPDATE STC_BLP_TRADICIONAL_PAGO 21SET Saldo_Al_Pago = 1189925.21, Saldo_Al_Pago_Especial = 82726.68 22WHERE id = 14632392;2324UPDATE STC_BLP_TRADICIONAL_PAGO 25SET Saldo_Al_Pago = 1189925.21, Saldo_Al_Pago_Especial = 82726.68  26WHERE id IN (14639221, 14638773, 14638649);2728UPDATE dbo.stc_blp_tradicional_cliente_detalle 29SET saldo_actual = 1189925.21   30WHERE pk_stc_blp_tradicional_cliente_detalle = 306785;3132ROLLBACK TRAN 33COMMIT TRAN 76

INC-4163 - Validar Cuenta - Corregir CuotaPropietario: José ValverdeFecha: 1-11-2024Sistema Relacionado: Core- Cuentas - SaldosCausa:La cuota correspondiente al mes de octubre quedó registrada en el sistema como "pendiente de cargos" en lugar de estar en "pagada". Aunque la cuenta presentaba saldo cero con un saldo a favor, el sistema continuó tomando en cuenta esa cuota para la generación de cargos adicionales.Descripción del Problema:El cliente Juanita Auxiliadora Quintero Bello (ID: 207670633) presentaba un saldo a favor en la cuenta OP R-206515-02. Sin embargo, el sistema no reflejaba la cuenta como "cancelada" y seguía generando cargos adicionales, afectando la exactitud del saldo mostrado al cliente. Esto se debía a que el sistema mantenía la operación activa a pesar de haberse amortizado por completo la deuda.Análisis y Acciones Tomadas:1. Consulta de Saldos y Estado de la Cuenta: Se realizaron consultas SQL en las tablas correspondientes para verificar el estado actual y los saldos registrados: 2. Corrección de Saldos y Estado: Se actualizó el estado de la cuota y los saldos en las tablas de pago y detalle del cliente para reflejar el estado "cancelado":1SELECT saldo_actual, Saldo_Al_Pago, Saldo_Al_Pago_Especial, * 2FROM stc_blp_tradicional_pago 3WHERE id_tradicional = 345862 4ORDER BY ID DESC;56SELECT saldo_actual, * 7FROM dbo.stc_blp_tradicional_cliente_detalle 8WHERE pk_stc_blp_tradicional_cliente_detalle = 345862;910SELECT Nivel, Estado, secuencia_cuota, Fecha_Ultimo_Pago, * 11FROM dbo.stc_blp_tradicional_cuota 12WHERE id_tradicional = 345862;131BEGIN TRAN;23UPDATE dbo.stc_blp_tradicional_cuota  4SET Estado = 2, saldo = 0, saldo_interes = 0, saldo_amortizacion = 0 5WHERE id = 24006874;67UPDATE stc_blp_tradicional_pago 8SET saldo_actual = 0, Saldo_Al_Pago = 0 9WHERE id IN (14725528, 14725527, 14725525, 14662007, 14661805, 14661570, 14617581);1077

 Validación y Cierre:Se verificó que, después de los ajustes, la cuenta reflejara el estado de "cancelada" y que no se generaran cargos futuros indebidos. Se confirmó con la propietaria del caso que el saldo a favor estaba correctamente aplicado y que la operación no generaría más cuotas.11UPDATE dbo.stc_blp_tradicional_cliente_detalle 12SET saldo_actual = 0, fk_stc_par_status = 19 13WHERE pk_stc_blp_tradicional_cliente_detalle = 345862;1415COMMIT;1678

INC-4235 - Consulta pagaré R-195460Descripción del problema:Se solicitó un informe detallado que identificara los agentes que realizaron débitos en colones y dólares el 31-10-2024 para una auditoría de las transacciones en múltiples monedas.Posibles Causas del ProblemaSi este reporte de débitos en colones y dólares se solicita debido a alguna discrepancia o auditoría, algunos problemas potenciales pueden incluir:1. Errores de registro o captura: Fallos en el ingreso de datos manuales, o errores en los sistemas automáticos.2. Problemas de conciliación de cuentas: Diferencias en los saldos de débito reflejados en colones y dólares.3. Inconsistencias en la conversión de moneda: Desajustes en el tipo de cambio aplicable a las transacciones, que afectan el balance final en la contabilidad.4. Acceso no autorizado o errores de usuario: Situaciones en las que algún agente pudiera haber realizado débitos no autorizados o erróneos.Posibles SolucionesDependiendo del motivo de esta solicitud y los resultados que arroje el análisis de las transacciones, algunas soluciones a considerar podrían ser:1. Generación y revisión de reporte detallado: Obtener el reporte con los agentes, montos y monedas y revisarlo cuidadosamente para detectar posibles inconsistencias en los débitos.2. Auditoría de agentes: Realizar un seguimiento sobre el historial de actividades de cada agente en el sistema, especialmente aquellos con permisos para realizar débitos en varias monedas.3. Corrección de errores en registros: Si se encuentran errores de monto o moneda, realizar las correcciones necesarias y evaluar el impacto en el balance de cuentas.4. Refuerzo de procesos de autorización: Implementar procedimientos más estrictos de autorización para la realización de débitos en diferentes monedas, si se detectan patrones de error o acceso indebido.5. Implementación de alertas: Configurar alertas automáticas para transacciones en múltiples monedas en una misma fecha, ayudando a prevenir y detectar errores en tiempo real.Análisis y acciones tomadas:Se generó un reporte específico de débitos en colones y dólares filtrado por la fecha solicitada, utilizando un script SQL para obtener los detalles de cada transacción. El reporte incluía la identificación del agente, monto, moneda, cuentas de origen y destino, y cualquier motivo de rechazo.Validación y cierre:Se verificó que el informe cumpliera con los criterios requeridos por el área de negocio y que contenía únicamente las transacciones del día solicitado. Luego, se entregó el reporte completo al equipo de negocio para su revisión y análisis.Solución aplicada:Se proporcionó al área de negocio el informe detallado con los datos solicitados para apoyar su auditoría de transacciones.Código proporcionado:No se aplicó código específico en este proceso.Resultado:El equipo de negocio recibió el reporte con la información requerida para proceder con su auditoría de transacciones.79

Notas adicionales:Este proceso garantiza la visibilidad total en las operaciones de débitos multimoneda y permite al área de negocio hacer un análisis preciso de las transacciones.Sistema Relacionado:Sistema de Gestión de Débitos.Flujo relacionado:Reporte de Transacciones Causa:Solicitud de auditoría de transacciones multimoneda por parte de negocio.Solución:Entrega de un reporte detallado al equipo de negocio con la información solicitada.Causa raíz relacionada:N/A.Tipo de solución:N/A.Código proporcionado:Copiar códigoUSE CR_SERVICIOS_BANCO DECLARE @cedula VARCHAR(50)=RTRIM(LTRIM(REPLACE('05-0283-0832','-',''))) -- poner cedula SELECT TOP 100 FECHA_INGRESO,Estado,FORMAT(Monto,'N','es-ES') AS 'Monto',MOTIVO_RECHAZO,LOTE,CuentaDebitar,NombreOrigen,MonedaOrigen,CuentaAcreditar,NombreDestino,MonedaDestino,Descripcion,* FROM dbo.STC_TRA_TRANSFERENCIA WITH(NOLOCK) WHERE (RTRIM(LTRIM(REPLACE(IDOrigen,'-',''))=@cedula OR RTRIM(LTRIM(REPLACE(IDDestino,'-','')))=@cedula) ORDER BY PK_STC_TRA_TRANSFERENCIA DESCSolucion al negocio:Se ha proporcionado al área de negocio un informe detallado con la información solicitada, especificando qué agentes realizaron los débitos en colones y dólares el día 31 de octubre de 2024. Esta entrega asegura que el equipo de negocio tiene la visibilidad completa de las transacciones, permitiéndoles hacer el seguimiento necesario y verificar la precisión de cada movimiento.1USE CR_SERVICIOS_BANCO2DECLARE @cedula VARCHAR(50)=RTRIM(LTRIM(REPLACE('05-0283-0832','-',''))) -- poner cedula3SELECT TOP 100 FECHA_INGRESO,Estado,FORMAT(Monto,'N','es-ES') AS 'Monto',MOTIVO_RECHAZO,LOTE,CuentaDebitar,Nombre4FROM dbo.STC_TRA_TRANSFERENCIA WITH(NOLOCK)5WHERE (RTRIM(LTRIM(REPLACE(IDOrigen,'-',''))=@cedula OR RTRIM(LTRIM(REPLACE(IDDestino,'-','')))=@cedula)6ORDER BY PK_STC_TRA_TRANSFERENCIA DESC80

INC-4257Número de Caso: INC-4257Análisis del ProblemaEl mensaje de error indica que el procedimiento almacenado ha excedido el tiempo límite de ejecución configurado, provocando un Execution Timeout Expired. Este problema puede surgir en distintos contextos y está relacionado generalmente con el rendimiento del servidor o con la complejidad del procedimiento almacenado en sí. Cabe destacar que el incidente ocurre en un contexto de inicio de mes, cuando procesos pesados y respaldos están corriendo en la instancia STAGE_REGULATORIOS, lo cual contribuye a la carga adicional en el servidor y podría estar afectando el rendimiento.Posibles Causas y Diagnóstico1. Volumen de Datos ElevadoCausa: Si el procedimiento consulta o manipula un gran volumen de datos, el tiempo de procesamiento podría ser considerable, especialmente si se realizan uniones (joins), agregaciones complejas, o subconsultas.Diagnóstico: Ejecuta el procedimiento almacenado directamente en el servidor con parámetros específicos y mide el tiempo de respuesta. Esto puede darte una idea del tiempo de procesamiento necesario y si está relacionado con la cantidad de datos.2. Índices Faltantes o IneficientesCausa: La ausencia de índices adecuados en las tablas que intervienen en el procedimiento puede ralentizar la recuperación de datos. Las operaciones de filtrado, agrupamiento y ordenamiento pueden beneficiarse significativamente de índices optimizados.Diagnóstico: Revisa las tablas involucradas y evalúa si existen índices en las columnas utilizadas en los filtros (WHERE), uniones (JOIN), y agrupaciones (GROUP BY). Usa el plan de ejecución en el gestor de base de datos para identificar recomendaciones de índices.3. Bloqueos en la Base de DatosCausa: Si hay otros procesos o transacciones que acceden a las mismas tablas, es posible que se generen bloqueos, lo cual ralentiza la ejecución. Esto es especialmente relevante en entornos concurridos, como en el inicio de mes cuando se ejecutan procesos pesados y respaldos.Diagnóstico: Monitorea el servidor en busca de bloqueos o deadlocks cuando se ejecuta el procedimiento. Herramientas como el sp_who2 en SQL Server pueden ayudarte a identificar si el procedimiento está esperando a que otro proceso libere recursos.4. Limitaciones en Recursos del ServidorCausa: La ejecución lenta puede deberse a que el servidor está alcanzando su capacidad máxima en términos de CPU, memoria, o espacio en disco.Diagnóstico: Monitorea el uso de recursos en el servidor mientras se ejecuta el procedimiento. Si el CPU o la memoria están muy cerca de su límite, podría estar causando el timeout.5. Código del Procedimiento AlmacenadoCausa: El propio código SQL puede incluir operaciones costosas, como subconsultas innecesarias, joins redundantes, o bucles.Diagnóstico: Revisa el código del procedimiento almacenado para identificar posibles optimizaciones. Analiza los bucles innecesarios, evita el uso de cursores cuando sea posible y minimiza subconsultas redundantes.Soluciones y Sugerencias1. Aumentar el Tiempo de Espera (Timeout)Recomendación: Si es posible, aumenta el CommandTimeout de la aplicación o la conexión que llama al procedimiento almacenado. Esta es una solución rápida, pero considera que podría ser temporal si el problema de rendimiento persiste.1. Optimizar ÍndicesRecomendación: Agrega índices en columnas frecuentemente utilizadas en filtros, joins y agrupaciones en las tablas involucradas. Ejecuta el procedimiento con el plan de ejecución activado para recibir recomendaciones sobre los índices que mejorarían el rendimiento.81

1. Revisar y Optimizar el Código del ProcedimientoRecomendación: Examina el código SQL del procedimiento para optimizar cualquier operación costosa. Algunos puntos a considerar:Reemplazo de cursores: Si usas cursores, considera reemplazarlos por operaciones en conjunto (SET-based) cuando sea posible, ya que los cursores suelen ser lentos.Optimización de joins y subconsultas: Minimiza los joins innecesarios y evita subconsultas redundantes.Simplificación de lógica: Si hay lógica repetitiva, intenta simplificarla para reducir el tiempo de procesamiento.1. Revisar y Aumentar los Recursos del Servidor (si es necesario)Recomendación: Si el servidor está limitado en recursos, considera optimizar su configuración o aumentar la capacidad (memoria, CPU, etc.), especialmente si otros procesos también se ven afectados.1. Ejecutar el Procedimiento por Partes (Solución Aplicada)Recomendación: Dado el volumen de datos procesado y los problemas de timeout, se aplicó esta solución para ejecutar el procedimiento en lotes o particionar las consultas. Esto permite que el procedimiento se ejecute en partes, reduciendo la carga en una sola ejecución y minimizando el riesgo de superar el tiempo de espera configurado. Esta es una solución adecuada para escenarios donde el procedimiento puede dividirse sin comprometer la integridad o consistencia del reporte.1. Monitoreo y Ajuste de BloqueosRecomendación: Utiliza herramientas de monitoreo para identificar bloqueos y deadlocks. Ajusta las transacciones para que liberen los recursos lo antes posible, minimizando la posibilidad de bloqueos prolongados.Próximos Pasos1. Monitoreo Continuo: Monitorea la ejecución del procedimiento en las siguientes ocasiones para confirmar que el enfoque de ejecución por partes elimina el problema de timeout.2. Ajustes adicionales: En caso de nuevos problemas, considera ajustes en los índices, el timeout de la conexión, o los recursos del servidor según el análisis.Etiquetas:Sistema Relacionado: Sistema de reportesFlujo Relacionado: Reporte de diferimientoCausa Raíz: En análisisTipo de Solución: WorkaroundSolución Aplicada al Negocio: Recomendación: Dado el volumen de datos procesado y los problemas de timeout, se aplicó esta solución para ejecutar el procedimiento en lotes o particionar las consultas. Esto permite que el procedimiento se ejecute en partes, reduciendo la carga en una sola ejecución y minimizando el riesgo de superar el tiempo de espera configurado. Esta es una solución adecuada para escenarios donde el procedimiento puede dividirse sin comprometer la integridad o consistencia del reporte.82

INC-4144 Revisión de pagaré 129559Descripción del problema: El pagaré 129559 presentaba un saldo negativo en el estado de cuenta, mientras que en el sub estado se encontraba en cartera separada. Además, existía una inconsistencia entre dos operaciones: una mostraba saldo positivo y la otra saldo negativo, lo que causaba confusión sobre el estado de cancelación de la cuenta.Análisis y acciones tomadas:Se revisaron las operaciones -00 y -02 del cliente.La operación -00 tenía un saldo positivo, mientras que la operación -02 mostraba un saldo negativo.Se determinó que el saldo a favor de la operación -00 debía cubrir la deuda de la operación -02 para que la cuenta quedara cancelada.Se realizó la transferencia del saldo y se solicitó la validación del ajuste en los sistemas involucrados: estado de cuenta, core, y procobros.Solución del cierre:Después de realizar los ajustes, se validó que en el estado de cuenta ya no existía saldo pendiente.Finalmente, se confirmó que en el core el estado había cambiado de "Cartera Separada" a "Cancelado" y en procobros ya no se presentaba saldo pendiente.Sistema relacionado:Core bancarioProcobrosEstado de cuentaCausa:Diferencias entre las operaciones -00 y -02, las cuales no habían sido correctamente ajustadas, causando inconsistencias en el estado del pagaré.Solución:Transferencia del saldo a favor entre operaciones para que la cuenta quedara cancelada.Servicio relacionado:Gestión de cuentas y operaciones de crédito. Causa-raíz: INC-3250 Diferencias por falta de sincronizar saldosINC-2742 Clientes no sincronizados en cobros.Script utilizado: 1USE cr_core2SELECT @@TRANCOUNT34--id origen 3146785--id destino 2499526SELECT -1285.3006968307-3642.37078183077SELECT 3642.3707818307-1285.30069683078SELECT -1285.3006968307+3642.37078183079SELECT +1285.3006968307-3642.37078183071083

11SELECT TOP 100 * FROM dbo.stc_blp_tradicional_pago_registro WITH (NOLOCK) WHERE id_tradicional = 314678 ORDER BY12SELECT TOP 100 * FROM dbo.stc_blp_tradicional_pago WITH (NOLOCK) WHERE id_tradicional = 314678 ORDER BY id DESC 1314SELECT TOP 100 * FROM dbo.stc_blp_tradicional_pago_registro WITH (NOLOCK) WHERE id_tradicional = 249952 ORDER BY15SELECT TOP 100 * FROM dbo.stc_blp_tradicional_pago WITH (NOLOCK) WHERE id_tradicional = 249952 ORDER BY id DESC 16SELECT saldo_actual,* FROM dbo.stc_blp_tradicional_cliente_detalle  WHERE pk_stc_blp_tradicional_cliente_detalle1718BEGIN TRAN19  --UPDATE stc_blp_tradicional_pago_registro SET monto = -23007.9484350000-3642.3707818307  WHERE id = 1303020  --UPDATE dbo.stc_blp_tradicional_pago SET Saldo_Al_Pago = 0, monto = -23007.9484350744-3642.3707818307 WHE21  --UPDATE dbo.stc_blp_tradicional_cliente_detalle SET saldo_actual = 0 WHERE pk_stc_blp_tradicional_cliente2223  UPDATE stc_blp_tradicional_pago_registro SET monto = -2357.0700850000+3642.3707818307 WHERE id = 130310199 --+24  UPDATE dbo.stc_blp_tradicional_pago SET Saldo_Al_Pago=0 -3642.3707818307, monto =-2357.0700850000+3642.370781825   UPDATE dbo.stc_blp_tradicional_cliente_detalle SET saldo_actual =0 -3642.3707818307 WHERE pk_stc_blp_tradicio2627   --ORIGINAL28BEGIN TRAN29--129559-0230UPDATE stc_blp_tradicional_pago_registro SET monto = -23007.9484350000 WHERE id = 130307082 ---20898.116422729731UPDATE dbo.stc_blp_tradicional_pago SET Saldo_Al_Pago = -3642.3707818307, monto = -23007.9484350744WHERE id = 1432UPDATE dbo.stc_blp_tradicional_cliente_detalle SET saldo_actual = -3642.3707818307 WHERE pk_stc_blp_tradicional_33UPDATE stc_blp_tradicional_pago_registro SET monto =-2357.0700850000 WHERE id = 130310199 --+ 20898.116422729734  UPDATE dbo.stc_blp_tradicional_pago SET Saldo_Al_Pago=0  /*3642.3707818307-1285.3006968307*/, monto =-2357.07035   UPDATE dbo.stc_blp_tradicional_cliente_detalle SET saldo_actual =0/* 3642.3707818307-1285.3006968307*/  WHERE3637ROLLBACK38COMMIT TRAN39SELECT Interes_Moratorio, monto_interes, * FROM dbo.stc_blp_tradicional_cuota WITH(NOLOCK) WHERE id_tradicional=40SELECT TOP 100 * FROM dbo.LOG_TRA_SALDOS_ESPECIALES WITH(NOLOCK) WHERE FK_STC_BLP_TRADICIONAL_CLIENTE=2501864142SELECT fk_stc_par_status,DIAS_MORA,  * FROM dbo.stc_blp_tradicional_cliente_detalle det WITH(NOLOCK) WHERE pk_st43SELECT fk_stc_par_status,DIAS_MORA,  * FROM dbo.stc_blp_tradicional_cliente_detalle WITH(NOLOCK) WHERE pk_stc_bl44SELECT * FROM dbo.stc_par_status4546BEGIN TRAN47UPDATE  dbo.stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=33--DIAS_MORA=0/157/48WHERE pk_stc_blp_tradicional_cliente_detalle = 2499524950EXEC CR_CORE..PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE = 250186, -- bigint51                                @P_PK_STC_PAR_MONEDA = 3,              -- bigint52@P_USUARIO = '',                       -- varchar(50)53                                @P_MODO_EJECUCION = 0,                 -- smallint54                                @P_OPCION = 0,                         -- smallint55                                @P_IDENTIFICADOR_EXTERNO = ''          -- varchar(50) 5657SELECT * FROM dbo.stc_blp_validapago WITH(NOLOCK) WHEREPagare='R-072301'58SELECT * FROM dbo.stc_blp_validapago WITH(NOLOCK) WHERE id_validapago=66494785960SELECT * FROM  dbo.stc_blp_tradicional_cliente_detalle WITH(NOLOCK) WHERE  fk_stc_blp_tradicional_cliente= 9079661SELECT * FROM dbo.stc_blp_tradicional_saldos_especiales WITH(NOLOCK)WHERE id_tradicional IN (249952,314678) --TK62SELECT * FROM dbo.stc_blp_tradicional_saldos_especiales WITH(NOLOCK)WHERE id_tradicional IN (249952, 314678)  AN63SELECT * FROM dbo.stc_blp_tradicional_saldos_especiales WITH(NOLOCK)WHERE id_tradicional IN (249952, 314678) AND6465 SELECT FK_PSE_CAT_ESTADO_LINEA_CREDITO,FK_PSE_CAT_SUB_ESTADO_LINEA_CREDITO, * FROM dbo.stc_blp_tradicional_clie6667 SELECT TOP 10  * FROM dbo.PSE_CAT_ESTADO_LINEA_CREDITO WITH(nolock) -- ESTABA EN 2 6884

   69 SELECT TOP 1000 * FROM dbo.PSE_CAT_SUB_ESTADO_LINEA_CREDITO WITH(nolock) -- ESTABA EN 206 7071 BEGIN TRAN72 UPDATE dbo.stc_blp_tradicional_cliente SET FK_PSE_CAT_ESTADO_LINEA_CREDITO=4/5/, FK_PSE_CAT_SUB_ESTADO_LINEA_CR7374 ROLLBACK75 COMMIT7685

INC-4242 DTR entrante no registrado en sysde1. Descripción del ProblemaEl cliente realizó una transferencia (DTR) cuyos fondos no se han reflejado en su cuenta. Se cuenta con evidencia del Banco Central. El cliente notificó la situación por medio de SAC. El número de referencia de la transacción es 2024xxxxxxxxxxxxxxxx154, realizada a las 11:56:24 a. m.2. Análisis y Acciones TomadasSe revisó el estado de la transacción en los sistemas involucrados (Sysde y Oracle).Se validó que la transacción está liquidada pero no se encuentra registrada ni en Sysde ni en Oracle.Se solicitó la validación con el equipo correspondiente para confirmar el estado de la transacción en los sistemas mencionados.3. Solución del CierreRealizar la sincronización de la transacción en Sysde y Oracle para reflejar correctamente los fondos en la cuenta del cliente.Confirmar la correcta liquidación y aplicación de la transacción en ambos sistemas.Contactar al cliente para confirmar la aplicación de los fondos y ofrecer disculpas por la demora.4. Sistema Relacionado - Causa y SoluciónSistema Relacionado: Sysde y Oracle.Causa: Desfase en la sincronización de los sistemas de liquidación y los sistemas de registro, lo cual impidió que la transacción se aplicara correctamente.Solución: Revisar y ajustar los procesos de conciliación y sincronización para evitar futuros desfases.5. Sistema Relacionado: Oracle, SQL, SysdeServicio Relacionado: Transferencias Bancarias, Liquidación de Fondos. Causa- raíz: INC-2996 Problema DTR salientes no acreditados en sysde Scripts utilizados1--Para buscar la transacción2SELECT TOP 100 entidad, SUBSTRING(tra.CuentaDebitar,6,3) num_entidad,NUM_REF_SINPE, monto, CODIGO_MOTIVO_RECHAZO3 INNER JOIN sinpe.[STP_ENTIDADES_SINPE] ent WITH(nolock) ON CONVERT(VARCHAR(20),ent.ID_ENTIDAD)=SUBSTRING(tra.Cu4WHERE /*tra.NUM_REF_SINPE=2024092731022000017581388 */ tra.Monto=57720/Coloca el monto que viene en la imagen/OR567-- Se revisa en Sysde aplicativo8CUENTAS BANCARIAS>>CONSULTAS>>CONSUTA TRANSACCIONES SINPE 910-- Nota: En el BCCR está liquidada, por lo que se inserta: 11USE CR_SERVICIOS_BANCO12   INSERT OPENQUERY13                                           ([LK_ORA_01],14                                            'select PK_STC_TRA_TRANSFERENCIA, CodEntidad, NumTransaccion, IDOrig15CuentaDebitar, Monto, MonedaDestino, Descripcion, IDDest16NombreDestino, CuentaAcreditar, Estado, USUARIO_INGRESO,17USUARIO_MODIFICACION, FECHA_MODIFICACION, ID_EMPRESA, CO18FECHA_CARGA, FECHA_RECHAZO, ID_TRANSFERENCIA_STP, FECHA_19FK_SAL_CARGA_REPETIDA, TIPO_SERVICIO, ID_CANAL_ORIGEN, I20,MONTOORIGEN,MONEDAORIGEN,TIPOCAMBIO,FK_STC_CAT_SERVICO_86

-- Se le actualiza el estado a LI, porque tiene Referencia bancaria-- Se revisa en Oracle si aparece:  21)22                                    SELECT PK_STC_TRA_TRANSFERENCIA,23                                           CodEntidad,24                                           NumTransaccion,25                                           IDOrigen,26                                           NombreOrigen,27                                           CuentaDebitar,28                                           Monto,29                                           MonedaDestino,30                                           Descripcion,31                                           IDDestino,32                                           NombreDestino,33                                           CuentaAcreditar,34                                           'PO' Estado,35                                           USUARIO_INGRESO,36                                           FECHA_INGRESO,37                                           USUARIO_MODIFICACION,38                                           FECHA_MODIFICACION,39                                           ID_EMPRESA,40                                           NULL CODIGO_MOTIVO_RECHAZO,41                                           NULL MOTIVO_RECHAZO,42                                           FECHA_CARGA,43                                           NULL FECHA_RECHAZO,44                                           ID_TRANSFERENCIA_STP,45                                           FECHA_ENVIO,46                                           LOTE,47                                           FK_SAL_CARGA_REPETIDA,48                                           TIPO_SERVICIO,49                                           ID_CANAL_ORIGEN,50                                           INT_NOTIFICACION_CLIENTE,51                                          NUM_REF_SINPE,52                                           STR_REF_EXTERNA,53                                           CASE MontoOrigen WHEN 0 THEN  MONTO ELSE MontoOrigen END AS MontoOrig54                                           CASE  MONEDAORIGEN WHEN '' THEN MonedaDestino ELSE MonedaOrigen END A55                                           CASE TipoCambio WHEN 0 THEN 1 ELSE TipoCambio END AS TipoCambio,56                                           FK_STC_CAT_SERVICIO_SINPE,57                                           TipoModalidad58                                    FROM dbo.STC_TRA_TRANSFERENCIA WITH (NOLOCK)59                                    WHERE PK_STC_TRA_TRANSFERENCIA in (7700792);-- se pone el pk_stc_tra_transfe1SELECT * FROM dbo.STC_TRA_TRANSFERENCIA WITH(NOLOCK) WHERE PK_STC_TRA_TRANSFERENCIA in (7700792);2USE CR_SERVICIOS_BANCO;3BEGIN TRANSACTION4update dbo.STC_TRA_TRANSFERENCIA SET estado='LI' WHERE PK_STC_TRA_TRANSFERENCIA in (7700792)1 SELECT * FROM STC_TRA_TRANSFERENCIA WHERE PK_STC_TRA_TRANSFERENCIA in (7700792)87

INC-4309 Error en la cabeza de mora R-196795Descripción del problema: La cuenta en Procobros presentaba un error en la cabeza de mora para el pagaré R-196795, ya que debía estar clasificada como Mora 60, tal como aparecía en el core, pero salía con el encabezado en Mora 30.Análisis y acciones tomadas: Se observó que existía una discrepancia entre el nivel de mora mostrado en el core (Mora 60) y el sistema Procobros (Mora 30). Esta situación indicaba un problema de sincronización o error en la actualización de datos entre los sistemas, lo que podría estar causando un tratamiento incorrecto del estado de mora del cliente.Para resolver esta discrepancia, se procedió a realizar una sincronización de saldos entre el core y Procobros mediante la ejecución del siguiente query:Adicionalmente, se procedió a validar un posible impacto utilizando el siguiente query, el cual buscaba otras cuentas con situaciones similares que pudieran requerir una sincronización de saldos:1USE CR_CORE2EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE = 287406, -- bigint3                                      @P_PK_STC_PAR_MONEDA = 1,              -- bigint4                                      @P_USUARIO = '',                       -- varchar(50)5                                      @P_MODO_EJECUCION = 0,                 -- smallint6                                      @P_OPCION = 0,                         -- smallint7                                      @P_IDENTIFICADOR_EXTERNO = ''          -- varchar(50)1USE CR_CORE23SELECT  CONCAT('EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE = ',s.FK_STC_BLP_TRADICI4   ', @P_PK_STC_PAR_MONEDA =',s.FK_STC_PAR_MONEDA,', 5   @P_USUARIO = '''', 6   @P_MODO_EJECUCION = 0,7   @P_OPCION = 0, 8   @P_IDENTIFICADOR_EXTERNO = '''''9   ) SINCRONIZACION,c.NUMERO_CUENTA10FROM cr_core.dbo.STC_MTR_TRADICIONAL_CLIENTE_SALDO_CUENTA s11   INNER JOIN  cr_core..stc_blp_tradicional_cliente c ON c.id=s.FK_STC_BLP_TRADICIONAL_CLIENTE AND dias_mora>3 A12AND s.NIVEL_MORA='Al Día'13UNION14SELECT CONCAT('EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE = ',s.FK_STC_BLP_TRADICIO15   ', @P_PK_STC_PAR_MONEDA =',s.FK_STC_PAR_MONEDA,', 16   @P_USUARIO = '''', 17   @P_MODO_EJECUCION = 0,18   @P_OPCION = 0, 19   @P_IDENTIFICADOR_EXTERNO = '''''20   ) SINCRONIZACION,c.NUMERO_CUENTA FROM cr_core.dbo.STC_MTR_TRADICIONAL_CLIENTE_SALDO_CUENTA s21   INNER JOIN  cr_core..stc_blp_tradicional_cliente c ON c.id=s.FK_STC_BLP_TRADICIONAL_CLIENTE AND dias_mora>33 22AND s.NIVEL_MORA='Mora 30'23UNION24--MORA 6025SELECT CONCAT('EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE = ',s.FK_STC_BLP_TRADICIO26   ', @P_PK_STC_PAR_MONEDA =',s.FK_STC_PAR_MONEDA,', 27   @P_USUARIO = '''', 28   @P_MODO_EJECUCION = 0,29   @P_OPCION = 0, 30   @P_IDENTIFICADOR_EXTERNO = '''''31   ) SINCRONIZACION,c.NUMERO_CUENTA FROM cr_core.dbo.STC_MTR_TRADICIONAL_CLIENTE_SALDO_CUENTA s32   INNER JOIN  cr_core..stc_blp_tradicional_cliente c ON c.id=s.FK_STC_BLP_TRADICIONAL_CLIENTE AND dias_mora>63 33AND s.NIVEL_MORA='Mora 60'34UNION88

Validación y cierre: Tras ejecutar la sincronización, se verificó nuevamente la información en ambos sistemas y se constató que el nivel de mora ahora era consistente entre Procobros y el core, mostrando correctamente la mora 60. De esta manera, se resolvió el problema de discrepancia de información.Solución aplicada: Sincronización de saldos entre sistemas utilizando el procedimiento almacenado PA_CON_PSE_SINCRONIZA_SALDOS.Código proporcionado:Resultado: La información de la mora en Procobros y el core ahora es consistente, mostrando el nivel correcto de Mora 60 para la cuenta R-196795.Sistema Relacionado: CR_CORE, ProcobrosFlujo relacionado: Cabeza moraCausa: Desincronización de los sistemas core y Procobros, lo cual generaba una clasificación incorrecta del nivel de mora.Solución: Se realizó una sincronización manual de saldos entre el sistema core y Procobros, ejecutando un proceso específico que permite actualizar los datos financieros y así corregir cualquier discrepancia existente en el nivel de mora. Esto garantiza que la información reflejada en ambos sistemas esté alineada, lo cual es crucial para una correcta gestión del estado de mora y evitar inconsistencias que podrían afectar el tratamiento del cliente.35SELECT CONCAT('EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE = ',s.FK_STC_BLP_TRADICIO36   ', @P_PK_STC_PAR_MONEDA =',s.FK_STC_PAR_MONEDA,', 37   @P_USUARIO = '''', 38   @P_MODO_EJECUCION = 0,39   @P_OPCION = 0, 40   @P_IDENTIFICADOR_EXTERNO = '''''41   ) SINCRONIZACION,c.NUMERO_CUENTA FROM cr_core.dbo.STC_MTR_TRADICIONAL_CLIENTE_SALDO_CUENTA s42   INNER JOIN  cr_core..stc_blp_tradicional_cliente c ON c.id=s.FK_STC_BLP_TRADICIONAL_CLIENTE AND dias_mora>93 43AND s.NIVEL_MORA='Mora 90'44UNION45SELECT CONCAT('EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE = ',s.FK_STC_BLP_TRADICIO46   ', @P_PK_STC_PAR_MONEDA =',s.FK_STC_PAR_MONEDA,', 47   @P_USUARIO = '''', 48   @P_MODO_EJECUCION = 0,49   @P_OPCION = 0, 50   @P_IDENTIFICADOR_EXTERNO = '''''51   ) SINCRONIZACION,c.NUMERO_CUENTA FROM cr_core.dbo.STC_MTR_TRADICIONAL_CLIENTE_SALDO_CUENTA s52   INNER JOIN  cr_core..stc_blp_tradicional_cliente c ON c.id=s.FK_STC_BLP_TRADICIONAL_CLIENTE AND dias_mora>12353AND s.NIVEL_MORA='Mora 120'54UNION55SELECT CONCAT('EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE = ',s.FK_STC_BLP_TRADICIO56   ', @P_PK_STC_PAR_MONEDA =',s.FK_STC_PAR_MONEDA,', 57   @P_USUARIO = '''', 58   @P_MODO_EJECUCION = 0,59   @P_OPCION = 0, 60   @P_IDENTIFICADOR_EXTERNO = '''''61   ) SINCRONIZACION,c.NUMERO_CUENTA FROM cr_core.dbo.STC_MTR_TRADICIONAL_CLIENTE_SALDO_CUENTA s62   INNER JOIN  cr_core..stc_blp_tradicional_cliente c ON c.id=s.FK_STC_BLP_TRADICIONAL_CLIENTE AND dias_mora>15363AND s.NIVEL_MORA='Mora 150'1USE CR_CORE2EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE = 287406, -- bigint3                                      @P_PK_STC_PAR_MONEDA = 1,              -- bigint4                                      @P_USUARIO = '',                       -- varchar(50)5                                      @P_MODO_EJECUCION = 0,                 -- smallint6                                      @P_OPCION = 0,                         -- smallint7                                      @P_IDENTIFICADOR_EXTERNO = ''          -- varchar(50)89

Causa raíz relacionada: INC-2406: Causa raíz Cuentas aún no sincronizadasABIERTO Tipo solución: Workaround 90

INC-4317 Pagaré R-095111 no se puede imprimir y no aparece en sistema logísticaDescripción del problema: Se intentó imprimir el pagaré R-095111 asociado a la cliente MITZY MARITZA GOMEZ DE ROSALES, sin embargo, el sistema generó un error indicando que no se pudo cargar la operación del cliente en el Core. Además, el pagaré no se encontraba visible en el sistema de logística, lo cual afectaba su reflejo en el sistema SOC.Análisis y acciones tomadas:1. Validación de las tablas de información del desembolso:Se ejecutaron las siguientes consultas para validar la información en las tablas impresion y pagare:1.1 Validación del estado de la venta:Se ejecutó la siguiente consulta para validar el estado de la venta:1.2 Revisión de errores en el log:Se realizó una validación en el log de la base F2P_GLOBAL para buscar errores relacionados con el pagaré, obteniendo el siguiente error: "Cannot insert the value NULL into column 'FK_PSE_CAT_TIPO_CUENTA_DESEMBOLSO'".1.3 Validación de la información de PSE_TRA_CUENTA_DESEMBOLSO:Se ejecutó la siguiente consulta para verificar la información en PSE_TRA_CUENTA_DESEMBOLSO:2. Validación de datos vacíos:Se ejecutó la siguiente consulta para validar datos vacíos relacionados con el pagaré:Se encontró que el campo V_TIPO_TRANSFERENCIA estaba vacío.3. Actualización de la información:1USE F2P_VENTAS_SV2SELECT id_pagare, * FROM dbo.impresion WITH(NOLOCK) WHERE pagare LIKE '%R-095111%' ORDER BY id DESC3SELECT * FROM dbo.pagare WITH(NOLOCK) WHERE id_pagare = '396911'1SELECT * FROM dbo.ventas_status WITH(NOLOCK) WHERE id_ventas_status IN (1003, 1000, 14, 2010, 41, 10, 40, 12)1SELECT TOP 100 * FROM F2P_GLOBAL.dbo.UTL_TRA_EXCEPCION WITH(NOLOCK) WHERE FEC_CREACION > GETDATE() -1 AND STR_PAR1SELECT V_CUENTA_DESEMBOLSO = CAST(cd.PK_PSE_TRA_CUENTA_DESEMBOLSO AS BIGINT)2FROM F2P_VENTAS_SV..transferencia t3INNER JOIN SV_CORE.dbo.PSE_TRA_CUENTA_DESEMBOLSO cd ON cd.FK_TRANSFERENCIA = t.id4WHERE t.id_impresion = 350514;1SELECT TOP 12    v_fk_banco = bn.id,3    v_cuenta = t.cuenta,4    v_moneda = t.FK_STC_PAR_MONEDA,5    V_TIPO_TRANSFERENCIA = t.tipo_transferencia,6    V_FK_TRANSFERENCIA = t.id7FROM F2P_VENTAS_SV.dbo.transferencia t WITH (NOLOCK)8INNER JOIN F2P_VENTAS_SV.dbo.bancos b WITH (NOLOCK) ON b.banco = t.banco9INNER JOIN sv_core.dbo.stc_sys_bancos bn WITH (NOLOCK) ON b.id = bn.id10INNER JOIN F2P_VENTAS_SV.dbo.impresion i WITH (NOLOCK) ON i.id = t.id_impresion11WHERE STR_IDENTIFICACION1 = '013109091' AND i.pagare = 'R-095111'12ORDER BY t.id DESC;91

Se realizó un UPDATE para corregir el campo tipo_transferencia:Validación y cierre:Luego de realizar el UPDATE, se validó que el sistema de impresión permitió la generación del pagaré sin errores adicionales y que el sistema de logística ya muestra al cliente MITZY MARITZA GOMEZ DE ROSALES y el pagaré R-095111. Esto confirma que la actualización de la información faltante solucionó el problema de sincronización entre los sistemas, permitiendo que el proceso completo de generación, impresión y logística se realice correctamente.Solución aplicada:Actualización del campo tipo_transferencia a "Cuenta Ahorro" para completar la información faltante y permitir la sincronización entre los sistemas involucrados (impresión, logística y core bancario). Esto permitió que los procesos pendientes fueran ejecutados correctamente, asegurando que el pagaré fuera visible y gestionado adecuadamente en todos los sistemas involucrados.Código proporcionado:Ver sección de análisis y acciones tomadas.Resultado:La impresión del pagaré se realizó con éxito y el cliente ya aparece en el sistema de logística, resolviendo el problema reportado.Sistema Relacionado: Sistema de impresión, Sistema de LogísticaFlujo relacionado: Logística: Búsqueda por Paquete,Sistema de impresión: Bandeja de impresiónCausa: Falta de información en el campo tipo_transferencia, lo cual impidió la sincronización entre los sistemas y causó errores en la impresión y logística.Solución: Completar la información faltante en el campo tipo_transferencia para asegurar que la información fluya correctamente entre todos los sistemas involucrados (core bancario, logística y generación de pagarés). La ausencia de este dato impide que los procesos de impresión y registro se realicen de manera adecuada, afectando directamente la visibilidad y gestión de los pagarés en los sistemas relacionados.Causa raíz relacionada: INC-4205: Campo tipo transferencia vacío en tabla transferencia SVABIERTO Tipo solución: Workaround1BEGIN TRAN2UPDATE F2P_VENTAS_SV..impresion SET tipo_transferencia = 'Cuenta Ahorro' WHERE id = 3505143UPDATE F2P_VENTAS_SV.dbo.transferencia SET tipo_transferencia = 'Cuenta Ahorro' WHERE id = 3158574ROLLBACK5COMMIT92

INC-4262 No se refleja seguimientos en SOCDescripción del problemaEl usuario José Corea reporta un problema al intentar guardar la gestión de seguimiento de venta en el sistema SOC. Este seguimiento es esencial para que el área de negocio pueda monitorear el estado de la venta y realizar un seguimiento efectivo de la interacción con el cliente. En este caso específico, al gestionar la venta número 112180242, se observó que el sistema SOC no permitía registrar ni visualizar el seguimiento en el flujo de ventas, a pesar de que las acciones de seguimiento eran ejecutadas correctamente por el usuario. Durante la validación realizada el día viernes, el sistema no reflejaba los seguimientos de la venta, lo que generó incertidumbre en el negocio respecto a la continuidad de la gestión del cliente. Esta situación limitó la capacidad del equipo de negocio para tener una trazabilidad clara de las acciones y el estado de la interacción.Análisis y acciones tomadasInicialmente, el equipo de soporte, realizó una verificación exhaustiva de los registros del cliente en las tablas internas del sistema. Se observó que el cliente en cuestión no tenía una oferta crediticia activa y que su estado era de rechazo, lo cual indicaba una situación particular en la que no se aprobaba una línea de crédito. Esta información fue comunicada al usuario, quien confirmó que, pese a esta situación, el seguimiento de la venta debería haberse registrado en SOC.Para comprender mejor el problema, se solicitó al usuario que explicara en detalle la secuencia de acciones que realizaba en SOC al intentar guardar el seguimiento. El usuario explicó que, al hacer clic en “Siguiente” dentro de la interfaz de SOC, debería haberse guardado automáticamente la información del seguimiento. Sin embargo, en la prueba realizada el viernes, el sistema no reflejaba ningún registro de dicha gestión. En este momento, se revisó la posibilidad de que hubiese un problema intermitente en la interfaz o en la sincronización de datos del sistema SOC, lo cual podía estar afectando el registro de las actividades en la base de datos de seguimiento.Posteriormente, el usuario realizó otra prueba en la que notó que la funcionalidad volvió a operar de forma correcta, y el sistema ya mostraba el seguimiento de venta sin inconvenientes.Validación y cierreTras observar que el seguimiento de venta se reflejaba correctamente en SOC, se procedió a confirmar con el usuario que el sistema estaba funcionando según lo esperado. El usuario, indicó que, al momento de la última validación, el problema ya no persistía. No sé identificó un fallo activo o recurrente en SOC. Se le pidió al usuario que, en caso de que el problema volviera a presentarse, lo reportara para una investigación más detallada.Solución aplicadaDado que el sistema comenzó a operar de manera correcta sin que se realizara ninguna intervención técnica directa, no se aplicaron cambios en la configuración del sistema SOC ni en sus bases de datos. Se estableció como medida preventiva el monitoreo del comportamiento del sistema para identificar si el problema se repite en el futuro. Se sugirió al usuario documentar cualquier posible recurrencia y los pasos exactos seguidos, lo cual facilitaría un análisis más profundo en caso de que sea necesario escalar el incidente.Código proporcionadoN/AResultadoLa gestión del seguimiento de ventas en SOC se reflejó de manera correcta durante la última prueba, lo cual permitió que el área de negocio pudiera retomar la trazabilidad de la interacción con el cliente en el sistema. No se evidenció ninguna interrupción en el flujo de ventas tras la corrección espontánea del comportamiento en SOC.Notas adicionalesSe sugiere observar de cerca el sistema SOC para detectar si este comportamiento vuelve a manifestarse en el futuro. Al no haber una intervención directa en el sistema, se considera que el problema pudo deberse a una falla temporal en la sincronización o en la visualización de datos. En caso de que el problema persista, podría ser necesario realizar un análisis de las cargas del sistema y del rendimiento de la interfaz de usuario para identificar posibles puntos de mejora.Sistema Relacionado:SOC (Sistema de Operación Comercial)93

Flujo relacionado:Registro y seguimiento de ventasCausa:La causa del problema parece estar relacionada con una posible falla en el ingreso de datos en el sistema SOC. Es probable que, se hayan ingresado algún dato de manera incorrecta o hayan omitido información clave necesaria para que el seguimiento se registre correctamente en la interfaz.Solución:El error se resolvió sin necesidad de una intervención técnica directa. Se pidió al usuario monitorear y, en caso de recurrencia, informar para un análisis detallado.Causa raíz relacionada: INC-4353: No se refleja seguimientos en SOCABIERTO Tipo de solución: No existe 94

INC-4152-Actualización de App Multimoney Mexico // R-01922 // MAURICIO DE JESUS VAZQUEZ GARCIAProblema: El cliente no puede acceder a la nueva versión de la aplicación Multimoney México, a pesar de haber actualizado la aplicación y haber intentado reinstalarla.Validación: Se realizaron las siguientes acciones para identificar el problema:1. Se verificaron los registros en la tabla SUV_LOG_REGISTRO_CORE de la base de datos RG_SUCURSAL_VIRTUAL, utilizando el siguiente query SQL:2. Esta consulta se realizó para validar cualquier ejecución reciente relacionada con el cliente (usando su CURP: VAGM930626HPLZRR03) y verificar si había algún error o problema en el sistema en los últimos 4 días.3. Los registros indicaron que toda la información está correcta y no se encontraron problemas que expliquen la falla de acceso.Solución Recomendada:1. Se recomienda al cliente reiniciar su teléfono.2. Desinstalar la aplicación Multimoney y luego volver a instalarla desde la tienda de aplicaciones oficial.Sistema Relacionado: Aplicación Multi Money Flujo relacionado: Login Causa: El cliente no puede acceder a la nueva versión de la aplicación Multimoney MéxicoCausa raíz relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO 1SELECT PK_SUV_LOG_REGISTRO_CORE,2       FECHA_INICIO,3       FECHA_FIN,4       NOMBRE_PROCEDIMIENTO,5       PARAMETRO_EJECUCION,6       RESULTADO7FROM RG_SUCURSAL_VIRTUAL.dbo.SUV_LOG_REGISTRO_CORE WITH (NOLOCK)8WHERE PARAMETRO_EJECUCION LIKE '%VAGM930626HPLZRR03%'9      AND FECHA_CREACION > GETDATE() - 410ORDER BY PK_SUV_LOG_REGISTRO_CORE DESC;1195

INC-4185-Error en sistema R-213537 Cédula:118220355Propietario: José ValverdeFecha: 6 de noviembre de 2024Sistema Relacionado: Core y LogísticaFlujo Relacionado: Sincronización de Estados de CuentaCaso: INC-4185: Error en sistema R-213537Cédula:118220355 Nombre completo del cliente: NAYELI ALEXANDRA CASCANTE GRANADOSCERRADO Sensor creado: Registros SaldoCero Status10 GT-SV-CR-MX CORE(bajo) (INC-4185) APP | Detalles de sensor | PRTG Network Monitor (SRVPRTGAKROS)Posibles Causas y DiagnósticoDescripción del ProblemaEl cliente Nayeli Alexandra Cascante Granados tiene una cuenta (R-213537) que fue anulada en el sistema Logística. Sin embargo, esta anulación no se reflejó en el sistema Core, dejando la cuenta en estado activo. Como resultado, el sistema permitió un desembolso adicional a pesar de que la cuenta estaba en saldo cero y debería haber quedado inactiva.AnálisisLa discrepancia parece originarse en una falta de sincronización entre Logística y Core, donde la anulación de Logística no actualiza el estado en Core. Esto permite que el sistema Core mantenga la cuenta activa y continúe con las operaciones normales, incluyendo desembolsos, a pesar de la intención de anulación en Logística. Este incidente parece ser aislado hasta ahora, pero requiere monitoreo adicional para confirmar si es un caso único o un problema más amplio en la integración.Código Usado Validación y CierreSe recomienda realizar una verificación periódica para identificar si el incidente se repite en otras cuentas. Esto permitirá determinar si el problema es recurrente o si fue una falla aislada. Además, es recomendable sincronizar manualmente el estado de la cuenta afectada en Core y Logística para asegurar la alineación.Recomendaciones y Próximos Pasos1. Monitoreo Adicional: Vigilar si este problema de sincronización se presenta en otros clientes.2. Revisión de la Lógica de Sincronización: Evaluar y ajustar la lógica para que las anulaciones en Logística se reflejen correctamente en Core.3. Intervención Manual en el Cliente Afectado: Actualizar manualmente el estado de la cuenta en Core para evitar futuros desembolsos no deseados.Tipo de Solución: WorkaroundEtiquetasCausa Raíz: Problema de sincronización entre sistemas.Flujos relacionados: Sincronización de Estados de Cuenta entre Logística y Core.1use STAGE_CORE2--172.29.0.2134select fk_stc_par_status,cuota,interes_normal, cuota,dias_mora, pagos_vencidos, saldo_intereses,fk_pse_cat_promocion_plazo, fk_pse_cat_segmento,fecha_inicio_dwh,fech5from stg.stc_blp_tradicional_cliente_detalle_scd with (nolock)6where pk_stc_blp_tradicional_cliente_detalle =  3718537order by fecha_carga_dwh desc89use cr_CORE;10select b.fk_stc_par_status,b.FK_STC_PAR_MONEDA,b.pagare,b.pk_stc_blp_tradicional_cliente_detalle,b.saldo_actual,b.fk_stc_blp_tradicional_cliente,b.FK_STC_PAR_MONEDA,11inner join dbo.stc_blp_tradicional_cliente_detalle b with (nolock) on b.fk_stc_blp_tradicional_cliente = a.id12where  a.NUMERO_CUENTA like'R-213537%'131415exec dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE = 304164, -- bigint16                                      @P_PK_STC_PAR_MONEDA = 1,              -- bigint17                                      @P_USUARIO = '',                       -- varchar(50)18                                      @P_MODO_EJECUCION = 0,                 -- smallint19                                      @P_OPCION = 0,                         -- smallint20                                      @P_IDENTIFICADOR_EXTERNO = ''          -- varchar(50)2196

INC-4249-operacion R-31927 cambio a canceladaDescripción del ProblemaLa operación R-31927 mostraba una inconsistencia, apareciendo en estado activo a pesar de contar con un saldo cero. El sistema debe reflejar una operación como "Cancelada" si no tiene saldo pendiente, evitando confusiones contables y de saldos.Durante el análisis, se encontró que la operación "-01" relacionada mantenía un estado incorrecto. Mostraba un saldo pendiente aunque el cliente tenía saldo a favor en otra operación. Esto requirió ajustes manuales para compensar el saldo pendiente de "-01" con el saldo a favor, permitiendo así cambiar el estado de la operación R-31927 a Cancelada.Análisis y Acciones Tomadas1. Operación Origen (ID: 66441)Saldo pendiente de $38,873.53.Se identificó un saldo a favor en otra operación (ID: 290429) del mismo cliente, y se decidió usarlo para compensar la deuda.2. Operación Destino (ID: 290429)Contaba con saldo suficiente para cubrir la deuda en la operación origen.Se actualizó el saldo en la operación destino, reduciendo el monto en la cantidad necesaria para balancear el saldo en la operación origen.3. Cambio de EstadoDespués de la compensación, la operación origen quedó en saldo cero, permitiendo actualizar su estado a Cancelada.El cambio no ocurrió automáticamente, por lo que fue necesario ajustarlo manualmente.4. Sincronización de CuentaSe ejecutó un proceso de sincronización para actualizar el subestado, reflejando el ajuste aplicado en la operación destino.Validación y CierreTras la ejecución del script, se verificaron los cambios en el sistema:El saldo de la operación origen (ID: 66441) quedó en cero.El saldo de la operación destino (ID: 290429) se ajustó correctamente.El estado de la operación origen se actualizó a Cancelada.La sincronización reflejó el subestado correcto en las operaciones del cliente.Conclusión: La validación fue exitosa, confirmando que el caso se resolvió de manera efectiva.Solución AplicadaPara resolver el problema, se ejecutó un script SQL con las siguientes acciones:Ajuste en la operación origen: Reducción del saldo pendiente mediante la compensación de $38,873.53 con el saldo a favor de la operación destino.Actualización en la operación destino: Ajuste del saldo disponible en la operación destino.Cambio de Estado en la operación origen: Modificación manual del estado a Cancelada.Sincronización del Subestado: Ejecución de sincronización para actualizar el subestado en la cuenta del cliente.Código Proporcionado1USE CR_CORE23--id origen 664414--id destino 2904295USE CR_CORE67SELECT TOP 100 * FROM dbo.stc_blp_tradicional_pago_registro WITH (NOLOCK) WHERE id_tradicional = 66441 ORDER BY id DESC --1224801208SELECT TOP 100 * FROM dbo.stc_blp_tradicional_pago WITH (NOLOCK) WHERE id_tradicional = 66441 ORDER BY id DESC -- 11893908910SELECT TOP 100 * FROM dbo.stc_blp_tradicional_pago_registro WITH (NOLOCK) WHERE id_tradicional = 290429 ORDER BY id DESC --12248012311SELECT TOP 100 * FROM dbo.stc_blp_tradicional_pago WITH (NOLOCK) WHERE id_tradicional = 290429 ORDER BY id DESC -- 1189957812131415BEGIN TRAN1617  ---Operación origen18  UPDATE stc_blp_tradicional_pago_registro SET monto = 38873.5316690000 - 38873.5316687332 WHERE id = 114928754 --38873.531669000019  UPDATE dbo.stc_blp_tradicional_pago SET Saldo_Al_Pago = 0, monto =  3000000.0000000000 + 38873.5316687332 WHERE id = 8878832  --3000000.000000000020  UPDATE dbo.stc_blp_tradicional_cliente_detalle SET saldo_actual = 0 WHERE pk_stc_blp_tradicional_cliente_detalle = 66441  ---38873.53166873322122  ---Operación destino23  UPDATE stc_blp_tradicional_pago_registro SET monto = 669130.7600000000 + 38873.5316687332 WHERE id = 130170052  --669130.760000000024  UPDATE dbo.stc_blp_tradicional_pago SET Saldo_Al_Pago= 38873.5326182848 - 38873.5316687332, monto = 669130.7600000000 + 38873.5316687332 WHERE id = 11899578  -25  UPDATE dbo.stc_blp_tradicional_cliente_detalle SET saldo_actual = saldo_actual - 38873.5316687332 WHERE pk_stc_blp_tradicional_cliente_detalle = 290429    ---32627  --Cambio de estado28  UPDATE dbo.stc_blp_tradicional_cliente_detalle SET fk_stc_par_status = 19 WHERE pk_stc_blp_tradicional_cliente_detalle = 29042997

ResultadoDespués de ejecutar el script:La operación R-31927 cambió a Cancelada y reflejó un saldo cero en el sistema.La operación asociada reflejó el saldo correcto.La sincronización de la cuenta confirmó la actualización de estados y subestados, completando el caso satisfactoriamente.Notas AdicionalesEs recomendable revisar periódicamente los saldos de las operaciones para evitar desajustes y asegurar que el sistema refleje el estado correcto de las cuentas de los clientes.Sistema RelacionadoSistema: CR_COREFlujo RelacionadoFlujo: Actualización de estados y conciliación de saldos de operaciones.CausaEl problema se originó debido a un desfase en el estado de la operación R-31927, que continuaba en estado activo pese a tener saldo en cero. Este desfase se generó porque, aunque el cliente mantenía un saldo pendiente en esta operación, también poseía un saldo a favor en otra.SoluciónPara resolver la situación de saldo en la operación R-31927, se implementó un proceso de ajuste en el cual se compensó el saldo pendiente de una operación con el saldo a favor de otra operación relacionada. Esta estrategia permitió reflejar de forma precisa el saldo del cliente y ajustar automáticamente el estado de la operación a Cancelada, cumpliendo con las reglas establecidas para el control de saldos sin errores en los reportes contables.Causa Raíz Relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo de Solución:Workaround 2930ROLLBACK31COMMIT TRAN3233---Sincronizador de la cuenta para que el subestado se actualice al correcto34EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE = 69952, -- bigint35                                      @P_PK_STC_PAR_MONEDA = 1,              -- bigint36                                      @P_USUARIO = '',                       -- varchar(50)37                                      @P_MODO_EJECUCION = 0,                 -- smallint38                                      @P_OPCION = 0,                         -- smallint39                                      @P_IDENTIFICADOR_EXTERNO = ''          -- varchar(50)98

INC-4349-Su ayuda con cuentas sin información en KYC Causa:La causa principal de este problema se relaciona a que el campo pagaré de la tabla KYC no se está poblando por lo que cuentas aparecen sin información.Solución:Se procede con la actualización del campo pagaré con su respectivo número de cuenta, esto por medio del campo identificador id_kyc.  Causa-raíz:INC-1070: Causa raíz cuentas sin informacion en KYC (71143311)ABIERTO Script utilizado:12--Query utilizado para sacar los idc_kyc34SELECT i.pagare,* FROM F2P_VENTAS_SV..kyc  k WITH(NOLOCK)5INNER JOIN F2P_VENTAS_SV..impresion i WITH(NOLOCK)6ON i.id_kyc = k.id_kyc7WHERE k.pagare = '' 8AND i.pagare IN ('R-086637','R-084662','R-084155','R-074281','R-077723','R-078231');9101112131415--Solución161718BEGIN TRAN 19UPDATE F2P_VENTAS_SV..kyc SET pagare = 'R-077723' WHERE id_kyc =28194120UPDATE F2P_VENTAS_SV..kyc SET pagare = 'R-078231' WHERE id_kyc =28444021UPDATE F2P_VENTAS_SV..kyc SET pagare = 'R-084155' WHERE id_kyc =34093222UPDATE F2P_VENTAS_SV..kyc SET pagare = 'R-084662' WHERE id_kyc =34396723UPDATE F2P_VENTAS_SV..kyc SET pagare = 'R-086637' WHERE id_kyc =355152242526ROLLBACK   27COMMIT  2899

INC-4225-Error en numero de cuotas op R-66559Causa:La causa principal fue debido a que el cliente realizó desembolsos y la cuota nunca se modificó por lo que el plan de pagos se hizo extremadamente grande.Solución:Como solución a este caso lo que se realizó fue brindarle al cliente el apoyo con el cambio del monto de la cuota ya que a nivel del caso no existe ningún tipo de problema con la cuenta, las cuotas que el cliente presentaba se debían a que el cliente realizó desembolsos y por ende la cuota que tenía asignada cliente no era para la cantidad de dinero que debía ni el plazo acordado al inicio, por lo que se le brindó el apoyo con este cambio dejando al cliente en el plazo restante que seguía lo cuál son 46 cuotas pendientes.  Causa-raíz:INC-284: Causa raíz no APLICA (7108754)ABIERTO Script utilizado:1USE CR_CORE234SELECT Cuota,CUOTA_MES,CUOTA_DISPONIBLE,* FROM dbo.stc_blp_tradicional_cliente_detalle WITH(NOLOCK) WHERE pk_stc5678/*9Cuota               CUOTA_MES     CUOTA_DISPONIBLE 1079000.000000000079000.000000000079000.000000000011*/1213BEGIN TRAN 14UPDATE dbo.stc_blp_tradicional_cliente_detalle SET cuota=106900,CUOTA_MES=106900,CUOTA_DISPONIBLE=106900 WHERE p1516ROLLBACK 17COMMIT100

INC-4190-Validar apertura de cuota en parámetro menos y debito a cuenta R-185382Descripción del ProblemaAl realizar un desembolso en parámetro, la cuenta generó una apertura de cuota en un ciclo incorrecto. El desembolso se efectuó el 14 de octubre, y la cuota se abrió para el ciclo del 19 de octubre en lugar del 19 de noviembre, que es la fecha correcta según la regla establecida.Además, se identificó un débito de ¢1 en la cuenta. Se requiere validar el origen de este débito y si fue por una carga masiva.Análisis y Acciones Tomadas1. Cancelación de Cuota y Sincronización de Saldos:Se canceló la cuota incorrectamente generada para corregir el ciclo. Luego, se ejecutó la sincronización de saldos para actualizar el estado de la cuenta y asegurar que reflejara la situación correcta.2. Validación del Débito de ¢1:Se determinó que el débito de ¢1 provino de un desembolso automático del cliente. Dado que la cuota se encontraba con un saldo de ¢1, este monto fue descontado automáticamente.Validación y CierreLas acciones de cancelación de cuota y sincronización de saldos lograron alinear la cuenta correctamente al ciclo esperado, solucionando el problema detectado.Solución Aplicada1. Cancelación de Cuota Incorrecta: Se anuló la cuota generada para el ciclo del 19 de octubre.2. Sincronización de Saldos: Se ejecutó este proceso para corregir el saldo y asegurar la coherencia en la cuenta.Código ProporcionadoResultadoLa cuenta quedó alineada con el ciclo correcto (19 de noviembre) y el débito de ¢1 fue justificado debido al desembolso automático.1BEGIN TRANSACTION2UPDATE  dbo.stc_blp_tradicional_cuota3SET    Estado=6              --  34,saldo=0 -- 4814.99745345645,monto_interes=1, -- 4815.99745345646saldo_interes=0 -- 4814.99745345647WHERE id=2406924189ROLLBACK10COMMIT101

Notas AdicionalesEs importante monitorear los desembolsos automáticos en cuentas con saldos mínimos para evitar futuros débitos no esperados.Sistema RelacionadoCoreFlujo RelacionadoProceso de Apertura de CuotasCausaLa causa del ciclo incorrecto fue una aplicación inadecuada de la regla de ciclo para la apertura de cuotas tras el desembolso.SoluciónSe corrigió el ciclo mediante cancelación y sincronización de saldos. El débito de ¢1 fue resultado del saldo residual en la cuota debido al desembolso automático.Tipo de SoluciónWorkaroundCausa Raíz RelacionadaINC-4417: cuota monto 1, estado con saldo pendiente (3) y en parámetro menosABIERTO Caso RelacionadoINC-4190: Validar apertura de cuota en parámetro menos y debito a cuenta R-185382RESUELTO 102

INC-4337 - Costa Rica Reporte de Cartera PaxosDescripción del problemaEn el reporte de cartera de Paxos del 31 de octubre de 2024, algunos códigos de cliente aparecieron con una "X" adicional en el "Código de Cliente Paxos". Se solicitó verificar si este cambio es una nueva nomenclatura o si se debió a una modificación no autorizada.Análisis y acciones tomadas1. Revisión del sistema:Se verificaron las configuraciones del sistema para identificar la causa de la "X" adicional en los códigos de cliente.2. Identificación de la modificación:Se determinó que la "X" adicional fue resultado de una modificación realizada por un usuario en el campo de la tabla correspondiente, no de un error en la generación del reporte.Validación y cierreSe confirmó que la "X" no es parte de una nueva nomenclatura.Se ajustó el campo en la tabla para eliminar la "X", restaurando el formato correcto de los códigos de cliente.Solución aplicadaSe eliminó la "X" adicional del campo en la tabla del "Código de Cliente Paxos", asegurando que el formato de los códigos coincida con el de los clientes existentes.Código ProporcionadoResultadoLa modificación se aplicó correctamente, y los códigos de cliente ahora aparecen sin la "X" adicional, manteniendo la consistencia con los formatos anteriores.1USE F2P_NEO_BANCO23SELECT TOP 1000 * FROM  dbo.t_pormCustomer    WITH(NOLOCK) 4WHERE  [Key]  IN ('x6-0459-0998','x2-0858-0936')56BEGIN TRANSACTION7UPDATE dbo.t_pormCustomer 8SET   [Key]='2-0858-0936'               --  X2-0858-09369WHERE IdT_pormCustomer=508581011UPDATE dbo.t_pormCustomer 12SET   [Key]='6-0459-0998'               --  X6-0459-099813WHERE IdT_pormCustomer=69521415ROLLBACK16COMMIT1718SELECT TOP 1000 * FROM  dbo.t_pormCustomer    WITH(NOLOCK) 19WHERE  [Key]  IN ('6-0459-0998','2-0858-0936')103

Notas adicionalesSe recomienda establecer controles en la base de datos para prevenir modificaciones no autorizadas en los campos críticos y monitorear cambios en la nomenclatura de códigos.Sistema RelacionadoCRYPTO.Flujo relacionadoReporte de cartera de clientes en Paxos.CausaLa aparición de la "X" adicional se debió a una modificación realizada por un usuario en el campo de la tabla correspondiente.SoluciónAjuste del campo en la tabla para eliminar la "X" adicional, devolviendo el formato a su estado habitual.Tipo de SoluciónWorkaroundCausa raíz relacionadaINC-284: Causa raíz no APLICA (7108754)ABIERTO Caso relacionadoINC-4337: Costa Rica Reporte de Cartera PaxosRESUELTO 104

INC-4408 INC-4409 Problema ingreso SAPDescripción del problema:El equipo de Contabilidad de BambuDev en todas las regiones reportó que no podían acceder al sistema SAP a través de la URL sapbo.akros.tech:8100/dispatcher. Al intentar ingresar, todos los usuarios recibían el mensaje de error ERR_CONNECTION_REFUSED, indicando que la conexión al servidor SAP estaba siendo rechazada.Análisis y acciones tomadas:1. Verificación inicial: Se verificó la URL y el puerto (8100) para confirmar que el problema no era causado por un error de conexión local o restricciones de red en los dispositivos de los usuarios.2. Acceso al servidor de SAP: Se estableció una conexión remota al servidor de SAP en la IP 172.29.0.27 para realizar una inspección más profunda.3. Revisión de servicios: Al ingresar al servidor, se verificó el estado de los servicios relacionados con SAP. Se encontró que el servicio SAP Business One Browser Access Server Gatekeeper (64-bit) estaba en estado detenido (Stop), lo que impedía el acceso de los usuarios al sistema.4. Acción correctiva: Se procedió a iniciar manualmente el servicio SAP Business One Browser Access Server Gatekeeper (64-bit) para restaurar la funcionalidad.Solución aplicada:El servicio SAP Business One Browser Access Server Gatekeeper (64-bit) fue iniciado correctamente en el servidor. Esto permitió restaurar el acceso a SAP para todos los usuarios afectados. Posteriormente, se verificó que el sistema estaba operativo y que los usuarios podían ingresar sin problemas.Recomendación:Configurar una alerta para monitorear el estado de este servicio y recibir notificaciones en caso de que se detenga inesperadamente.Revisar los registros de eventos (logs) del sistema para investigar si hay una causa subyacente que haya provocado que el servicio se detuviera automáticamente, como una actualización o un fallo en el sistema.Solución en términos de negocio:El acceso a SAP se vio interrumpido debido a que un servicio clave estaba detenido en el servidor. Esto impedía que los colaboradores del área de Contabilidad en todas las regiones pudieran realizar sus tareas en el sistema.Para resolverlo, se identificó y reactivó el servicio necesario para que SAP funcionara correctamente. Esta acción restableció el acceso para todos los usuarios, permitiéndoles retomar sus actividades normales sin problemas.Recomendación: Para evitar futuras interrupciones, se sugiere implementar alertas automáticas que notifiquen al equipo de TI si este servicio vuelve a detenerse inesperadamente. Además, se recomienda revisar las causas de fondo que pueden haber provocado la detención del servicio, con el fin de evitar incidentes similares en el futuro.Con esta solución, el equipo de Contabilidad puede continuar sus operaciones de forma normal y sin demoras adicionales. Sistema Relacionado: SAPFlujo relacionado: LoginCausa raíz relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo solución: No hay solución.105

INC-4420-El salvador R-045152 R-04515201 corrección de distribución pago.Causa:La causa principal del caso se debe a que la distribución del pago no tomó en su prelación el saldo especial a la hora de amortizar por lo que quedaron distribuyendo lo que faltaba de saldo capital y el resto quedó con saldo a favor del cliente lo que está incorrecto.Solución:Como solución del caso se realiza workaround aplicando la reversión del pago que distribuyó de manera incorrecta, posterior a eso se realizó un ajuste en las cuentas para que el pago realizara la prelación de manera satisfactoria y se distribuyera de manera correcta el pago.  Causa-raíz:INC-4454: Distribución de pago deja saldo a favor y no amortiza saldo especial SVABIERTO Script utilizado:1USE SV_CORE23--Primera cuenta4SELECT * FROM  dbo.stc_blp_tradicional_cliente_detalle WITH(NOLOCK) WHERE fk_stc_blp_tradicional_cliente =4657856SELECT * FROM dbo.stc_blp_validapago WITH(NOLOCK) WHERE Fk_stc_blp_tradicional_cliente = 46578 ORDER BY id_valid78SELECT nivel,Estado,* FROM dbo.stc_blp_tradicional_cuota WITH(NOLOCK) WHERE id_tradicional = 38340 ORDER BY id D910SELECT * FROM dbo.stc_blp_tradicional_saldos_especiales WITH(NOLOCK) WHERE id_tradicional = 38340 ORDER BY id DE1112SELECT * FROM dbo.stc_par_tipo_transaccion WITH(NOLOCK) 1314BEGIN TRAN 15UPDATE dbo.stc_blp_tradicional_cliente_detalle SET saldo_actual =5.4119500364 WHERE pk_stc_blp_tradicional_clien16UPDATE dbo.stc_blp_tradicional_cliente_detalle SET saldo_actual =35.3036699348 WHERE pk_stc_blp_tradicional_clie171819ROLLBACK 20COMMIT212223DECLARE @ID_VALIDAPAGO INT = '6649121';24DECLARE @ID_PAGO INT;25SET @ID_PAGO = (SELECT Id_Pago FROM dbo.stc_blp_validapago WHERE id_validapago = @ID_VALIDAPAGO) 26SELECT * FROM dbo.stc_blp_validapago WHERE id_validapago = @ID_VALIDAPAGO;27SELECT * FROM stc_blp_tradicional_pago WHERE id = @ID_PAGO;28SELECT * FROM stc_blp_tradicional_pago_registro WHERE id_pago = @ID_PAGO;29SELECT * FROM PSE_TRA_PAGO_CUENTA WHERE FK_STC_BLP_VALIDAPAGO = @ID_VALIDAPAGO;30SELECT * FROM PSE_LOG_TRANSACCION_CUOTA WHERE FK_ID_VALIDA_PAGO = @ID_VALIDAPAGO;3132-- REVERSAR PAGO33 EXEC dbo.PA_PRO_TRANSACCION_REVERSION @P_ID_VALOR = 6649121, -- id_validapago34 @P_USUARIO = '', -- varchar(50)35 @P_TIPO_ORIGEN = 'x', -- varchar(1)106

36 @P_NUM_OPERACION = '', -- varchar(50)37 @P_MONTO_PAGO = 0 -- int3839  DECLARE @V_VALIDAPAGO INT=666483740 UPDATE dbo.stc_blp_validapago SET FK_PSE_CAT_TRANSACCION_STATUS=1 WHERE id_validapago IN (@V_VALIDAPAGO) 41 -- se ejecuta el sp para procesar el pago de nuevo42 EXEC dbo.PA_PRO_PSE_TRANSACCION_PAGO @P_ID_TRADICIONAL_CLIENTE = 0, -- bigint43     @P_ID_TRADICIONAL_CLIENTE_DETALLE = 0, -- bigint44     @P_ID_VALIDA_PAGO =  @V_VALIDAPAGO    , -- bigint45     @P_DEBUG =0-- int464748 SELECT concat('insert into stc_blp_validapago values (',FK_stc_blp_tradicional_cliente,',',fk_stc_blp_tradicion4950 insert into stc_blp_validapago values (46578,0,1,'Oct 28 2024  1:15PM',130.0000000000,1,'R-045152','1730142928051 SELECT SCOPE_IDENTITY();5253 BEGIN TRAN 54 UPDATE dbo.stc_blp_validapago SET Usuario_Carga = 'user.pex' WHERE id_validapago =66648505556 ROLLBACK 57 COMMIT5859  DECLARE @V_VALIDAPAGO INT=666485060 UPDATE dbo.stc_blp_validapago SET FK_PSE_CAT_TRANSACCION_STATUS=1 WHERE id_validapago IN (@V_VALIDAPAGO) 61 -- se ejecuta el sp para procesar el pago de nuevo62 EXEC dbo.PA_PRO_PSE_TRANSACCION_PAGO @P_ID_TRADICIONAL_CLIENTE = 0, -- bigint63     @P_ID_TRADICIONAL_CLIENTE_DETALLE = 0, -- bigint64     @P_ID_VALIDA_PAGO =  @V_VALIDAPAGO    , -- bigint65     @P_DEBUG =0-- int666768 DECLARE @ID_VALIDAPAGO INT = '6664850';69 DECLARE @ID_PAGO INT;70 SET @ID_PAGO = (SELECT Id_Pago FROM dbo.stc_blp_validapago WHERE id_validapago = @ID_VALIDAPAGO) 71 SELECT * FROM dbo.stc_blp_validapago WHERE id_validapago = @ID_VALIDAPAGO;72 SELECT * FROM stc_blp_tradicional_pago WHERE id = @ID_PAGO;73 SELECT * FROM stc_blp_tradicional_pago_registro WHERE id_pago = @ID_PAGO;74 SELECT * FROM PSE_TRA_PAGO_CUENTA WHERE FK_STC_BLP_VALIDAPAGO = @ID_VALIDAPAGO;75 SELECT * FROM PSE_LOG_TRANSACCION_CUOTA WHERE FK_ID_VALIDA_PAGO = @ID_VALIDAPAGO;7677 SELECT * FROM dbo.stc_blp_tradicional_pago WITH(NOLOCK) WHERE id_validapago = 66648507879 BEGIN TRAN 80 UPDATE dbo.stc_blp_tradicional_pago SET Saldo_Al_Pago = 5.4119500364 WHERE id = 35525208182 UPDATE dbo.stc_blp_tradicional_pago SET Saldo_Al_Pago = 35.3036699348 WHERE id = 35525218384 ROLLBACK 85 COMMIT8687107

INC-4395 - Corregir operaciones activas - saldo 0Tema:Corrección de operaciones activas con saldo 0Descripción del problema:El cliente Jonathan Andrés Segura Carvajal con ID de operación 113700120 y número de cliente 129719 presenta varias operaciones que deberían estar inactivas debido a que tienen saldo 0, pero el sistema las mantiene como activas y con cuotas generadas. Se observa un saldo residual negativo de -0.46 colones en el campo "Monto cancelación," lo cual podría estar impidiendo que el sistema actualice el estado de estas cuentas a inactivo.Análisis y acciones tomadas:1. Verificación del saldo residual: Se identificó que el saldo de -0.46 colones en el "Monto cancelación" podría estar afectando el cambio de estado de la cuenta.2. Evaluación del estado de la cuenta: Se revisó que la cuenta sigue activa a pesar de tener saldo 0, probablemente debido al saldo residual negativo.3. Sincronización del estado de cuenta: Se consideró necesario realizar una sincronización del estado de la cuenta para corregir el problema.4. Actualización de estado: Se procedió a aplicar una solución en la base de datos para actualizar el estado de las operaciones a inactivo y sincronizar los saldos, asegurando que no se generen cuotas adicionales incorrectas.Validación y cierre:Tras la actualización de los estados y la sincronización de saldos, se validará que las operaciones queden inactivas sin cuotas generadas erróneamente. Se realizará una revisión final para confirmar que el saldo refleje 0 y que el estado inactivo esté correctamente aplicado.Solución aplicada:Se ejecutaron los siguientes comandos SQL para cambiar el estado de las operaciones y sincronizar el saldo: Código proporcionado:Incluido en la sección de "Solución aplicada."Resultado:Se espera que las operaciones queden en estado inactivo sin generar cuotas adicionales. El saldo debe reflejar un valor de 0.Sistema Relacionado:Core GeneralFlujo relacionado:Estado de operaciones1UPDATE dbo.stc_blp_tradicional_cliente_detalle2SET fk_stc_par_status = 133WHERE pk_stc_blp_tradicional_cliente_detalle IN (280203, 284167, 299105, 302463, 302911, 316459, 322040, 336397,45EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS 6    @P_PK_STC_BLP_TRADICIONAL_CLIENTE = 230910, -- bigint7    @P_PK_STC_PAR_MONEDA = 1, -- bigint8    @P_USUARIO = '', -- varchar(50)9    @P_MODO_EJECUCION = 0, -- smallint10    @P_OPCION = 0, -- smallint11    @P_IDENTIFICADOR_EXTERNO = ''; -- varchar(50)12108

Causa:El saldo residual negativo de -0.46 colones en el "Monto cancelación" impide que el sistema cierre correctamente la cuenta, manteniéndola activa y generando cuotas erróneas.Solución:Ajustar el saldo a cero y sincronizar el estado de la cuenta para que quede inactiva y sin cuotas adicionales.Causa raíz relacionada:INC-2844 - Estado y saldo de la cuota incorrectoTipo de solución:Workaround.Impacto:Para aplicar el cambio en las cuentas afectadas y asegurar que queden en estado inactivo y con saldo ajustado a 0, el comando SQL es el siguiente: Este comando realiza los siguientes ajustes:1. Estado Inactivo (fk_stc_par_status = 13): Cambia el estado de todas las cuentas en la lista proporcionada a inactivo.2. Saldo Ajustado a Cero (saldo_actual = 0): Establece el saldo en cero para reflejar correctamente que estas cuentas no tienen deuda pendiente.Posible automatizacion: 1UPDATE dbo.stc_blp_tradicional_cliente_detalle2SET fk_stc_par_status = 13, -- Cambiar estado a inactivo3    saldo_actual = 0        -- Ajustar saldo a cero4WHERE pk_stc_blp_tradicional_cliente_detalle IN (287565, 314573, 240213, 294156, 259081, 258173, 303523, 364225,5                                                 361967, 365080, 371209, 35941, 39373, 171714, 42571, 43647, 5226                                                 59289, 64231, 76526, 83283, 85677, 88787, 94127, 94735, 107456,7                                                 114178, 115326, 117054, 120827, 129512, 135767, 138926, 145103,8                                                 148025, 192472, 190962, 160823, 174761, 203837, 184976, 236441,9                                                 185438, 186938, 189458, 192140, 197218, 232460, 208961, 268954,10                                                 245754, 268640, 241324, 241856, 241130, 258333, 272650, 256250,11                                                 241429, 321214, 263352, 245147, 344503, 335918, 338345, 311637,12                                                 302567, 278815, 280104, 258055, 243222, 235564, 272991, 235879,13                                                 239888, 357088, 318628, 343109, 361377, 366380, 371853);141CREATE PROCEDURE [dbo].[PA_PRO_PRTG_CLIENTES_SALDO_INCORRECTO]2 @P_PAIS INT = 506,3 @P_Usuario VARCHAR(20) = 'PRTG'4AS5BEGIN6    BEGIN TRY7        DECLARE @V_OBJECT_NAME VARCHAR(300) = ISNULL(OBJECT_NAME(@@PROCID), 'PA_PRO_PRTG_CLIENTES_SALDO_INCORRE8        DECLARE @V_PUNTO_CONTROL INT = 10000;9        DECLARE @V_PAIS CHAR(3) = CONVERT(CHAR(3), @P_PAIS);10        DECLARE @V_ID_PROCEDIMIENTO INT = 62; -- Asigna el valor correcto de PK_SOP_PAR_MONITOREO para este pro11        DECLARE @V_NOMBRE_ALERTA VARCHAR(100);1213        -- Variables para el monitoreo14        DECLARE @V_FK_STC_BLP_TRADICIONAL_CLIENTE_DETALLE INT;15        DECLARE @V_PK INT;16        DECLARE @V_CICLO SMALLINT = 1;109

17        DECLARE @V_ULTIMA_LLAVE INT = 0;18        DECLARE @V_ID_LOG INT;1920        -- Obtener el nombre de la alerta21        SET @V_NOMBRE_ALERTA = (SELECT PROCEDIMIENTO FROM SOP_PAR_MONITOREO WITH (NOLOCK) WHERE PK_SOP_PAR_MONI2223        -- Verificar si la tabla temporal existe y eliminarla si es necesario24        IF OBJECT_ID('tempdb.dbo.#TMP_WRK_CLIENTES_SALDO_INCORRECTO', 'U') IS NOT NULL25        BEGIN26            DROP TABLE #TMP_WRK_CLIENTES_SALDO_INCORRECTO;27        END;2829        -- Crear la tabla temporal para almacenar registros afectados30        CREATE TABLE #TMP_WRK_CLIENTES_SALDO_INCORRECTO31        (32            PK_TMP_WRK_MONITOREO_AUTOMATICO INT IDENTITY(1, 1) PRIMARY KEY,33            FK_STC_BLP_TRADICIONAL_CLIENTE_DETALLE INT,34            SALDO_ACTUAL DECIMAL(18, 2),35            ESTADO INT36        );3738        -- Insertar registros afectados en la tabla temporal39        INSERT INTO #TMP_WRK_CLIENTES_SALDO_INCORRECTO (FK_STC_BLP_TRADICIONAL_CLIENTE_DETALLE, SALDO_ACTUAL, E40        SELECT b.PK_STC_BLP_TRADICIONAL_CLIENTE_DETALLE, b.saldo_actual, 141        FROM dbo.stc_blp_tradicional_cliente_detalle b WITH (NOLOCK)42        WHERE b.fk_stc_par_status = 10 AND b.saldo_actual <= 0;4344        SET @V_PUNTO_CONTROL = 10100;4546        -- Verificar si existen registros afectados47        IF (SELECT COUNT(1) FROM #TMP_WRK_CLIENTES_SALDO_INCORRECTO WITH (NOLOCK) WHERE ESTADO = 1) > 048        BEGIN49            -- Verificar si el procedimiento está activo50            IF (SELECT BIT_ACTIVO FROM SOP_PAR_MONITOREO WITH (NOLOCK) WHERE PK_SOP_PAR_MONITOREO = @V_ID_PROCE51            BEGIN52                -- Iniciar ciclo para procesar cada registro afectado53                WHILE (SELECT COUNT(1) FROM #TMP_WRK_CLIENTES_SALDO_INCORRECTO WITH (NOLOCK) WHERE ESTADO = 1) 54                BEGIN55                    -- Obtener el siguiente registro56                    SELECT TOP 1 @V_PK = PK_TMP_WRK_MONITOREO_AUTOMATICO,57                                 @V_FK_STC_BLP_TRADICIONAL_CLIENTE_DETALLE = FK_STC_BLP_TRADICIONAL_CLIENTE_DET58                    FROM #TMP_WRK_CLIENTES_SALDO_INCORRECTO59                    WHERE ESTADO = 1;6061                    -- Control de ciclos para evitar bucles infinitos62                    IF (@V_ULTIMA_LLAVE = @V_PK)63                    BEGIN64                        IF (@V_CICLO > 2)65                        BEGIN66                            UPDATE #TMP_WRK_CLIENTES_SALDO_INCORRECTO SET ESTADO = 2 WHERE PK_TMP_WRK_MONITOREO67                            SET @V_CICLO = 1;68                        END69                        ELSE70                        BEGIN71                            SET @V_CICLO = @V_CICLO + 1;72                        END;73                    END74                    ELSE110

75                    BEGIN76                        SET @V_ULTIMA_LLAVE = @V_PK;77                    END;7879                    -- Registrar en log el inicio del proceso80                    INSERT INTO SOP_LOG_MONITOREO_PRTG (PROCEDIMIENTO, FK_SOP_PAR_MONITOREO, FECHA_INICIO, PAIS81                    VALUES (@V_NOMBRE_ALERTA, @V_ID_PROCEDIMIENTO, GETDATE(), @P_PAIS, CONCAT('@FK_STC_BLP_TRAD8283                    SET @V_ID_LOG = SCOPE_IDENTITY();8485                    -- ================== [INICIO DE LA SOLUCIÓN] ====================86                    -- Actualización de `fk_stc_par_status` a 13 para cada registro afectado87                    UPDATE dbo.stc_blp_tradicional_cliente_detalle88                    SET fk_stc_par_status = 1389                    WHERE PK_STC_BLP_TRADICIONAL_CLIENTE_DETALLE = @V_FK_STC_BLP_TRADICIONAL_CLIENTE_DETALLE;90                    -- ================== [FIN DE LA SOLUCIÓN] =====================9192                    -- Registrar el fin del proceso en el log93                    UPDATE SOP_LOG_MONITOREO_PRTG94                    SET FECHA_FIN = GETDATE(),95                        PARAMETROS = CONCAT('FK_STC_BLP_TRADICIONAL_CLIENTE_DETALLE = ', @V_FK_STC_BLP_TRADICIO96                        SOLUCION = 'Aplicado'97                    WHERE PK_SOP_LOG_MONITOREO_PRTG = @V_ID_LOG;9899                    -- Actualizar el estado en la tabla temporal100                    UPDATE #TMP_WRK_CLIENTES_SALDO_INCORRECTO SET ESTADO = 2 WHERE PK_TMP_WRK_MONITOREO_AUTOMAT101                END;102103                -- Verificación final para confirmar si todos los registros fueron corregidos104                IF (SELECT COUNT(1) FROM #TMP_WRK_CLIENTES_SALDO_INCORRECTO WITH (NOLOCK) WHERE ESTADO = 1) > 0105                BEGIN106                    SELECT 1 AS 'TODAVÍA HAY REGISTROS AFECTADOS';107                END108                ELSE109                BEGIN110                    SELECT 0 AS 'TODOS LOS REGISTROS FUERON CORREGIDOS';111                END;112            END113            ELSE114            BEGIN115                SELECT 1 AS 'ALERTA NO SE ENCUENTRA ACTIVA. FAVOR REVISAR...';116            END;117        END118        ELSE119        BEGIN120            SELECT 0 AS '¡NO HAY REGISTROS!';121        END;122123        -- Registro en bitácora de ejecución124        SET @V_PUNTO_CONTROL = 0;125        INSERT INTO [dbo].[MAN_LOG_EJECUCION_PROCESOS] ([PROCESO], [CPU], [READS], [DURACION_SEGUNDOS], [ID_PRO126        SELECT @V_OBJECT_NAME AS PROCESO, cpu_time, logical_reads, DATEDIFF(SECOND, start_time, GETDATE()), ses127        FROM sys.dm_exec_requests WITH (NOLOCK) WHERE session_id = @@SPID;128    END TRY129    BEGIN CATCH130        -- Manejo de errores131        IF (@@TRANCOUNT > 0) ROLLBACK TRAN;132        INSERT INTO [dbo].[MAN_LOG_EJECUCION_PROCESOS] ([PROCESO], [CPU], [READS], [DURACION_SEGUNDOS], [ID_PRO111

 133        SELECT @V_OBJECT_NAME AS PROCESO, cpu_time, logical_reads, DATEDIFF(SECOND, start_time, GETDATE()), ses134        FROM sys.dm_exec_requests WITH (NOLOCK) WHERE session_id = @@SPID;135    END CATCH;136END;137GO138112

INC-4344 Aprobación automática de OnfidoTema: Revisión de verificación de usuario con OnfidoDescripción del problema:El usuario MENDEZ LEDEZMA TRACY MARCELL realizó dos procesos de verificación. El primer proceso quedó aprobado (clear) a las 3:47 am, mientras que el segundo quedó en "consider" a las 3:49 am, posiblemente debido a la calidad de las fotos utilizadas.Análisis y acciones tomadas:Actualmente, el sistema considera que el documento esté aprobado (clear) y que tenga un valor de detección de spoofing superior a 0.30. En este caso, el usuario tiene un valor de 0.4446. Además, se requiere un "face match" superior a 90, y el usuario tiene un valor de 0.9496, lo cual está por encima del límite establecido.El estado "consider" en el reporte de similitud facial no se está tomando en cuenta actualmente. Si se desea que este parámetro sea considerado para la validación en el futuro, debería establecerse como un nuevo requerimiento.Validación y cierre:La confusión pudo haberse originado debido a los resultados del primer proceso de verificación del usuario, pero en las tablas del sistema se registró el resultado del segundo proceso, el cual cumple con los parámetros establecidos para aprobar el acceso.Solución aplicada:No se aplicó ninguna solución adicional, ya que el segundo proceso cumple con los parámetros de verificación establecidos.Código proporcionado: SELECT * FROM dbo.SUV_MTR_USUARIO WHERE IDENTIFICACION='114760254'select top 100 * from [dbo].[SUV_CAT_MATRIZ_ONFIDO_BITACORA_CLIENTE] WHERE FK_SUV_MTR_USUARIO=396450 order by 1 DESCResultado: El usuario fue aprobado automáticamente en el segundo proceso de verificación.Sistema Relacionado: ONFIDOFlujo relacionado: ONFIDOCausa: Probablemente la confusión se debió a la existencia de dos procesos de verificación consecutivos con resultados diferentes, lo cual llevó a interpretar incorrectamente el estado del usuario.Solución: Aclarar que el sistema toma en cuenta el último proceso registrado, que en este caso cumple con los requisitos de verificación establecidos.Causa raíz relacionada: INC-2628 Error de onfido en flujo webTipo solución: No aplica debido a que el proceso lo está realizando bien. 113

INC-4460 DTR Confirmado en BCCR y no registrado en SYSDETema:DTR confirmado en BCCR y no registrado en SYSDEDescripción del problema:Se presenta un caso en el que un DTR de ¢1,800,000.00 con la referencia 2024110531024000044225564 está confirmado en el Banco Central de Costa Rica (BCCR) pero no está registrado en el sistema SYSDE.Análisis y acciones tomadas:Se procede a registrar el registro manualmente en SYSDE para que aparezca en el aplicativo.Validación y cierre:Se confirma con el usuario que el registro ya aparece en el aplicativo, validando la corrección del problema.Solución aplicada:Se procede a ingresar el registro manualmente en SYSDE para asegurar que aparezca en el aplicativo.Código proporcionado:Copiar código--ACTUALIZAR EL REGISTRO A LI Y COLOCAR EL CODIGO Y MOTIVO RECHAZO EN 0 USE CR_SERVICIOS_BANCO; BEGIN TRANSACTION update dbo.STC_TRA_TRANSFERENCIA SET estado='LI',CODIGO_ESTADO_FINANCIERA='PR',DESCRIPCION_ESTADO_FINANCIERA='PROCESADA', CODIGO_MOTIVO_RECHAZO=0, MOTIVO_RECHAZO='',NUM_REF_SINPE=/*MODIFICAR*/ WHERE PK_STC_TRA_TRANSFERENCIA in (/*MODIFICAR*/); ROLLBACK COMMIT TRANSACTION -- Con este se realiza el insert en financiera esto si esta confirmado que se realizó el movimiento en el banco central(SOLO EJECUTAR UNA VEZ, TENER CUIDADO) USE CR_SERVICIOS_BANCO INSERT OPENQUERY ([LK_ORA_01], 'select PK_STC_TRA_TRANSFERENCIA, CodEntidad, NumTransaccion, IDOrigen, NombreOrigen, CuentaDebitar, Monto, MonedaDestino, Descripcion, IDDestino, NombreDestino, CuentaAcreditar, Estado, USUARIO_INGRESO, FECHA_INGRESO, USUARIO_MODIFICACION, FECHA_MODIFICACION, ID_EMPRESA, CODIGO_MOTIVO_RECHAZO, MOTIVO_RECHAZO, FECHA_CARGA, FECHA_RECHAZO, ID_TRANSFERENCIA_STP, FECHA_ENVIO, LOTE, FK_SAL_CARGA_REPETIDA, TIPO_SERVICIO, ID_CANAL_ORIGEN, INT_NOTIFICACION_CLIENTE,NUM_REF_SINPE,STR_REF_EXTERNA ,MONTOORIGEN,MONEDAORIGEN,TIPOCAMBIO,FK_STC_CAT_SERVICO_SINPE,TIPOMODALIDAD from BA.STC_TRA_TRANSFERENCIA WHERE ROWNUM = 1' ) SELECT PK_STC_TRA_TRANSFERENCIA, CodEntidad, NumTransaccion, IDOrigen, NombreOrigen, CuentaDebitar, Monto, MonedaDestino, Descripcion, IDDestino, NombreDestino, CuentaAcreditar, 'PO' Estado, USUARIO_INGRESO, FECHA_INGRESO, USUARIO_MODIFICACION, FECHA_MODIFICACION, ID_EMPRESA, null CODIGO_MOTIVO_RECHAZO, null MOTIVO_RECHAZO, FECHA_CARGA, null FECHA_RECHAZO, ID_TRANSFERENCIA_STP, FECHA_ENVIO, LOTE, FK_SAL_CARGA_REPETIDA, TIPO_SERVICIO, ID_CANAL_ORIGEN, INT_NOTIFICACION_CLIENTE, NUM_REF_SINPE, STR_REF_EXTERNA, CASE MontoOrigen WHEN 0 THEN MONTO ELSE MontoOrigen END AS MontoOrigen, --MontoOrigen CASE MONEDAORIGEN WHEN '' THEN MonedaDestino ELSE MonedaOrigen END AS MonedaDestino , CASE TipoCambio WHEN 0 THEN 1 ELSE TipoCambio END AS TipoCambio, FK_STC_CAT_SERVICIO_SINPE, TipoModalidad FROM dbo.STC_TRA_TRANSFERENCIA WITH (NOLOCK) WHERE PK_STC_TRA_TRANSFERENCIA in ();Resultado:Se confirma con el usuario que el registro ya está visible en el aplicativo.Sistema Relacionado:SYSDEFlujo relacionado:(En caso de identificarse algún flujo específico asociado).1sql114

Causa:El DTR fue confirmado en BCCR pero no registrado en SYSDE, lo que pudo generar una discrepancia entre ambos sistemas.Solución:Se ingresa manualmente el registro en SYSDE para corregir la discrepancia y garantizar que aparezca en el aplicativo.Causa raíz relacionada:INC-881Tipo solución:Corrección manual en sistema.Resumen para negocio:Se detectó que una transferencia SINPE de ¢1,800,000.00 no se registró en SYSDE a pesar de estar confirmada en BCCR debido a un problema de integración. Se ingresó manualmente en SYSDE para que el registro aparezca correctamente.115

INC-4423 Error en cuota r-209653Descripción del ProblemaEl cliente reportó que la cuota de octubre no fue cobrada en la cuenta R-209653, ya que el sistema muestra la siguiente cuota a pagar en enero de 2025, omitiendo octubre.Análisis y Acciones TomadasSe revisó el historial de cuotas y se identificó que la cuenta sufrió un cambio de ciclo. Este cambio de ciclo movió la cuota de octubre 15 días, lo que provocó que se cierre en octubre y se reanude en noviembre.Validación y CierreLa cuota de octubre no se omitió por error, sino que fue ajustada debido al cambio de ciclo en la cuenta. Esta es la funcionalidad normal del sistema para cuentas con ciclos modificados.Solución AplicadaNo se requirieron ajustes adicionales, ya que el sistema funcionó según lo esperado.Código ProporcionadoN/AResultadoLa situación fue explicada como un cambio de ciclo de la cuenta y no se encontró error en el sistema.Sistema RelacionadoCOREFlujo RelacionadoGestión de cambios de ciclo en cuentas de clientes.CausaCambio de ciclo en la cuenta.SoluciónExplicar al cliente la funcionalidad de cambio de ciclo y cómo afecta las cuotas.Causa Raíz RelacionadaCambio de ciclo que modificó el calendario de cuotas.116

Tipo de SoluciónExplicación del comportamiento estándar del sistema. 117

INC-4280 Incidencia en ONFIDOTema: Incidencia en ONFIDO con activación sin ID dorsalDescripción del problema: El cliente ARAYA MENA JOHANA PATRICIA se activó en MM Smart el 31/10/2024 sin presentar el documento de identidad con la imagen del dorso. Tras revisar el único registro de ONFIDO relacionado con este cliente, se observó que las dos imágenes proporcionadas eran del ID frontal. Esta misma situación se presentó con otros clientes: VILLEDA RODRIGUEZ LUIS ANTONIO y RAMIREZ HERNANDEZ MIRIAM YOLANDA, quienes se activaron el 01/11 solo con la imagen del ID frontal.Análisis y acciones tomadas:1. Se revisó el proceso en ONFIDO y se observó que las validaciones no impedían el ingreso con la falta del ID dorsal.2. Se creó un ticket con el equipo de ONFIDO para analizar la causa de esta situación y se consultó con José Salas para notificar el caso.3. Se propuso replicar el error haciendo una prueba con un usuario que simule la situación de subir dos imágenes del ID frontal.4. Tony Murillo nos brindó una nueva configuración para que el sistema rechazara escenarios donde el usuario sube dos imágenes del ID frontal. Se realizaron pruebas para validar si el cambio era efectivo.5. Se determinó que los clientes ingresados antes del cambio de configuración deberán ser gestionados manualmente.Validación y cierre: Tras el cambio de configuración realizado el 4 de noviembre a las 4:45 pm, se pudo validar que el sistema ahora rechaza adecuadamente la situación de imágenes duplicadas del ID frontal.Solución aplicada: Configuración de una regla en el sistema para rechazar solicitudes con dos imágenes del ID frontal.Script utilizado:--CRINSERT INTO [dbo].[SUV_CAT_MATRIZ_ONFIDO]           ([FK_SUV_CAT_MARCA]           ,[USUARIO_CREACION]           ,[FECHA_CREACIÓN]           ,[USUARIO_MODIFICACION]           ,[FECHA_MODIFICACION]           ,[TIPO_VALIDACION]           ,[VALOR_EVALUAR]           ,[VALOR_DEFAUL]           ,[TIPO_COMPARADOR]           ,[RESULTADO]           ,[TIPO_DATO]           ,[ESTADO])     VALUES           (5           ,'jose.salas'           ,GETDATE()           ,'jose.salas'           ,GETDATE()           ,'WEBHOOK'           ,'$.reports[0].sub_result'           ,'clear'           ,'='118

           ,'APROBADO'           ,'VARCHAR'           ,1)--SVINSERT INTO [dbo].[SUV_CAT_MATRIZ_ONFIDO]           ([FK_SUV_CAT_MARCA]           ,[USUARIO_CREACION]           ,[FECHA_CREACIÓN]           ,[USUARIO_MODIFICACION]           ,[FECHA_MODIFICACION]           ,[TIPO_VALIDACION]           ,[VALOR_EVALUAR]           ,[VALOR_DEFAUL]           ,[TIPO_COMPARADOR]           ,[RESULTADO]           ,[TIPO_DATO]           ,[ESTADO])     VALUES           (7           ,'jose.salas'           ,GETDATE()           ,'jose.salas'           ,GETDATE()           ,'WEBHOOK'           ,'$.reports[0].sub_result'           ,'clear'           ,'='           ,'APROBADO'           ,'VARCHAR'           ,1)--GTINSERT INTO [dbo].[SUV_CAT_MATRIZ_ONFIDO]           ([FK_SUV_CAT_MARCA]           ,[USUARIO_CREACION]           ,[FECHA_CREACIÓN]           ,[USUARIO_MODIFICACION]           ,[FECHA_MODIFICACION]           ,[TIPO_VALIDACION]           ,[VALOR_EVALUAR]           ,[VALOR_DEFAUL]           ,[TIPO_COMPARADOR]           ,[RESULTADO]           ,[TIPO_DATO]           ,[ESTADO])     VALUES           (10           ,'jose.salas'           ,GETDATE()           ,'jose.salas'           ,GETDATE()           ,'WEBHOOK'119

           ,'$.reports[0].sub_result'           ,'clear'           ,'='           ,'APROBADO'           ,'VARCHAR'           ,1)Se hace el insert para CR, se pide validación. Posterior que se ve que está generando bien los procesos se ejecuta para los demás países.Resultado: El proceso de validación fue ajustado para evitar la activación de usuarios que no presenten la imagen del dorso del ID. Se confirmó que el sistema ahora gestiona correctamente este escenario.Sistema Relacionado: MM SmartFlujo relacionado: Activación de cliente mediante ONFIDOCausa: El sistema permitía la activación de clientes sin la verificación de la imagen del dorso del documento de identidad.Solución: Implementar una regla en el sistema que impida la activación si el cliente no aporta la imagen del dorso del documento de identidad.Causa raíz relacionada: INC-2628 Error de onfido en flujo webTipo solución: Ajuste de configuración en el sistema.120

INC-4451-Pagare R-095160 se observa que no se marca la casilla del extracto de la póliza de seguro, en el reverso del documento carta de comunicaciónDescripción del problema: Durante la impresión de la carta de comunicación del cliente Guadalupe del Carmen Mendoza Vela, la casilla “Declaro que el extracto de la póliza de seguro fue entregada para mi lectura” no estaba marcada correctamente para los seguros de vida (tipo de cargo 20). Esta casilla debía ser marcada con una "X" cuando el cliente poseía seguros de vida, pero esto no estaba ocurriendo, lo cual generaba una inconsistencia en la comunicación.Análisis y acciones tomadas:Paso 1: Identificación del ProblemaSe recibió un reporte de un cliente donde el documento impreso del reverso de la carta de comunicación no tenía marcada la casilla de entrega condicionada de seguros de vida.La primera acción fue verificar manualmente la información del cliente y confirmar si efectivamente la casilla estaba vacía. Esta verificación corroboró la existencia de la anomalía.Paso 2: Diagnóstico Inicial y Revisión de ConfiguraciónSe procedió a revisar el proceso de validación relacionado con la entrega condicionada de seguros, el cual está implementado en la función de base de datos [dbo].[FN_CON_CRT_ENTREGA_CONDICIONADA].Durante el proceso de depuración (debugging) de la función, se identificó que ciertos seguros de vida (tipo de cargo 20 seguro vida) no estaban siendo evaluados adecuadamente, lo que resultaba en que la casilla de entrega condicionada no se marcara.ya que estos seguros para ser contemplados por la funsion tiene que tener el campo ES_SEGURO_DEUDA_VIDA en 1 Paso 3: Validación de la Configuración del Seguro de VidaPara identificar cuál era la configuración del seguro que podía estar causando el problema, se ejecutó la siguiente consulta SQL:, es decir, el valor debía ser '1' para ser considerado como seguro de vida, pero no lo estaba.Paso 4: Identificación de la Plantilla AfectadaSe ejecutó la siguiente consulta para identificar cuál era la plantilla que estaba vinculada con el problema de la entrega condicionada:Esta consulta permitió identificar la plantilla específica llamada ENTREGA_CONDICIONADA, la cual se utilizaba para la entrega de los documentos impresos y estaba omitiendo la marca de entrega condicionada debido a la configuración incorrecta de los seguros.Paso 5: Corrección de la Configuración, asegurando que el campo ES_SEGURO_DEUDA_VIDA estuviera configurado en '1' para que el seguro de vida fuera identificado correctamente.Además, se realizaron ajustes en la plantilla identificada (ENTREGA_CONDICIONADA) para que la entrega condicionada fuera reflejada de manera adecuada en los documentos proporcionados a los clientes.Paso 6: Validación y PruebasDespués de realizar los ajustes, se llevaron a cabo pruebas exhaustivas para confirmar que los seguros de tipo de cargo 20 ahora fueran evaluados correctamente por la función [dbo].[FN_CON_CRT_ENTREGA_CONDICIONADA].1SELECT TOP 1 TCC.FK_PSE_CAT_TIPO_CARGO, TCA.ES_SEGURO_DEUDA_VIDA, *2FROM F2P_VENTAS_SV.dbo.impresion I WITH (NOLOCK)3INNER JOIN F2P_VENTAS_SV.dbo.pagare P WITH (NOLOCK) ON P.id_pagare = I.id_pagare4INNER JOIN F2P_VENTAS_SV.dbo.VEN_TRA_TIPO_CARGO_CLIENTE TCC WITH (NOLOCK) ON TCC.IDENTIFICACION_CLIENTE =5INNER JOIN dbo.PSE_CAT_TIPO_CARGO TCA WITH (NOLOCK) ON TCA.PK_PSE_CAT_TIPO_CARGO = TCC.FK_PSE_CAT_TIPO_CA6WHERE P.pagare = 'R-095160';1SELECT * FROM F2P_VENTAS_SV.dbo.IMP_CAT_PLANTILLA_TAG WHERE STR_NOMBRE='ENTREGA_CONDICIONADA';121

Las pruebas confirmaron que la plantilla del kit reflejaba correctamente la condición de entrega para los seguros de vida, y que la casilla de entrega condicionada se marcaba como correspondía.Para verificar qué seguros de vida tenían el campo ES_SEGURO_DEUDA_VIDA con valor '0', se ejecutó la siguiente consulta de monitoreo:Esta consulta permitió identificar todos los seguros de vida que no estaban correctamente configurados., asegurando que el campo ES_SEGURO_DEUDA_VIDA estuviera configurado en '1' para que el seguro de vida fuera identificado correctamente.Además, se realizaron ajustes en la plantilla identificada (ENTREGA_CONDICIONADA) para que la entrega condicionada fuera reflejada de manera adecuada en los documentos proporcionados a los clientes.Validación y cierre: Se verificó que todos los cambios aplicados resolvieron el problema de manera efectiva y que el sistema ahora cumple con los requisitos de negocio respecto a la entrega condicionada de seguros de vida.Solución aplicada: Actualización de la configuración del seguro de vida (FK_PSE_CAT_TIPO_CARGO) en la tabla PSE_CAT_TIPO_CARGO y ajuste en la plantilla ENTREGA_CONDICIONADA para asegurar que la entrega condicionada esté correctamente reflejada.Resultado: La función [dbo].[FN_CON_CRT_ENTREGA_CONDICIONADA] y la plantilla ahora reflejan correctamente la condición de entrega condicionada para los seguros de tipo de cargo 20. Las pruebas posteriores a la modificación confirmaron el cumplimiento de los requisitos establecidos.Sistema Relacionado: Sistema de Gestión de Seguros, cargos recurrentes.Flujo relacionado: Proceso de validación de entrega condicionada y generación de la plantilla de entrega de seguros.Causa (con palabras para negocio): La plantilla de comunicación utilizada para la entrega de los seguros no estaba configurada correctamente para marcar la entrega condicionada en los casos en que correspondía, debido a una configuración incorrecta en la función de validación de seguros de vida.Solución (con palabras para negocio): Se corrigieron la función de validación y la configuración de la plantilla para asegurar que los seguros de vida sean correctamente identificados y que las entregas condicionadas se reflejen adecuadamente en la documentación provista al cliente.Causa raíz relacionada: Configuración incorrecta del flag de seguro de vida en la base de datos y en la plantilla de comunicación.Tipo solución: Corrección de configuración y ajuste en la función SQL y la plantilla de comunicación.1SELECT ES_SEGURO_DEUDA_VIDA, *2FROM dbo.PSE_CAT_TIPO_CARGO3WHERE DESCRIPCION LIKE '%VIDA%'4AND ES_SEGURO_DEUDA_VIDA = 0;122

INC-4437 Movimientos Bancarios del mes de Octubre-24 con número de referencias en Marzo.Tema: INC-4437 - Inconsistencias en el Reporte de Movimientos Bancarios de OctubreDescripción del problema: En el reporte de movimientos bancarios del 30 de octubre de 2024 para las cuentas 0166 y 0386, se observaron transacciones de marzo de 2021 que aparecían con sus referencias de ese mes en lugar de octubre. Esta discrepancia en las referencias generó confusión en la consistencia del reporte de movimientos del mes actual.Análisis y acciones tomadas:1. Identificación de transacciones: Se detectaron cinco transacciones antiguas en el reporte de octubre. Tras revisión, se identificó que las referencias de estas transacciones no correspondían al mes actual.2. Consulta sobre configuración de fechas: Se planteó si la inclusión de estas transacciones se debía a una configuración que interpretaba datos antiguos en la fecha de corte actual.3. Confirmación de ajuste y corrección manual: Se determinó que una configuración temporal en el sistema estaba causando que se reflejaran transacciones históricas con sus referencias originales en el reporte de octubre.4. Modificación manual adicional: Johanna realizó una modificación directa para ajustar las referencias de las transacciones afectadas sin alterar otros registros. Con este ajuste, se actualizaron únicamente los movimientos necesarios para que se reflejen en el reporte con las referencias correctas de octubre.Validación y cierre: La corrección manual de las referencias fue verificada y se confirmó que el reporte de octubre ya no muestra las transacciones con referencias de marzo.Solución aplicada: Se realizó un ajuste en las referencias de las transacciones afectadas para garantizar que el reporte de octubre refleje únicamente los movimientos de dicho mes.Código proporcionado: N/AResultado: El reporte de octubre ahora refleja únicamente los movimientos correspondientes a ese mes, eliminando las inconsistencias en las referencias.Sistema Relacionado: CC (Sistema de Movimientos Bancarios)Flujo relacionado: Reporte de Movimientos BancariosCausa: Durante el cierre del 30 de octubre, se realizó un ajuste manual que afectó ciertas transacciones antiguas de marzo de 2021. Este ajuste manual no incluyó un cambio en las referencias, causando que el reporte mostrara transacciones de octubre con referencias de marzo.Solución: Ajuste en las referencias de las transacciones antiguas para corregir las inconsistencias en el reporte de movimientos de octubre, incluyendo una modificación manual realizada por Johanna para corregir directamente las transacciones afectadas.Causa raíz relacionada: Configuración temporal que afectaba cómo se presentaban ciertos registros históricos en el reporte.Tipo solución: Ajuste temporal/manualResumen para negocio: Se detectaron y corrigieron inconsistencias en el reporte de movimientos de octubre, donde aparecían transacciones antiguas de marzo debido a una configuración temporal en el sistema. Johanna aplicó una corrección manual a las transacciones afectadas, asegurando que el reporte refleje únicamente la información correspondiente a octubre y garantizando la precisión de los datos mostrados.123

INC-4470 - No se pueden cancelar los clientes en el Core, escenario clientes de comercios con estado inactivoTema: INC-4470 - Problema para cancelar clientes en el CoreDescripción del problema:No se pueden cancelar clientes en el sistema Core para cuentas asociadas a comercios en estado "Inactivo" y saldo en cero. Los casos específicos incluyen los clientes Santiago Nohel Zúñiga Quesada (ID: 116730211) y Marilyn Dalolio Aguilar (ID: 111570113), cuyas cuentas muestran el mensaje "SIN CAMBIO DE ESTADO" al intentar realizar la cancelación.Análisis y acciones tomadas:1. Se revisaron las reglas de negocio y configuraciones del sistema Core para la cancelación de cuentas en estado inactivo y con saldo en cero.2. Se identificó que el mensaje "SIN CAMBIO DE ESTADO" sugiere una restricción del sistema que impide modificar el estado de estas cuentas.3. Se realizaron pruebas en un ambiente controlado replicando las condiciones de los casos para verificar las restricciones de cancelación en el sistema.Validación y cierre:Se aplicó una actualización en la base de datos para modificar el estado de las cuentas afectadas y permitir su cancelación. Solución aplicada: Código proporcionado:(Código SQL proporcionado en "Solución aplicada")Resultado:En proceso de verificación para confirmar si las cuentas afectadas ahora reflejan el estado actualizado y cumplen con los requisitos para su cancelación.Sistema Relacionado:Core de Clientes y Cuentas de ComercioFlujo relacionado:Proceso de cancelación de clientes y cuentas de comercio en estado inactivo.Causa:Restricciones en el sistema Core que impiden la cancelación de cuentas inactivas con saldo cero.Solución:Aplicación de un cambio de estado en la base de datos para permitir la cancelación de las cuentas afectadas.Causa raíz relacionada:(Vacío)Tipo solución:Workaround.1UPDATE dbo.stc_blp_tradicional_cliente_detalle 2SET fk_stc_par_status = 19 3WHERE pk_stc_blp_tradicional_cliente_detalle IN (340792, 298944, 305744, 316241);124

INC-4405 Cliente sin OnfidoTema: INC-4405 - Cliente sin OnfidoDescripción del Problema:El caso reportado involucra a la cliente MOREIRA ULLOA XINIA con número de identificación 6-0241-0982, quien fue activada en el sistema mediante MM Smart Automático el día 01/11/2024, sin realizar una validación de Onfido actualizada. En su lugar, se utilizó un Onfido antiguo. Según las políticas internas, todos los clientes con créditos cancelados debían ser sometidos a un proceso de limpieza para evitar su reactivación con datos de validación desactualizados. No obstante, se evidenció que en este caso particular, la activación se llevó a cabo de manera que incumplió estas medidas.Análisis y Acciones Tomadas:1. Investigación Inicial del Problema:La primera verificación indicó que la cliente había tenido un crédito cancelado en el pasado. Inicialmente se mencionó que la cancelación había sido en el año 2016, pero al revisar los registros y tablas correspondientes, se confirmó que el cambio de estado a "cancelado" fue reciente, ocurriendo en 2024. La cuenta pasó a inactiva el 30/08/2024 y posteriormente a cancelada el 27/09/2024.2. Comparación con Casos Previos:Se realizó un análisis en relación con el caso INC-2140 (Error en el Flujo Web), donde se había realizado una limpieza de datos para 6119 usuarios. La limpieza tenía el objetivo de inhabilitar cuentas que pudieran utilizar Onfidos antiguos. Se constató que la cliente en cuestión no formó parte de dicho grupo porque su cuenta estaba activa durante la ejecución del proceso.3. Revisión Técnica del Estado del Cliente:Al validar los estados correspondientes del cliente, se observó que la solicitud estaba en estado 8 (aprobado) y la MTR en estado 2212 (aprobado), pero no había Check ID ni registros asociados a Onfido, ya que las validaciones anteriores, realizadas manualmente, no quedaron almacenadas en logs actuales debido a la antigüedad de la operación.4. Consulta y Verificación Interna:Tony Murillo corroboró que la limpieza de datos efectuada no incluyó a la cliente, ya que estaba activa al momento del impacto, por lo que continuó con el escenario reportado. Adicionalmente, se identificó que un RQ relacionado con la mejora del flujo de Onfido aún está en proceso de desarrollo, lo que afecta la gestión de casos como este.5. Impacto y Consideraciones Adicionales:El hecho de que la cuenta no fuera incluida en el proceso de limpieza refleja un comportamiento esperado para cuentas activas al momento de la ejecución, pero también expone una oportunidad de mejora para manejar casos con estados transicionales.En Onfido, no se conservaron datos de la validación antigua debido a la naturaleza manual de la misma y la posterior incorporación de sistemas automáticos de registro.Validación y Cierre:La situación no se considera un error del sistema propiamente dicho, sino una consecuencia lógica de los procesos aplicados y el estado del cliente durante la ejecución de la limpieza. Se identificó que el flujo de validación de Onfido no cubre casos de este tipo, lo que resalta la necesidad de ajustar el manejo de clientes con créditos cancelados que transicionen a estados activos. El RQ en proceso busca atender esta limitación.125

Solución Aplicada:La solución inmediata implica continuar el desarrollo del RQ relacionado para actualizar el proceso de validación mediante Onfido, especialmente en casos con cuentas de transición entre estados. No se realizó una corrección directa en la cuenta de la cliente, ya que el sistema operó de acuerdo a su lógica actual.Código Proporcionado:(No aplica)Resultado:El análisis confirmó que la cliente ingresó utilizando un Onfido antiguo debido a que su cuenta no fue impactada durante la limpieza de datos previa. Esto se debe a que estaba activa en el momento de la ejecución de la limpieza, lo que impidió su inhabilitación. La solución a largo plazo se enfocará en ajustar el proceso de validación para prevenir futuros casos similares.Sistema Relacionado:MM Smart Automático / OnfidoFlujo Relacionado:Flujo de validación de clientes mediante OnfidoCausa:La activación de la cliente mediante un Onfido antiguo se debe a que su cuenta no fue impactada durante la limpieza de usuarios con créditos cancelados. Esto ocurrió porque, al momento del impacto, su cuenta estaba activa, por lo que no fue considerada en el proceso de inhabilitación. Como resultado, se reactivó sin pasar por una validación actualizada, lo que expone una brecha en el manejo de cuentas en transición de estado.Solución:La solución implica continuar con la actualización del proceso de validación de Onfido para contemplar situaciones en las que clientes con estados cambiantes (de activo a cancelado, y viceversa) no queden exentos del control de limpieza. Se busca asegurar que ningún cliente pueda ser reactivado sin una validación actualizada, fortaleciendo así la seguridad y el cumplimiento del flujo de Onfido.Causa Raíz Relacionada:INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo de Solución:(No aplica)126

INC-4272 - Diferencia en reportería entre el saldo final e inicial del día 09/10 vs el día 10/10 en la cuenta de desembolsos 101005000331Descripción del ProblemaSe identificó una discrepancia en los reportes de saldo diario entre el saldo final del día 09/10 y el saldo inicial del día 10/10 en la cuenta de desembolsos #101005000331. La diferencia reportada fue de ¢72,265, lo que generó inconsistencias en el proceso de conciliación bancaria.Análisis y Acciones TomadasDurante la revisión, se encontró que la causa de la discrepancia era una transacción de reversión que no se visualizaba en los reportes debido a una configuración incorrecta. Se procedió a ajustar dicha configuración para permitir que las transacciones de reversión se reflejen adecuadamente en los reportes.Validación y CierreUna vez aplicada la corrección en la configuración, se validaron los reportes para asegurar que los saldos se reflejen de manera coherente. La discrepancia fue eliminada, y el problema quedó solucionado y verificado.Solución AplicadaSe actualizó la configuración de reportes para que las transacciones de reversión se visualicen correctamente en los reportes, lo que solucionó la discrepancia entre los saldos de los días 09/10 y 10/10.Código ProporcionadoEsta mas abajo ResultadoEl ajuste en la configuración permitió que el sistema mostrara los saldos correctamente entre días consecutivos, eliminando la discrepancia detectada en la cuenta de desembolsos.Notas AdicionalesPara evitar incidentes similares en el futuro, se recomienda realizar auditorías periódicas en la configuración de reportes y establecer controles para validar que todas las transacciones especiales, como las reversiones, se reflejen adecuadamente en los reportes diarios.Detalles del SistemaSistema Relacionado: Sistema de Reportes.Flujo Relacionado: Reporte de Movimientos.CausaLa discrepancia fue causada por una configuración incorrecta que impedía la visualización de transacciones de reversión en los reportes.127

SoluciónSe corrigió la configuración del sistema para garantizar que las transacciones de reversión aparezcan adecuadamente en los reportes diarios.Tipo de SoluciónWorkaroundCausa Raíz RelacionadaINC-4550: Configuración no deja ver en el reporte de movimientos un tipo de reversión  COMPLETADO Caso RelacionadoINC-4272: Diferencia en reportería  entre el saldo final e inicial del día 09/10 vrs el día del 10/10 en la cuenta de desembolsos 101005000331RESUELTO En este caso se tuvo suerte que era un único movimiento que no se visualizaba por lo que con el siguiente Query se encontró el movimiento, si son varios movimientos se debe analizar de otra forma luego para encontrar todos los movimientos usamos los siguientes dos querys con esto podemos revisar el reporte que seria el siguiente, se modifica solo el #cuenta y las fechas 1 Select A.Cod_usuario, A.Fec_real, A.Des_movimiento, A.Cargos, A.Abonos,2       '=F1+E2-D2' As "0", A.Num_movto_d, A.Num_asiento, A.Num_documento,3       A.Tip_transaccion, A.Subtip_transac, A.Tip_movimiento, Estado_movimto, Num_asiento4  From Cc.Movimto_cuenta_efectivo A5 Where     A.Cod_empresa = '1'6       And A.Num_cuenta = 101005000331 --cambiar por #cuenta7       And A.Estado_movimto = 'C'8       and a.fec_movimiento='2024-10-09 00:00:00' --poner el dia exacto9       and mon_movimiento=7226510Order By A.Num_movto_d Asc;1select * from movimto_histori where cod_empresa='1' and num_movto_d in (13201776)1select * from movimto_histori where cod_empresa='1' and num_documento =30901 and sistema_fuente='CC'128

 en el sp se encuentra el siguiente texto que como lo ocupamos usamos la técnica del print1USE CR_SERVICIOS_BANCO2exec CC.CC_REP_ESTADO_CUENTA'101005000331','2024-10-08','2024-10-11','G-Admin-Azure-Storage-SoporteProd|G-Admin-S129

con ese texto que sacamos le pondremos a los 3 select and B.NUM_MOVTO_D in (13197090,13201776) que son los 2 movimientos el cash y la reversión. Ahora es ir quitando uno a uno cada select para ver de donde sale de los 3, cuando lo tendremos para mas facilidad podemos moverlo a Oracle, en mi caso era el 3 select que seria este 1 SELECT A.NUM_CUENTA,2           B.FEC_MOVIMIENTO,3           B.NUM_MOVTO_D,4           B.DESCRIPCION,5           CASE6               WHEN C.TIP_MOVIMIENTO = 'D' THEN7                   B.MON_MOVIMIENTO8               ELSE9                   010           END MON_MOVIMIENTO_D,11           CASE12               WHEN C.TIP_MOVIMIENTO = 'C' THEN13                   B.MON_MOVIMIENTO14               ELSE15                   016           END MON_MOVIMIENTO_C,17           0 MON_SALDO,18           1 IND_VISIBLE,19           0 IND_SALDO,20                            /*INICIO 0005.01*/21           B.TIP_TRANSACCION,130

 22           B.SUBTIP_TRANSACC,23           B.NUM_DOCUMENTO, /*FIN 0005.01*/24                            /* INICIO <0010.01> */25           B.FEC_MOVIMIENTO FEC_MOVIMIENTO_HISTORICO26    /* FIN <0010.01> */27    FROM CC.CUENTA_EFECTIVO A28        INNER JOIN CC.MOVIMTO_HISTORI B 29            ON A.NUM_CUENTA = B.NUM_CUENTA30        INNER JOIN PA.CAT_TIP_TRANSAC C 31            ON B.TIP_TRANSACCION = C.TIP_TRANSACCION32               AND C.COD_SISTEMA = 'CC'3334/* <0019.01> INICIO */35        Inner Join Pa.Subtip_transac D36          On     D.Cod_empresa = B.Cod_empresa37             And D.Cod_sistema = 'CC'38             And D.Tip_transaccion = B.Tip_transaccion39             And D.Subtip_transac = B.Subtip_transacc40             And Nvl (D.Imp_estado_cta, 'S') = 'S'41       /* <0019.01> FIN */4243    WHERE A.NUM_CUENTA = '101005000331'44          /* INICIO RELEASE <0007.01> CRISTIAN.CARVAJAL */45          AND ESTADO_MOVIMTO IN ( 'A', 'C', 'E' )46          /* FIN RELEASE <0007.01> CRISTIAN.CARVAJAL */47          /* INICIO <0010.01> */48          AND B.FEC_MOVIMIENTO >= '2024-10-08'49          AND B.FEC_MOVIMIENTO < '2024-10-12'50  and B.NUM_MOVTO_D in (13197090,13201776)51    ORDER BY FEC_MOVIMIENTO,52             /* INICIO <0010.01> */53             NUM_MOVTO_D131

vendrá con comillas 2 veces se debe quitar 1, ya con eso es ir jugando comentando líneas asta que aparezca el que nos falta, en mi caso fue la siguiente linea que al comentar salió  entonces al poner el campo que estaba mal en el select vi que tenia el estado ‘N' el cual es para que no saliera en el reporte, se le explica a Johanna los avances y la causa del problema que en este caso fue que el TIP_TRANSACCION 93 SUBTIP_TRANSACC 8 tenia ese estado 'N’ e indica que es solo activarlo, ella termino activándolo y con eso se revisa el reporte donde ya nos sale sin problema 132

NOTA IMPORTANTE PARA ENTENDER ESA DESCIPCION CASH_CC_30901 [101002000179-101005000331] TC : 511. LEONARDO  AGUILAR FUENTES. R-209958El CC significa el TIPO_TRX y el valor siguiente significa el pk_transferencia de la tabla compra_venta_cash, en este caso tiene 'N' que significa anulado por lo que debe tener una reversión  1select D.Imp_estado_cta,D.* from Pa.Subtip_transac D where D.Tip_transaccion=93 and D.Subtip_transac=81select a.estado,a.* from compra_venta_cash a2where a.TIPO_TRX = 'CC'3 AND a.FEC_MOVIMIENTO = to_Date('08/10/2024','dd/mm/yyyy')4 AND a.pk_transferencia=30901133

INC-4510-Diferencia de saldo en operaciones Descripción del problema: Las cuentas muestran un saldo a favor en las operaciones, el cual necesita ser cancelado para estabilizar los saldos.Análisis y acciones tomadas: Se realizó una revisión de las cuentas y se confirmó la presencia de saldos a favor que requieren una reversión para estabilizar el estado de las operaciones.Validación y cierre: Se procedió a la verificación de cada operación, confirmando la necesidad de aplicar una reversión.Solución aplicada: Se decidió realizar una reversión operativa para cancelar los saldos a favor existentes.Resultado: Saldos a favor cancelados, y las cuentas estabilizadas correctamente.Sistema relacionado: COREFlujo relacionado: Reversión de saldo a favor Causa (con palabras para negocio): Saldos incorrectos generados en operaciones previas que quedaron a favor.Solución (con palabras para negocio): Aplicación de reversión operativa para cancelar los saldos a favor y estabilizar las cuentas.Causa raíz relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo solución: operativa134

INC-4520-Lentitud en core -INC-4546-No carga CoreINC-4520: Core no carga de forma general Nic y CrDescripción del problema:El aplicativo Core presenta problemas generales, específicamente con la carga de datos relacionados con Nic y Cr.Esto indica que hay una falta de respuesta o una carga incompleta para las funcionalidades específicas que involucran estas áreas.Impacto potencial:El sistema podría estar afectando a múltiples usuarios que necesitan acceder a las secciones de Nic y Cr.La falta de carga podría afectar la operación diaria y los procesos dependientes de estas funcionalidades.Acciones sugeridas:1. Monitorear el rendimiento del Core: Realizar una revisión en tiempo real para identificar si hay cuellos de botella o procesos específicos que estén causando la lentitud.2. Verificar logs y métricas del sistema: Buscar errores o advertencias en los logs del servidor para detectar posibles causas subyacentes, como falta de recursos o tiempos de espera prolongados.3. Contactar al equipo de infraestructura: Verificar si hay problemas en la red o recursos del servidor que podrían estar afectando la disponibilidad de Nic y Cr.4. Realizar una prueba de componentes específicos: Comprobar si el problema está asociado a los módulos de Nic o Cr individualmente, o si es un problema generalizado del sistema.Posibles soluciones:1. Reiniciar servicios del Core: Realizar un reinicio controlado de los servicios principales para liberar recursos y resolver bloqueos.2. Optimización de consultas: Revisar y optimizar las consultas relacionadas con Nic y Cr para reducir la carga y mejorar el rendimiento.3. Asignación de recursos adicionales: Aumentar temporalmente la capacidad de procesamiento o memoria del servidor para manejar mejor la carga.4. Aplicación de parches: Verificar si existen actualizaciones o parches que deban aplicarse para mejorar la estabilidad y rendimiento del sistema.5. Escalar al proveedor: Contactar al proveedor del Core si el problema parece estar relacionado con fallas en el software o si no se puede resolver internamente.Resultado de la investigación:La lentitud fue causada por un pico en el servidor de base de datos.Etiquetas agregadas:Sistema relacionado: Core.Flujo relacionado: Consulta CuentaCausa raíz: INC-4556: Problema de lentitud de core por consumo de BDABIERTO Tipo de solución: N/A.Solución al negocio: Aplicativo vuelve a funcionar después de baja de consumo de servidor135

INC-4509-Cliente no aparece en el coreTema:Cliente no aparece en el sistema core para activación.Descripción del problema:El cliente Alexander Price Monge, ID 110950457, fue aprobado en SOC y completó la firma de su contrato en Evicertia. Aunque apareció en logística y el sistema de impresión, no estaba registrado en el sistema core, lo cual impedía la activación de su cuenta.Análisis y acciones tomadas:Se realizó una revisión exhaustiva del flujo de creación de cliente en el sistema core. Andrés Carvajal identificó que el cliente no fue creado correctamente en el core debido a un problema en el flujo de datos, relacionado con un incidente anterior en el proceso de ampliaciones. Posteriormente, se completó el flujo faltante, y el cliente fue registrado en el core con el status "inventario," listo para su activación.Validación y cierre:Flor Aguero verificó que el cliente ya aparecía en el sistema core con el estado correcto, confirmando que la solución fue efectiva. Tras su validación positiva, Andrés Carvajal procedió con el cierre del caso.Solución aplicada:Se completó manualmente el flujo de creación de cliente en el core, asegurando su registro y disponibilidad para la activación.Código proporcionado:(N/A)Resultado:El cliente fue registrado correctamente en el sistema core y está listo para activación.Sistema Relacionado:CoreFlujo relacionado:Flujo de creación de cliente y activación en core.Causa:El problema surgió debido a una interrupción en el flujo de creación de cliente en el sistema core. Esta interrupción fue consecuencia de un fallo previo en el flujo de datos relacionado con el proceso de ampliaciones, lo cual afectó la integración de datos y evitó que el cliente quedara registrado en el core para su activación.Solución:Para resolver el problema, se completó manualmente el flujo de registro en el core, asegurando que el cliente apareciera en el sistema con el estado de "inventario" y permitiendo su activación. Esta solución permitió que el cliente quedara correctamente registrado sin necesidad de intervención adicional, normalizando el proceso de activación.Causa raíz relacionada:(N/A)Tipo solución:12SELECT TOP 100 * FROM F2P_GLOBAL.dbo.UTL_TRA_EXCEPCION WITH(NOLOCK) WHERE FEC_CREACION > GETDATE() -1 AND STR_PA3456BEGIN TRAN7EXEC carga_datos @numero_identificacion = '110950457',8                 @primer_nombre = 'ALEXANDER',136

9                 @segundo_nombre = '',10                 @primer_apellido = 'PRICE',11                 @segundo_apellido = 'MONGE',12                 @fecha_nacimiento = '1981-02-08',13                 @genero = 'Masculino',14                 @estado_civil = 'Casado',15                 @profesion = 'Educador',16                 @patrono = 'MEP',17                 @inicio_empleo = '2020-01-01',18                 @rango_salarial = '1200000',19                 @indice_localizacion = '0',20                 @cantidad_relaciones = '0',21                 @bienes_muebles = '1',22                 @bienes_inmuebles = '0',23                 @vehiculo_propio = '',24                 @cantidad_dependientes = '3',25                 @salario = '1200000',26                 @limite_credito = '3800000.0000',27                 @producto = '305',28                 @telefono1 = '87399296',29                 @telefono2 = '86516235',30                 @telefono3 = '',31                 @telefono4 = '',32                 @telefono5 = '26687010',33                 @telefono6 = '',34                 @provincia = 'PUNTARENAS',35                 @canton = 'BUENOS AIRES',36                 @distrito = 'BUENOS AIRES',37                 @detalle = 'DE LA ESCUELA VERACRUZ 150 METROS CASA COLOR PAPAYA M/I',38                 @provinciat = 'PUNTARENAS',39                 @cantont = 'CORREDORES',40                 @distritot = 'CORREDORES',41                 @detallet = 'CONTIGUO A LA ESCUELA ALBERTO CHANDI',42                 @pagare = 'R-213678',43                 @plazo = '60',44                 @base = '32',45                 @tipo_entrega = '0',46                 @monto_desembolso = '3800000.0000',47                 @monto_credito = '0',48                 @fecha_formalizacion = '2024-11-06',49                 @periodo_pago = '4',50                 @asesor = 'Jerlyn Gomez',51                 @supervisor = '0',52                 @creador = '0000',53                 @orden = '',54                 @cod_agente = '005130892001',55                 @score = '0.06632299553200835',56                 @CD = '',57                 @DPI = '',58                 @NIT = '',59                 @IDIMP = '1492411',60                 @emailIn = 'alexander.price.monge@mep.go.cr',61                 @emailIn_laboral = 'alexander.price.monge@mep.go.cr',62                 @id_tienda = 0,63                 @id_sucursal = 0,64                 @cuota_maxima = '0',65                 @FK_PSE_CAT_PROMOCION_PLAZO = 1,66                 @P_USUARIO = 'Impresion_Automatica',137

67                 @P_MODO_EJECUCION = 0,68                 @P_OPCION = 0,69                 @P_IDENTIFICADOR_EXTERNO = '',70                 @P_TIPO_DESEMBOLSO = 4,71                 @P_NIVEL_RIESGO = 1,72                 @P_TIPO_MODELO = 0,73                 @P_COMERCIO = 1,74                 @P_FECHA_INICIO_ACTIVIDAD_LABORAL = '2020-01-01',75                 @P_RESP_ART15 = 0,76                 @P_RESP_PEP = 0,77                 @P_RESP_PEPConyugue = 0,78                 @P_RESP_FATCA = 0,79                 @P_CR = '';808182ROLLBACK TRAN83COMMIT TRAN(N/A)138

INC-4264-[CR][SEGUROS] Falta de carga de seguros en pagare R-28469Documento de Caso de IncidenteTema: INC-4264-[CR][SEGUROS] - Falta de carga de seguros en pagaré R-28469Descripción del problema:El cliente reporta la falta de carga de sus seguros en el pagaré R-28469 durante los meses de septiembre y octubre de 2024, lo cual afecta la cobertura del seguro de desempleo en curso. La solicitud principal es comprender la causa de esta omisión y asegurar que no se repita, dado que puede haber consecuencias tanto para el cliente como para la empresa en términos de cumplimiento de servicio y satisfacción del cliente.Análisis y Acciones Tomadas1. Análisis Inicial:Luis Diego Salas solicitó comprender la causa de la falta de cargos, dado que existe un reclamo por desempleo que se ve afectado por esta situación.Andrés Carvajal realizó una revisión inicial y observó que no se insertaron las líneas correspondientes para estos dos meses, a diferencia de otros cargos similares.2. Investigación del Sistema:Andrés Carvajal revisó los registros de transacciones, encontrando que los seguros no se crearon junto al monto esperado de 3600. Se consultó al equipo sobre si se debía realizar alguna acción correctiva para incluir los cargos de esos dos meses, a lo cual Luis Diego Salas aclaró que no era necesario, ya que este aspecto fue resuelto internamente.3. Determinación del Alcance:Alberth Morales concluyó que este incidente se considera un caso aislado, sin evidencia de que el problema esté ocurriendo en otras cuentas. Se determinó que el origen del incidente fue una configuración específica en la cuenta del cliente, la cual ha sido corregida y monitorizada.Validación y CierreConfirmación del Caso Aislado: No se identificó un fallo sistémico general, y la configuración problemática fue ajustada. Se estableció monitoreo continuo para garantizar que los futuros cobros de seguros se procesen correctamente en esta cuenta.Solución AplicadaLa cuenta fue revisada y ajustada para corregir la configuración que ocasionó la falta de cargos. No se realizarán cargos retroactivos de los seguros en cuestión para los meses de septiembre y octubre de 2024, ya que el equipo interno lo resolvió previamente.Código Proporcionado(Ninguno)139

ResultadoEl caso fue identificado como aislado y resuelto con un ajuste de configuración en la cuenta del cliente. Se descartó la necesidad de cargos retroactivos, y el sistema fue monitoreado para evitar futuras omisiones.Sistema RelacionadoSistema de Gestión de Seguros (referencia interna)Flujo RelacionadoFlujo de Carga de Seguros en PagarésCausaEste incidente fue resultado de una configuración específica en la cuenta del cliente, que impidió el cargo de los seguros en los meses de septiembre y octubre de 2024. No se encontraron causas sistémicas que pudieran generar un efecto similar en otras cuentas.SoluciónPara evitar futuros problemas de cargos, se realizó un ajuste en la configuración del cliente afectado. Se ha implementado un monitoreo para asegurar que los cargos de seguros se procesen correctamente en los meses siguientes, asegurando la continuidad en la cobertura de los seguros para el cliente.140

INC-4478 El salvador R-083029 error en estado de cuentaDescripción del problema: En el estado de cuenta de una PDP, se mostraba solo el crédito por política, faltando el registro del débito correspondiente.Se menciona que en el estado de cuenta solo se muestra el "CRÉDITO X POLÍTICA" de una PDP (Posible Devengo de Pago).Falta registrar el "DÉBITO X POLÍTICA".Posibles Causas:Error en la parametrización contable: Puede que exista un error en la configuración de las reglas contables asociadas a la política que esté omitiendo el registro del débito correspondiente.Fallo en el sistema de generación del estado de cuenta: Es posible que el sistema que genera los estados de cuenta no esté capturando correctamente los movimientos de débito asociados a la política.Política específica con inconsistencias: Si esta situación ocurre solo para una política en particular, podría ser una inconsistencia específica en la definición de esa política.Análisis y acciones tomadas:* Se consultó con Martha Castellón si el crédito debería estar reflejado en ambas operaciones (00 y 01). Confirmó que efectivamente debía estar presente en ambas. Posteriormente, se solicitó la validación de la corrección y se confirmó que el problema había sido resuelto. Validación y cierre: Martha Castellón validó la corrección y confirmó que el registro estaba completo en ambas operaciones.Solución aplicada: Se ingresó el débito por política pendiente en el estado de cuenta de la PDP.Resultado: La operación de crédito y débito por política ahora está correctamente registrada tanto en la operación 00 como en la 01.Causa: Falta del registro del débito en el estado de cuenta.Solución: Se realizó el ajuste para incluir el débito por política faltante, asegurando la correcta contabilización en ambas operaciones.Sistema relacionado: Core.Flujo relacionado: Política del perdón, Crédito, CORE.  Scripts utilizados:Se revisan las tablas sobre como quedó la cuenta.USE sv_CORESELECT TOP 100 * FROM sv_CORE..stc_blp_validapago WITH(NOLOCK) WHERE Pagare LIKE 'r-083029%' ORDER BY id_validapago DESCSELECT TOP 100 pagare,DIAS_MORA,PAGOS_VENCIDOS,* FROM sv_CORE..stc_blp_tradicional_cliente_detalle WITH(NOLOCK) WHERE pagare LIKE '%r-083029%'                                                                        SELECT TOP 100 * FROM dbo.STC_MTR_TRADICIONAL_CLIENTE_SALDO_CUENTA WITH(NOLOCK) WHERE FK_STC_BLP_TRADICIONAL_CLIENTE = 244079 Si se debe reversar.EXEC dbo.PA_PRO_TRANSACCION_REVERSION @P_ID_VALOR = 34178145,       -- bigint(id_validapago)                                      @P_USUARIO = '',       -- varchar(50)                                      @P_TIPO_ORIGEN = '',   -- varchar(1)                                      @P_NUM_OPERACION = '', -- varchar(50)                                      @P_MONTO_PAGO = 0,     -- int141

                                      @P_COMENTARIO = ''     -- varchar(200)EXEC dbo.PA_PRO_PSE_TRANSACCION_PAGO @P_ID_TRADICIONAL_CLIENTE = 0,         -- bigint                                     @P_ID_TRADICIONAL_CLIENTE_DETALLE = 0, -- bigint                                     @P_ID_VALIDA_PAGO = 34179997,                 -- bigint(id_validapago, del SP de arriba)                                     @P_DEBUG = 0                           -- intCOMMITSe inserta, primero el crédito luego el débito. Van de la mano si es del perdón es 16 y 17 (Crédito - Débito)BEGIN TRANINSERT INTO sv_CORE..stc_blp_validapago(    [Fk_stc_blp_tradicional_cliente],    [Fk_stc_blp_tradicional_cliente_detalle],    [FK_PSE_CAT_TRANSACCION_STATUS],    [Fecha_Pago],    [Pago],    [Prelacion],    [Pagare],    [Referencia_Bancaria],    [Banco],    [Descripcion],    [Accion],    [Estatus],    [Fecha_Ingreso],    [Fecha_Aplicacion],    [Fecha_Aprobacion],    [Id_Pago],    [Usuario_Carga],    [Usuario_Aprobacion],    [Comentario],    [Moneda],    [Tipo_Transaccion],    [Sucursal],    [Replica],    [USUARIO_INSERTA],    [FECHA_INSERTA],    [USUARIO_ACTUALIZA],    [FECHA_ACTUALIZA],    [REF_REVERSION])VALUES(86732, 87918, 3, N'2024-11-05T15:07:06', -253.0603274422, 1, 'R-083029', '45600', '', 'Debito Política del perdón Interés Normales', 'Cuota', 'Aplicado', N'2024-11-05T15:06:56.5', N'1900-01-01T00:00:00',N'1900-01-01T00:00:00', 3552566, 'giovanni.hernandez', '0', 'Saldo Interes Normal al ultimo corte', 2, 17, '0', 0, NULL, NULL, 'giovanni.hernandez', N'2024-11-05T15:06:56', NULL); SELECT SCOPE_IDENTITY(); INSERT INTO sv_CORE..stc_blp_validapago ([Fk_stc_blp_tradicional_cliente], [Fk_stc_blp_tradicional_cliente_detalle], [FK_PSE_CAT_TRANSACCION_STATUS], [Fecha_Pago], [Pago], [Prelacion], [Pagare], [Referencia_Bancaria], [Banco], [Descripcion], [Accion], [Estatus], [Fecha_Ingreso], [Fecha_Aplicacion], [Fecha_Aprobacion], [Id_Pago], [Usuario_Carga], [Usuario_Aprobacion], [Comentario], [Moneda], [Tipo_Transaccion], [Sucursal], [Replica], [USUARIO_INSERTA], [FECHA_INSERTA], [USUARIO_ACTUALIZA], [FECHA_ACTUALIZA], [REF_REVERSION]) 142

VALUES( 86732, 87918, 3, N'2024-11-05T15:07:06', 253.0603274422, 1, 'R-083029', '45600', '', 'Crédito Política del perdón Interés Normales', 'Cuota', 'Aplicado', N'2024-11-05T15:06:56.5', N'1900-01-01T00:00:00',N'1900-01-01T00:00:00', 3552566, 'giovanni.hernandez', '0', 'Saldo interes Normal al ultimo corte', 2, 16, '0', 0, NULL, NULL, 'giovanni.hernandez', N'2024-11-05T15:06:56', NULL )SELECT SCOPE_IDENTITY();-- Distribucion de pagoUSE SV_COREDECLARE @ID_VALIDAPAGO INT = 6662649 ; --agregar id_ValidapagoDECLARE @ID_PAGO INT;SET @ID_PAGO = (SELECT Id_Pago FROM dbo.stc_blp_validapago WHERE id_validapago = @ID_VALIDAPAGO)SELECT * FROM dbo.stc_blp_validapago WHERE id_validapago = @ID_VALIDAPAGO ORDER BY 1 desc;SELECT * FROM stc_blp_tradicional_pago WHERE id_validapago = @ID_VALIDAPAGO;SELECT * FROM stc_blp_tradicional_pago_registro WHERE id_pago = @ID_PAGO;SELECT * FROM PSE_TRA_PAGO_CUENTA WHERE FK_STC_BLP_VALIDAPAGO = @ID_VALIDAPAGO;SELECT * FROM PSE_LOG_TRANSACCION_CUOTA WHERE FK_ID_VALIDA_PAGO = @ID_VALIDAPAGO; Aplicar el pagoDECLARE @V_VALIDAPAGO INT =  6662650 --Id_ValidaPagoUPDATE dbo.stc_blp_validapago SET FK_PSE_CAT_TRANSACCION_STATUS  =  1 WHERE id_validapago IN (@V_VALIDAPAGO) -- de gt eatado 2 se puso a 33 revisarleo-- se ejecuta el sp para procesar el pago de nuevoEXEC dbo.PA_PRO_PSE_TRANSACCION_PAGO @P_ID_TRADICIONAL_CLIENTE  =  0, -- bigint    @P_ID_TRADICIONAL_CLIENTE_DETALLE  =  0, -- bigint    @P_ID_VALIDA_PAGO  =   @V_VALIDAPAGO    , -- bigint    @P_DEBUG  = 0-- intCausa-raíz: INC-4345 Cuenta pdp cambio a activa (71153167)INC-1902 Cuentas con saldos incorrectosINC-1262 Cuentas con debito duplicado tipo de saldo 1INC-645 Error cálculo intereses (71129099)143

SOLICITUDES 144

Año 2024 (SOLIC.) 145

Mes octubre (SOLIC.) 146

INC-3971 Extension de cicloResumen de Modificaciones Realizadas para Ciclo 1Descripción del Caso InicialSolicitud: Extender los días de gracia a 5 para el Ciclo 1 y realizar ajustes adicionales en los parámetros de corte.Contexto: Se requiere modificar los parámetros de los ciclos de pago para adaptarse a una nueva política que extiende el período de días de gracia. Además, se especificó la necesidad de preparar un rollback para restaurar los valores originales si es necesario.Tablas Involucradas:stc_par_ciclo: Tabla de parámetros que define los ciclos de pago y sus características.stc_blp_tradicional_cliente_detalle y stc_blp_tradicional_cuota: Tablas que contienen información detallada de clientes y cuotas tradicionales.1. Modificación de Parámetros para Ciclo 1Objetivo: Extender los días de gracia a 5 para el Ciclo 1 y ajustar otros parámetros relacionados.Detalles de Modificación:En la tabla stc_par_ciclo:Se actualizó Dias_Gracia a 5.Se incrementaron en 2 los valores de LAC_Dinamica, Inicio_Rodamiento, y Dia_Capitalizacion.En la tabla stc_blp_tradicional_cliente_detalle:Se estableció Dias_Gracia en 5 para los registros correspondientes al Ciclo 1 que cumplen ciertas condiciones de saldo y estado.Condiciones Especiales:La actualización de stc_blp_tradicional_cliente_detalle se aplicó solo a los registros con:saldo_actual > 0fk_stc_par_status dentro de los valores 10, 16, 18, 31Nivel = 0, monto > 0, y Estado en 1, 3.Script de Modificación1-- USE CR_CORE;2USE GT_CORE;34SELECT * FROM stc_par_ciclo5GO6BEGIN TRY7    /* UPDATES NECESARIOS PARA CAMBIO DE PARAMETRO DE DÍAS DE GRACIA EN EL CICLO 1 */8    BEGIN TRAN;910    -- Actualizar los parámetros en la tabla stc_par_ciclo para el Ciclo 111    UPDATE dbo.stc_par_ciclo12    SET Dias_Gracia += 2,13        LAC_Dinamica += 2,14        Inicio_Rodamiento += 2,15        Dia_Capitalizacion += 216    WHERE Periodo_pago= 1;147

2. Rollback de Cambios para Ciclo 1Objetivo: Revertir los cambios realizados en el Ciclo 1 si es necesario, restaurando los parámetros a su estado anterior.Detalles de Rollback:En la tabla stc_par_ciclo:Se restauró Dias_Gracia a 3.Se disminuyeron en 2 los valores de LAC_Dinamica, Inicio_Rodamiento, y Dia_Capitalizacion.En la tabla stc_blp_tradicional_cliente_detalle:Se restableció Dias_Gracia a 3 para los registros del Ciclo 1 bajo las mismas condiciones de saldo y estado utilizadas en la modificación.Script de Rollback1718    -- Actualizar los días de gracia en la tabla stc_blp_tradicional_cliente_detalle para el Ciclo 119    UPDATE B20    SET B.Dias_Gracia = 521    FROM dbo.stc_blp_tradicional_cliente_detalle AS A22        INNER JOIN dbo.stc_blp_tradicional_cuota AS B23            ON A.pk_stc_blp_tradicional_cliente_detalle = B.id_tradicional24    WHERE A.Periodo_pago= 125          AND A.saldo_actual > 026          AND A.fk_stc_par_status IN (10, 16, 18, 31)27          AND B.Nivel = 028          AND B.monto > 029          AND B.Estado IN (1, 3);3031    COMMIT TRAN;32END TRY33BEGIN CATCH34    -- En caso de error, realizar rollback y mostrar el mensaje de error35    ROLLBACK TRAN;36    PRINT ERROR_MESSAGE();37END CATCH1-- USE CR_CORE;2USE GT_CORE;34BEGIN TRY5    /* ROLLBACK PARA REVERTIR CAMBIOS DE DÍAS DE GRACIA EN EL CICLO 1 */6    BEGIN TRAN;78    -- Revertir los cambios en la tabla stc_par_ciclo para el Ciclo 19    UPDATE dbo.stc_par_ciclo10    SET Dias_Gracia = 3,  -- Restaurar días de gracia a su valor anterior (3)11        LAC_Dinamica -= 2,12        Inicio_Rodamiento -= 2,13        Dia_Capitalizacion -= 214    WHERE ciclo = 1;1516    -- Revertir los días de gracia en la tabla stc_blp_tradicional_cliente_detalle para el Ciclo 117    UPDATE B18    SET B.Dias_Gracia = 3  -- Restaurar días de gracia a su valor anterior (3)19    FROM dbo.stc_blp_tradicional_cliente_detalle AS A20        INNER JOIN dbo.stc_blp_tradicional_cuota AS B148

Este resumen cubre tanto la aplicación inicial de los cambios como el rollback para restaurar los valores en el Ciclo 1 si es necesario.Procedimiento Almacenado para Automatizar el ProcesoA continuación, se presenta un Procedimiento Almacenado (Stored Procedure) que automatiza el proceso de modificación y rollback de los parámetros para el ciclo indicado:21            ON A.pk_stc_blp_tradicional_cliente_detalle = B.id_tradicional22    WHERE A.ciclo = 123          AND A.saldo_actual > 024          AND A.fk_stc_par_status IN (10, 16, 18, 31)25          AND B.Nivel = 026          AND B.monto > 027          AND B.Estado IN (1, 3);2829    COMMIT TRAN;30END TRY31BEGIN CATCH32    -- En caso de error, realizar rollback y mostrar el mensaje de error33    ROLLBACK TRAN;34    PRINT ERROR_MESSAGE();35END CATCH1CREATE PROCEDURE sp_ModificarYRollbackParametrosCiclo2    @Ciclo INT,3    @Accion VARCHAR(10) -- 'MODIFICAR' para aplicar cambios, 'ROLLBACK' para revertir cambios4AS5BEGIN6    SET NOCOUNT ON;7    BEGIN TRY8        /* PROCEDIMIENTO ALMACENADO PARA MODIFICAR O REVERTIR CAMBIOS DE DÍAS DE GRACIA EN EL CICLO INDICADO */9        BEGIN TRAN;10        IF @Accion = 'MODIFICAR'11        BEGIN12            -- Actualizar los parámetros en la tabla stc_par_ciclo para el Ciclo indicado13            UPDATE dbo.stc_par_ciclo14            SET Dias_Gracia = 5,15                LAC_Dinamica += 2,16                Inicio_Rodamiento += 2,17                Dia_Capitalizacion += 218            WHERE ciclo = @Ciclo;19            -- Actualizar los días de gracia en la tabla stc_blp_tradicional_cliente_detalle para el Ciclo indic20            UPDATE B21            SET B.Dias_Gracia = 522            FROM dbo.stc_blp_tradicional_cliente_detalle AS A23                INNER JOIN dbo.stc_blp_tradicional_cuota AS B24                    ON A.pk_stc_blp_tradicional_cliente_detalle = B.id_tradicional25            WHERE A.ciclo = @Ciclo26                  AND A.saldo_actual > 027                  AND A.fk_stc_par_status IN (10, 16, 18, 31)28                  AND B.Nivel = 029                  AND B.monto > 030                  AND B.Estado IN (1, 3);31        END32        ELSE IF @Accion = 'ROLLBACK'33        BEGIN34            -- Revertir los cambios en la tabla stc_par_ciclo para el Ciclo indicado35            UPDATE dbo.stc_par_ciclo149

Nota: Este Procedimiento Almacenado permite automatizar el proceso de modificación y rollback, seleccionando la acción deseada (MODIFICAR o ROLLBACK) mediante el parámetro @Accion.36            SET Dias_Gracia = 3,  -- Restaurar días de gracia a su valor anterior (3)37                LAC_Dinamica -= 2,38                Inicio_Rodamiento -= 2,39                Dia_Capitalizacion -= 240            WHERE ciclo = @Ciclo;41            -- Revertir los días de gracia en la tabla stc_blp_tradicional_cliente_detalle para el Ciclo indicad42            UPDATE B43            SET B.Dias_Gracia = 3  -- Restaurar días de gracia a su valor anterior (3)44            FROM dbo.stc_blp_tradicional_cliente_detalle AS A45                INNER JOIN dbo.stc_blp_tradicional_cuota AS B46                    ON A.pk_stc_blp_tradicional_cliente_detalle = B.id_tradicional47            WHERE A.ciclo = @Ciclo48                  AND A.saldo_actual > 049                  AND A.fk_stc_par_status IN (10, 16, 18, 31)50                  AND B.Nivel = 051                  AND B.monto > 052                  AND B.Estado IN (1, 3);53        END54        ELSE55        BEGIN56            THROW 50000, 'Acción no válida. Use MODIFICAR o ROLLBACK.', 1;57        END58        COMMIT TRAN;59    END TRY60    BEGIN CATCH61        -- En caso de error, realizar rollback y mostrar el mensaje de error62        ROLLBACK TRAN;63        PRINT ERROR_MESSAGE();64    END CATCH65END150

INC-4150 - Usuario Bloqueado App Multimoney MéxicoPropietario: José ValverdeFecha: 30-10-2024Sistema Relacionado: Bloqueos de usuarios Causa:El usuario Cesar Javier Hernandez Garrido quedó bloqueado en la aplicación Multimoney México debido a múltiples intentos de autenticación fallidos, activando las medidas de seguridad del sistema. Además, no recibió los códigos de verificación necesarios para completar el proceso de ingreso.Descripción del Problema:El cliente reportó que al intentar ingresar a la aplicación, recibió el mensaje de "Usuario Bloqueado". A pesar de los intentos por recibir el código de verificación por SMS o Correo, nunca llegó. Esto bloqueó su acceso y dejó al usuario sin poder completar la autenticación.Análisis y Acciones Tomadas:1. Análisis del Log de Auditoría:Se realizó una consulta a la tabla SUV_TRA_AUDIT_LOG y SUV_TRA_USER_SESSION_DEVICE para identificar bloqueos activos relacionados con la cuenta del usuario.Copiar código-- Parte del query ejecutado UPDATE B SET B.TIME_BLOCKED = NULL, B.USUARIO_ACTUALIZACION = '', B.FECHA_ACTUALIZACION = GETDATE() FROM RG_SUCURSAL_VIRTUAL.dbo.SUV_TRA_AUDIT_LOG A INNER JOIN dbo.SUV_TRA_USER_SESSION_DEVICE B ON A.INT_FK_SESSION_ID = B.PK_SUV_TRA_USER_SESSION_DEVICE WHERE A.EMAIL = 'HERNANDEZGARRIDOCESARJAVIER@GMAIL.COM' AND B.TIME_BLOCKED > 0 AND A.ACTION = 1;2. Reinicio de Contadores de Intentos:Se actualizaron los contadores de intentos y los bloqueos temporales en la tabla SUV_MTR_USUARIO:Copiar códigoUPDATE RG_SUCURSAL_VIRTUAL.dbo.SUV_MTR_USUARIO SET CANTIDAD_REINTENTOS_REGISTRO = 0, CONTRASENA_ES_TEMPORAL = 0, FECHA_TIPO_BLOQUEO = NULL, CANTIDAD_REENVIOS_PIN = 0, CANTIDAD_INTENTO_PIN_SMS = 0, CANTIDAD_REINTENTOS_CONTRASENA = 0, CANTIDAD_REINTENTOS_PREGUNTA = 0, ULTIMA_FECHA_REINTENTO = NULL, ULTIMA_FECHA_REINTENTO_PREGUNTA = NULL WHERE CORREO_ELECTRONICO = 'HERNANDEZGARRIDOCESARJAVIER@GMAIL.COM';3. Verificación del Estado del Usuario:Se verificaron y actualizaron los estados correspondientes para asegurar que el usuario ya no esté bloqueado.1sql1sql151

Validación y Cierre:El usuario fue desbloqueado exitosamente.Se confirmó con el cliente que pudo acceder a la aplicación sin inconvenientes.Se realizó un monitoreo del servicio de SMS y Correo para validar su correcto funcionamiento.Recomendaciones y Próximos Pasos:1. Monitoreo: Implementar un monitoreo continuo del sistema de autenticación para prevenir bloqueos injustificados.2. Comunicación Proactiva: Informar a los usuarios sobre posibles bloqueos antes de llegar al límite de intentos.3. Revisión del Servicio de Mensajería: Revisar la configuración de los proveedores de SMS y Correo para asegurar la entrega oportuna de códigos.Etiquetas Solución:Soporte al ClienteDesbloqueo de UsuariosAcceso y AutenticaciónProblemas de MensajeríaPlataforma Multimoney México152

INC-3986 Alta de usuario y accesos a SAP a colaborado de nuevo ingreso MXAnálisis del CasoContexto:La solicitud de alta de credenciales SAP para un nuevo colaborador en México tiene como objetivo garantizar el acceso adecuado a las bases fiscales de las sociedades pertinentes. Los accesos solicitados están orientados a dos entidades:1. Edificaciones y Comercios Encuentro, S.A. de C.V.2. Inmobiliaria MX BDI, S.A. de C.V.Problemas Potenciales:1. Asignación Incorrecta de Roles: Sin una correcta configuración y asignación de roles, el nuevo usuario podría tener acceso restringido o excesivo, comprometiendo tanto la eficiencia operativa como la seguridad de la información.2. Errores en la Configuración de Permisos: Es común que los usuarios nuevos experimenten limitaciones si no se asignan correctamente los permisos necesarios para la ejecución de sus funciones.3. Dependencia de la Documentación en Confluence: La solución depende de un recurso documentado en Confluence. Cualquier falta de claridad en esta guía puede generar errores en el proceso de configuración de credenciales.Sugerencias para Resolver el Caso1. Revisión Exhaustiva de la Guía en Confluence:2. Antes de iniciar el proceso de creación del usuario, es esencial revisar la información actualizada en Confluence (SAP >> Creación de usuarios) para garantizar que los pasos a seguir sean los adecuados y específicos para las bases fiscales de las sociedades indicadas.3. Asignación de Roles Basada en Funciones:4. Asegúrate de que los roles y permisos se alineen con las responsabilidades específicas del colaborador. Esto evitará tanto accesos innecesarios como limitaciones que entorpezcan su labor.5. Validación de Permisos y Accesos:6. Una vez creado el usuario y asignados los accesos, realiza pruebas de validación para verificar que el colaborador pueda acceder a las áreas necesarias de SAP sin restricciones imprevistas.7. Solicitar Revisión y Aprobación de un Supervisor de SAP:8. Si es posible, solicita que un supervisor o administrador de SAP revise los permisos asignados antes de entregarlos al colaborador, lo que permite reducir el riesgo de errores en el acceso.9. Establecer un Proceso de Revisión de Permisos Posterior al Alta:10. Programar una revisión después de un período inicial (por ejemplo, 30 días) puede ayudar a detectar cualquier ajuste necesario en los permisos, basándose en el uso real del sistema.Solución del CasoPara resolver este caso, se deberá seguir la información y los pasos detallados en Confluence en la sección:Confluence >> SAP >> Creación de usuarios: Creación de usuarios 153

INC-4008-Eliminación de cuenta IBAN pagaré R-192379Sistema Relacionado: modulo de Cuentas IbanSolicitud: Eliminación de Cuenta IBAN del Pagaré R-192379Descripción del Caso: El cliente ha solicitado la eliminación de la cuenta IBAN CR87010200009371469268 del pagaré con número R-192379. Esta cuenta debe ser eliminada del registro asociado al pagaré mencionado, ya que el cliente ha expresado su deseo de desvincularla.Acciones Solicitadas:1. Eliminar la cuenta IBAN CR87010200009371469268 del pagaré R-192379.2. Actualizar la información del pagaré, asegurándose de que no quede ninguna referencia a la cuenta mencionada.Motivo de la Solicitud: El cliente ha expresado de manera explícita su deseo de remover la cuenta IBAN específica del pagaré.Próximos Pasos:Confirmar la eliminación de la cuenta del registro del pagaré.Informar al cliente una vez completada la actualización.Para resolver el proceso de eliminación de la cuenta IBAN asociada al pagaré R-192379 en SQL Server, aquí está el desglose completo de los pasos y acciones realizadas:Paso a Paso de la Solución1. Consultas Iniciales para Confirmar Información del Cliente:Primero, se consultó la información básica del cliente utilizando el número de cuenta del pagaré R-192379 en la tabla stc_blp_tradicional_cliente:Copiar códigoEsto permitió obtener detalles básicos y el identificador del cliente (FK_STC_BLP_TRADICIONAL_CLIENTE), que es necesario para verificar la configuración de cobro automático y de desembolso.2. Consulta de la Configuración de Cobro Automático:Luego, se utilizó el identificador del cliente (FK_STC_BLP_TRADICIONAL_CLIENTE = 282991) para confirmar si había configuraciones de cobro automático asociadas al cliente:Copiar códigoEsta consulta confirmó que había registros activos de cobro automático para el cliente, lo cual es relevante para evitar interrumpir cobros o afectar datos relacionados.3. Verificación de Cuentas de Desembolso:Luego, se consultó la tabla PSE_TRA_CUENTA_DESEMBOLSO para ver si el cliente tenía cuentas de desembolso relacionadas, utilizando el mismo identificador:Copiar código1SELECT * FROM dbo.stc_blp_tradicional_cliente WHERE NUMERO_CUENTA = 'R-192379';1SELECT * FROM dbo.stc_blp_clientes_cobro_automatico WITH (NOLOCK) WHERE FK_STC_BLP_TRADICIONAL_CLIENTE = 282154

Este paso ayudó a identificar la cuenta de desembolso del cliente, permitiendo obtener información clave para proceder con eliminaciones específicas.4. Obtención de los Identificadores de Cuenta de Desembolso y Cuenta de Operación del Cliente:Se utilizó una consulta más específica para obtener los identificadores de la cuenta de desembolso y la cuenta de operación del cliente usando el número de cuenta IBAN (CR87010200009371469268):Copiar códigoEsta consulta permitió obtener los identificadores exactos que se necesitan para realizar eliminaciones sin afectar otras cuentas o clientes.5. Eliminación de Registros en una Transacción Controlada:Para asegurar la integridad de los datos, se utilizó una transacción para realizar eliminaciones controladas en las tablas pertinentes.Se usaron las instrucciones DELETE en las tablas correspondientes (PSE_TRA_CUENTA_OPERACION_CLIENTE, PSE_TRA_CUENTA_DESEMBOLSO y stc_blp_clientes_cobro_automatico), empleando los identificadores previamente obtenidos. La transacción garantizó que, si ocurría algún error, se pudiera revertir todo el proceso usando ROLLBACK:Copiar códigoBEGIN TRANSACTION DELETE dbo.PSE_TRA_CUENTA_OPERACION_CLIENTE WHERE PK_PSE_TRA_CUENTA_OPERACION_CLIENTE IN (); -- Coloca el ID específico aquí DELETE dbo.PSE_TRA_CUENTA_DESEMBOLSO WHERE PK_PSE_TRA_CUENTA_DESEMBOLSO IN (1146341); DELETE FROM dbo.stc_blp_clientes_cobro_automatico WHERE id IN (207115); COMMIT -- O usa ROLLBACK si se encuentra algún errorFinalmente, se ejecutó COMMIT para guardar los cambios permanentemente, o ROLLBACK en caso de error.6. Solución al negocio: Se eliminó la cuenta IBAN CR87010200009371469268 del pagaré R-192379, desvinculando dicha cuenta del registro asociado al pagaré, según solicitud del cliente. La actualización fue realizada asegurando que no quedó ninguna referencia a la cuenta mencionada, y se confirmó la eliminación en el registro, informando al cliente una vez completada la actualización.1SELECT * FROM dbo.PSE_TRA_CUENTA_DESEMBOLSO CD WITH (NOLOCK) WHERE CD.FK_STC_BLP_TRADICIONAL_CLIENTE = 28291SELECT TOP 100 c.PK_PSE_TRA_CUENTA_DESEMBOLSO, b.PK_PSE_TRA_CUENTA_OPERACION_CLIENTE, * FROM dbo.stc_blp_cli1BEGIN TRANSACTION 2DELETE dbo.PSE_TRA_CUENTA_OPERACION_CLIENTE WHERE PK_PSE_TRA_CUENTA_OPERACION_CLIENTE IN (); -- Coloca el ID3DELETE dbo.PSE_TRA_CUENTA_DESEMBOLSO WHERE PK_PSE_TRA_CUENTA_DESEMBOLSO IN (1146341);4DELETE FROM dbo.stc_blp_clientes_cobro_automatico WHERE id IN (207115);56 COMMIT 7 ROLLBACK si se encuentra algún error8155

INC-4011 Adición de usuarios para que pueda ver reportes y envió de estados de cuenta de Core a zimbra 1. Descripción del CasoEl área de Atención al Cliente y el Supervisor de Cobros solicitaron la creación de tres usuarios en el sistema Core con los siguientes objetivos:1. Habilitación para visualización de reportes operativos.2. Configuración para envío de estados de cuenta desde Core hacia Zimbra.Las personas de negocio deben de adjuntar usuarios de referencias, a fin de replicar accesos y configuraciones similares.Etiqueta:Sistema Relacionado: Core FinancieroFlujo Relacionado: Acceso a Reportes y Envío de Estados de Cuenta2. Causa:Los usuarios solicitantes no contaban con los permisos necesarios en el sistema Core para realizar las actividades relacionadas con su rol, lo que impedía el acceso a reportes operativos y el envío de estados de cuenta a los clientes. La causa se debe a la falta de creación y asignación de los perfiles correspondientes en el sistema, lo que generó esta brecha operativa.3. Solución:Se procedió a la creación y configuración de los usuarios en el sistema Core, asegurando que estos cuenten con los permisos necesarios para:1. Acceso a reportes operativos: Permite realizar análisis de la información necesaria para el seguimiento de casos y clientes.2. Envío de estados de cuenta desde Core a Zimbra: Facilita la comunicación fluida de estados financieros directamente desde el sistema hacia los clientes.Además, se desarrolló un script que permitirá crear usuarios de manera más rápida y precisa en futuros casos, optimizando la operación y reduciendo errores manuales.4. Acciones Realizadas1. Validación en las Tablas del Sistema:Se verificó la existencia de los usuarios solicitados en las tablas:dbo.stc_sys_user: Información básica del usuario.dbo.stc_sys_user_profile: Detalles adicionales del perfil del usuario.156

Consultas SQL Utilizadas:SELECT TOP 100 * FROM dbo.stc_sys_user WITH(NOLOCK) WHERE username LIKE '%%'; SELECT TOP 100 * FROM dbo.stc_sys_user_profile WITH(NOLOCK) WHERE name LIKE '%%';Resultado: Si los usuarios no se encontraban registrados, se procedió a utilizar los datos de los perfiles de referencia para realizar los registros correspondientes.2. Inserción de lo usuarios:Se realizaron inserciones controladas mediante transacciones, asegurando que todos los registros se realizaran correctamente. A continuación, un ejemplo del script creado para mejorar el flujo:Script SQL de Inserción :DECLARE @profile BIGINT, @username VARCHAR(100), @password VARCHAR(32),        @role VARCHAR(45), @status VARCHAR(10), @correo VARCHAR(45),        @name VARCHAR(45), @last_name VARCHAR(45), @department BIGINT;-- Parámetros de Usuario ejemploSET @profile = 449070992;SET @username = 'domingo.oseguedani';SET @password = 'nIvxM9Ew34e/jAIlceGInQ==';SET @role = 'agent';SET @status = 'enabled';SET @correo = 'domingo.oseguedani@chtp.local';SET @name = 'Domingo Antonio';SET @last_name = 'Osegueda';SET @department = 107;BEGIN TRANSACTION;-- Inserción en la tabla dbo.stc_sys_userINSERT INTO SV_CORE.dbo.stc_sys_user(    profile, username, password, role, status, correo,    productividad, acepta_politica, fecha_aceptacion_terminos_claves, fecha_cambiopassword)VALUES(    @profile, @username, @password, @role, @status, @correo,    0, 0, NULL, NULL);-- Inserción en la tabla dbo.stc_sys_user_profileINSERT INTO dbo.stc_sys_user_profile(    id, name, last_name, department, mobile_phone, home_phone, address)VALUES(    @profile, @name, @last_name, @department, NULL, NULL, NULL);COMMIT TRANSACTION;157

5. Conclusión y RecomendacionesConclusión:Los usuarios solicitados fueron creados correctamente en el sistema Core y configurados para tener acceso a reportes y enviar estados de cuenta desde Core hacia Zimbra.El script creado permitirá realizar futuras inserciones de manera rápida y precisa, mejorando la eficiencia operativa.Recomendaciones:1. Verificar el acceso y funcionalidad: Asegurarse de que los usuarios puedan acceder a los reportes y enviar estados de cuenta sin inconvenientes.2. Revisiones periódicas: Realizar auditorías periódicas para mantener actualizados los accesos y asegurar que se alineen con las políticas internas de la organización.158

INC-3961 - Liquidación de Saldos en Cuentas Canceladas e InactivasPropietario: José ValverdeFecha: 28-10-2024Sistema Relacionado: SV_CORE - Gestión de Saldos y CuentasDescripción del Problema:Se detectaron 60 cuentas canceladas e inactivas que aún presentaban saldos activos menores a 1. Estas cuentas no fueron liquidadas automáticamente por el procedimiento pa_pro_cancela_saldos_minimos_pagare, debido a que este proceso requiere que las cuentas estén en estado activo para ser procesadas.El área de negocio debe ingresar algunos ajustes pendientes para que estas cuentas puedan quedar completamente en saldo cero, garantizando consistencia en los registros contables.Causa:El procedimiento automatizado para cancelar saldos pequeños no aplicó a estas cuentas por dos razones:1. Estados inactivos o cancelados: El proceso solo liquida cuentas activas.2. Pagos parciales o ajustes pendientes: Algunos pagos se aplicaron de forma parcial, generando un pequeño saldo residual (en decimales).Análisis y Acciones Tomadas:Identificación del Problema:Las cuentas afectadas mostraban saldos menores a 1 en estados 19 y 13, correspondientes a inactivas o canceladas.El proceso de pa_pro_cancela_saldos_minimos_pagare no logró procesar estas cuentas por sus estados actuales.Consultas Realizadas:1. Extracción del Listado de Cuentas: 2. Consulta del Último Pago:1SELECT 2    b.pagare, 3    b.pk_stc_blp_tradicional_cliente_detalle, 4    b.saldo_actual, 5    b.fk_stc_blp_tradicional_cliente, 6    b.FK_STC_PAR_MONEDA, 7    b.fk_stc_par_status 8FROM dbo.stc_blp_tradicional_cliente a WITH (NOLOCK)9INNER JOIN SV_CORE.dbo.stc_blp_tradicional_cliente_detalle b WITH (NOLOCK)10    ON b.fk_stc_blp_tradicional_cliente = a.id11WHERE a.NUMERO_CUENTA = '';12159

 3. Actualización de Estado y Saldos: Acción Correctiva:1. Activación Temporal de Cuentas:Se sugiere activar temporalmente las cuentas para ejecutar el procedimiento de cancelación de saldos pequeños: 2. Ingreso de Ajustes Faltantes:El área de negocio ingresará manualmente los ajustes faltantes para cuentas con saldos residuales.Se colaborará con el área de operaciones para aplicar los pagos y asegurar que todas las cuentas queden con saldo en cero.Validación y Cierre:1. Validación de los Pagos:Tras el ajuste manual, se ejecutó la sincronización de saldos: 1SELECT * 2FROM stc_blp_tradicional_pago 3WHERE id_tradicional = <detalle_id> 4ORDER BY id DESC;1UPDATE SV_CORE.dbo.stc_blp_tradicional_cliente_detalle 2SET fk_stc_par_status = 10 3WHERE pk_stc_blp_tradicional_cliente_detalle = <detalle_id>;45EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS 6    @P_PK_STC_BLP_TRADICIONAL_CLIENTE = <cliente_id>, 7    @P_PK_STC_PAR_MONEDA = 2, 8    @P_USUARIO = 'procesos.sistema', 9    @P_MODO_EJECUCION = 0, 10    @P_OPCION = 0;1UPDATE SV_CORE.dbo.stc_blp_tradicional_cliente_detalle 2SET fk_stc_par_status = 10 3WHERE pk_stc_blp_tradicional_cliente_detalle = <detalle_id>;45EXEC dbo.PA_PRO_CANCELA_SALDOS_BAJOS_PAGARE 6    @P_USUARIO = 'procesos.sistema', 7    @PK_CLIENTE_DETALLE = <detalle_id>, 8    @P_MODO_EJECUCION = 0, 9    @P_OPCION = 0;1EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS 2    @P_PK_STC_BLP_TRADICIONAL_CLIENTE = <cliente_id>, 3    @P_PK_STC_PAR_MONEDA = 2, 4    @P_USUARIO = 'procesos.sistema', 5    @P_MODO_EJECUCION = 0, 6    @P_OPCION = 0;160

Se validó que los registros afectados tuvieran saldo cero y su estado se actualizara correctamente.2. Colaboración con el Área de Negocio:José Valverde y el área de operaciones confirmaron que las cuentas con ajustes pendientes estaban procesadas correctamente.Resultados:60 cuentas inactivas fueron revisadas; algunas se ajustaron manualmente y otras quedaron pendientes de ajuste por parte del negocio.Se verificó que las cuentas sincronizadas quedaron con saldo cero.Las consultas realizadas confirmaron que los procesos automatizados ahora continúan sin interrupciones.Recomendaciones y Próximos Pasos:1. Monitoreo Continuo:Supervisar las cuentas canceladas o inactivas para detectar saldos pequeños a tiempo.Implementar una alerta automática que identifique cuentas con saldos menores a 1.2. Validación del Proceso Automático:Revisar la lógica del proceso de cancelación automática para evitar bloqueos en el futuro.Asegurar que el proceso de liquidación contemple saldos pequeños, incluso en cuentas inactivas.Etiquetas de Solución:Gestión de Cuentas y SaldosCancelación de Saldos MínimosAjuste Manual de SaldosMonitoreo de Cuentas Canceladas161

INC-4006 -4013 CEDULAS DESCARGADAS EN MANTENIMIENTO 2.0Sistema relacionado: MANTENIMIENTOS 2.0 // CédulasAnálisis del CasoDescripción del Caso:El equipo solicitó la verificación del estatus de dos cédulas: 111810065 y 304710747, ya que el estado mostrado no era el esperado. Tras la revisión en el sistema, ambas cédulas se encuentran en estado DESCARTADO, lo cual concuerda con el registro en la base de datos.Procedimiento de Verificación Utilizado:1. Revisión en Tabla RPA_TRA_SOLICITUD:Se utilizó la siguiente consulta SQL para verificar los registros de las cédulas en la tabla RPA_TRA_SOLICITUD:SELECT * FROM dbo.RPA_TRA_SOLICITUD WHERE IDENTIFICACION='304710747' ORDER BY PK_RPA_TRA_SOLICITUD DESC2. Confirmación en Tabla de Estados UTL_CAT_ESTADO:Para asegurar que el estado asignado era correcto, se validó en la tabla UTL_CAT_ESTADO, donde se confirmó que el estado 10 corresponde al estado descartado.3. Análisis en Plataforma Mantenimientos 2.0:A través de la interfaz de Mantenimientos 2.0, se verificó el proceso asociado PA_CON_BUR_TRA_COLA_CIC_PROCESADA, el cual arrojó el mismo resultado de estado descartado para ambas cédulas.Interacciones Adicionales:Confirmación de Información: Roselyn Carta, del equipo solicitante, confirmó que la información es correcta, pero solicitó más detalles sobre el origen y propósito del estado descargado.Aclaración sobre el Estado: Daniela Barnett explicó que los estados provienen de una tabla con descripciones predefinidas y que, en este caso, el estado descargado fue autodesignado en la descripción y catalogado en el sistema bajo ESTADOS DESCARGA CIC.Conclusión del Análisis:El estado descargado es resultado de una configuración específica en la tabla de estados del sistema. Esta configuración ha generado confusión entre los usuarios que revisan los estatus de las cédulas, al no contar con una descripción clara del propósito de este estado.Sugerencias para Resolver el Caso1. Consultar el Origen y Propósito del Estado "DESCARGADO":Se recomienda realizar una consulta con el equipo de administración del sistema o con los responsables de la configuración de estados para comprender por qué el estado descargado es asignado en estos casos y confirmar su función.2. Actualizar Descripciones en la Tabla de Estados (UTL_CAT_ESTADO):Considerar mejorar las descripciones de los estados en la tabla UTL_CAT_ESTADO para reflejar con mayor precisión el propósito de descargado o descartado. Esto ayudará a los usuarios a entender si el estado implica un descarte temporal o final.3. Documentar el Flujo de Estados en el Sistema:Registrar el flujo de estados y su significado en el sistema, para brindar mayor claridad a los usuarios que realizan auditorías y revisiones. Esto facilitará futuras verificaciones y consultas.4. Confirmar y Comunicar el Significado de "ESTADOS DESCARGA CIC":Dado que estos estados están categorizados bajo ESTADOS DESCARGA CIC, sería útil definir su función dentro del sistema, indicando si son específicos para procesos determinados o condiciones particulares. Esta información puede consultarse con el equipo técnico o de desarrollo.1sql162

5. Mantener la Comunicación Abierta con el Solicitante:La comunicación clara y colaborativa entre los equipos, como la demostrada entre Daniela Barnett y Roselyn Carta, es esencial para resolver este tipo de casos. Un agradecimiento final al equipo solicitante refuerza esta relación de colaboración Resumen de Negocio: Solución para la Validación del Estado "Descartado" en Cédulas1. Se identificó que hay cédulas se encuentran en estado descartado, lo cual generó dudas debido a la falta de claridad en la descripción del estado. Para resolver esto, se recomienda:2. Clarificar el Propósito del Estado "Descartado": Consultar con el equipo técnico para entender su asignación y confirmar que es adecuado según las reglas de negocio.a. Actualizar Descripciones y Documentación: Revisar y ajustar la descripción del estado en el sistema para que sea comprensible para el equipo de negocio y documentar todos los posibles estados y su significado.b. Mejorar la Comunicación y Capacitación: Facilitar la comunicación entre los equipos de negocio y técnico y capacitar al personal en la interpretación de estados, reduciendo futuras dependencias.3. Este plan mejorará la precisión y la eficiencia en la verificación de cédulas, optimizando la claridad y la alineación entre áreas.Causa relacionada: INC-284 No APLICA163

INC-3944-INC-4216-INC-4217-INC-4223-INC-4288-INC-4289-INC-4293-INC-4357-INC-4440 - Transferir Cripto MaticDescripción del problemaSe solicitó la transferencia del saldo cripto de Matic de un cliente a una billetera específica.Análisis y acciones tomadasSe asegurando que no hubiera problemas para realizar la transferencia.Validación y cierreLa transferencia fue realizada con éxito, y se confirmó que el saldo Matic solicitado fue enviado a la billetera especificada.Solución aplicadaLa Matic solicitada fue transferida correctamente.Código Proporcionado(No se aplicó un código específico en este caso, dado que fue una transferencia directa).ResultadoLa solicitud de transferencia fue completada y el saldo se envió correctamente.Notas adicionalesSe recomienda mantener la dirección de la billetera en un lugar seguro para futuras referencias.Sistema RelacionadoPlataforma de gestión de criptomonedas.Flujo relacionadoProceso de transferencia de criptoactivos.CausaNo se identificaron problemas técnicos o de restricción.SoluciónTransferencia exitosa de Matic.Tipo de SoluciónWorkaround.164

Causa raíz relacionadaINC-1881: Devolución de cryptoABIERTO Casos relacionadosINC-3944: Transferir cripto maticCOMPLETADO INC-4216: Transferir cripto maticRESUELTO INC-4217: Transferir cripto maticRESUELTO INC-4223: Transferir cripto maticRESUELTO INC-4288: Transferir cripto maticCOMPLETADO INC-4289: Transferir cripto maticCOMPLETADO INC-4293: Transferir cripto maticCOMPLETADO INC-4357: Transferir cripto maticCOMPLETADO INC-4440: Transferir cripto maticRESUELTO  165

INC-4026: Error en modificar cuentas contables Sistema Administrador de catálogos opción "Servicios SINPE Detalle"Tipo: SolicitudDescripción del problemaEl sistema Administrador de Catálogos no permite modificar ciertas cuentas contables, lo que impide agilizar el proceso para el área de Contabilidad. La opción que se requiere habilitar permitiría a los usuarios gestionar mejor los procesos contables y simplificar transacciones específicas.Análisis y Acciones TomadasAnálisis inicial: Se identificó que el sistema actual no permite modificar ciertas cuentas contables de forma directa. Esto genera inconvenientes, especialmente cuando negocio intenta utilizar esas cuentas en Smart para realizar depósitos o para configuraciones de pago de planilla.Acciones iniciales:Se subió un ticket (INC-4026) solicitando la habilitación de la opción de modificación en el Administrador de Catálogos.Se realizó una prueba seleccionando una cuenta específica para ver su comportamiento en el sistema Smart. Sin embargo, se evidenció que esta opción no funciona correctamente para la configuración de pago de planilla en la cuenta alternativa seleccionada.Solución del CierreTras evaluar la viabilidad y las pruebas, el equipo decidió no continuar con la solicitud de modificación de cuentas en el sistema de Catálogos, ya que la configuración actual en Smart no es compatible con los objetivos de Contabilidad para los pagos de planilla. En su lugar, se implementará un proceso alternativo con transferencias desde Cuentas Vista hacia las cuentas proporcionadas por el área de Talento Humano.Sistema RelacionadoAdministrador de CatálogosSistema SmartCausaEl sistema actual tiene limitaciones en la configuración de cuentas contables, que no permite modificar ciertos parámetros necesarios para el flujo requerido por el área de Contabilidad.SoluciónSe optó por una alternativa mediante Cuentas Vista, y se descartó la modificación solicitada en el Administrador de Catálogos debido a la incompatibilidad detectada en pruebas.Causa-raíz: Causa raíz no APLICA (7108754)causa raiz INC-3854 Error en SYSDECausa raiz INC-3842 Errores reportes SysdeTransferencia sinpe se registra en SQL pero no en Oracle(7182439)Sistema Relacionado: TSO - Accesos sistemasFlujo relacionado: Reportes // Transacciones // Sysde166

INC-4004 Error en integración de HSDescripción del problema: Un cliente fue actualizado manualmente por el sistema de validación de datos como "No aplica", pero la integración automática de HubSpot contradice esta actualización y marca que el cliente "sí aplica", asignando incluso una línea aprobada. Este comportamiento ocurre repetidamente, lo cual genera inconsistencias en la información del cliente.Análisis y acciones tomadas: Se revisó el flujo de solicitud del cliente y se confirmó que este llegó hasta el paso 8, quedando incompleto. Al analizar el estado del cliente, se determinó que este se encontraba en la base de preaprobados, lo que explicaba por qué la integración seguía considerándolo como "aplicable". Además, se identificó que la integración de HubSpot no estaba configurada para respetar los cambios manuales realizados en el sistema de validación de datos, lo que causaba que cualquier actualización manual fuera sobrescrita por la integración automática. Este comportamiento es resultado de cómo está diseñado el sistema y no de un error de parametrización.Validación y cierre: Se realizaron pruebas que confirmaron que el comportamiento del sistema se debía a la configuración actual de la integración de HubSpot, la cual funciona según su diseño original y no considera respetar las actualizaciones manuales realizadas por agentes.Solución aplicada: No se identificó un error en la parametrización existente, ya que la integración de HubSpot estaba funcionando según su diseño. Sin embargo, se decidió evaluar la posibilidad de ajustar la parametrización para que, en el futuro, pueda respetar las actualizaciones manuales realizadas por los agentes. Este cambio requeriría revisar la lógica de sincronización y adaptar las reglas según los requisitos del negocio, para dar mayor prioridad a los cambios manuales cuando sea necesario. Se programará una evaluación conjunta con el equipo de desarrollo y el área de negocio para discutir las implicaciones y definir si esta modificación se alineará con los objetivos de negocio actuales.Código proporcionado:Resultado: No se identificó un error en el sistema, ya que este estaba operando de acuerdo con su configuración original. Se recomienda analizar la posibilidad de ajustar la parametrización para evitar sobrescrituras automáticas de actualizaciones manuales en el futuro, dependiendo de los objetivos de negocio.Sistema Relacionado: HubSpotFlujo relacionado: Integración de HubSpotCausa: Comportamiento previsto en la integración de HubSpot debido a la falta de reglas que permitan priorizar cambios manuales sobre las actualizaciones automáticas.Solución: Se revisó el proceso del cliente y se confirmó que el cliente ha realizado el llenado del flujo de solicitud en App, quedando en el paso 8 del proceso. Al analizar el estado del cliente, se determinó que este se encuentra en la base de preaprobados. Esto significa que el cliente ya estaba identificado como potencialmente elegible para ciertos productos o servicios, lo cual explica por qué la integración sigue considerando al cliente como "aplicable". Se identificó que la integración de HubSpot no está parametrizada para respetar un ingreso manual. Esto significa que, aunque el sistema de validación de datos actualice al cliente de forma manual, la integración sigue aplicando sus propias reglas y actualiza el estado del cliente sin tomar en cuenta la modificación previa. Debido a esta configuración, el ingreso manual realizado por un agente se sobrescribe, y la integración vuelve a marcar al cliente como elegible ("sí aplica").Causa raíz relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo solución: No existe Error 1SELECT TOP 100 PASO_ACTUAL, ID_CLIENTE, * FROM RG_SUCURSAL_VIRTUAL.dbo.SUV_MTR_USUARIO WHERE CORREO_ELECTRONICO='23SELECT TOP 100 * FROM RG_SUCURSAL_VIRTUAL..SUV_MTR_CLIENTE_HUBSPOT WITH(NOLOCK) WHERE FK_SUV_MTR_USUARIO IN (735345SELECT TOP 100 * FROM RG_SUCURSAL_VIRTUAL..SUV_LOG_SOLICITUD_USUARIO WITH (NOLOCK) WHERE FK_SUV_MTR_USUARIO IN (767EXEC F2P_NEO_BANCO.dbo.PA_CON_USUARIOS_HUBSPOT @P_PAIS = 'cr';167

INC-4060-Aplicativo de sistema de impresiónDescripción del Caso:Se presentó un inconveniente en el acceso al sistema de impresión para la usuaria Sara Gomez, quien no podía autenticarse y utilizar las funcionalidades necesarias para la gestión de documentos e impresión. El problema se identificó como una falta de creación de su usuario en Active Directory (AD), lo cual impedía la asignación de permisos y restringía el acceso al aplicativo.Dado que el flujo de gestión de permisos requiere primero la creación del usuario en AD por parte del equipo de soporte local, el retraso en este proceso causó una demora en la habilitación del sistema para la usuaria.Script Utilizado:Solución:1. Verificación del Usuario:Se validó la existencia del usuario mediante la siguientes consultas:USE F2P_VENTAS_CRSELECT TOP 100 * FROM  dbo.usuarios_impresion    WITH(NOLOCK) WHERE usuario= '303600588' --  81dc9bdb52d04dc20036dbd8313ed055SELECT   * FROM dbo.IMP_TRA_BANDEJA_PRODUCTOS WHERE STR_USUARIO = '303600588'SELECT * FROM F2P_VENTAS_CR..IMP_TRA_BANDEJA_EXCEPCIONES WHERE STR_USUARIO = '303600588'BEGIN TRANSACTIONINSERT INTO [dbo].[IMP_TRA_BANDEJA_EXCEPCIONES] ([STR_USUARIO],[STR_TIPO_PRODUCTO]) VALUES('303600588',' ')INSERT INTO [dbo].[IMP_TRA_BANDEJA_EXCEPCIONES] ([STR_USUARIO],[STR_TIPO_PRODUCTO]) VALUES('303600588','C')INSERT INTO [dbo].[IMP_TRA_BANDEJA_EXCEPCIONES] ([STR_USUARIO],[STR_TIPO_PRODUCTO]) VALUES('303600588','CH')INSERT INTO [dbo].[IMP_TRA_BANDEJA_EXCEPCIONES] ([STR_USUARIO],[STR_TIPO_PRODUCTO]) VALUES('303600588','F2')INSERT INTO [dbo].[IMP_TRA_BANDEJA_EXCEPCIONES] ([STR_USUARIO],[STR_TIPO_PRODUCTO]) VALUES('303600588','M')INSERT INTO [dbo].[IMP_TRA_BANDEJA_EXCEPCIONES] ([STR_USUARIO],[STR_TIPO_PRODUCTO]) VALUES('303600588','R')INSERT INTO [dbo].[IMP_TRA_BANDEJA_EXCEPCIONES] ([STR_USUARIO],[STR_TIPO_PRODUCTO]) VALUES('303600588','T')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(1, '303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(2, '303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(3, '303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(4, '303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(5, '303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(6, '303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(7, '303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(8, '303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(9, '303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(10,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(11,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(12,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(13,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(14,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(15,'303600588')168

INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(16,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(17,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(18,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(19,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(20,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(21,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(22,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(23,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(24,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(25,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(26,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(27,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(28,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(29,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(30,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(31,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(32,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(33,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(34,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(35,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(36,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(37,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(38,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(39,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(40,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(41,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(42,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(43,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(46,'303600588')INSERT INTO [dbo].[IMP_TRA_BANDEJA_PRODUCTOS] ([INT_ID_PRODUCTO],[STR_USUARIO])VALUES(47,'303600588')ROLLBACKCOMMITSelect @@trancountResultado:La usuaria Sara Gomez ahora tiene acceso completo al sistema de impresión, con todas las excepciones y productos asignados según su perfil. Se verificó que puede realizar sus tareas sin restricciones ni inconvenientes.Notas Adicionales:Se utilizó una transacción para garantizar que los permisos y productos se asignaran de manera segura y sin inconsistencias. En caso de error, el sistema habría revertido los cambios automáticamente.El uso de tablas con bloqueo (NOLOCK) ayudó a evitar bloqueos en el sistema durante la consulta de datos.Recomendación: Establecer un procedimiento proactivo para asignar permisos al momento de crear los usuarios y evitar problemas similares en el futuro.169

Impacto: El acceso tardío al sistema afectó temporalmente las operaciones de la usuaria, pero la solución se aplicó sin necesidad de reabrir el caso.Causa:El inconveniente surgió debido a que la usuaria Sara Gomez no contaba con los permisos adecuados en el sistema de impresión. Aunque su usuario estaba registrado en Active Directory (AD), no se habían realizado las configuraciones necesarias para habilitar su acceso al sistema de impresión y sus funcionalidades. Esta falta de permisos impidió que pudiera operar de forma regular en sus actividades diarias relacionadas con la gestión de documentos e impresión.Solución:Se identificó que el acceso de la usuaria Sara Gomez al sistema de impresión estaba restringido por falta de permisos en el aplicativo, a pesar de contar con su usuario registrado en Active Directory (AD). Para resolver el problema:1. Asignación de Permisos al Usuario:Se realizó una validación exhaustiva de los permisos asociados al usuario mediante consultas en las tablas de impresión.Posteriormente, se ejecutó el script de asignación de permisos para agregar los permisos faltantes tanto en la bandeja de productos como en las excepciones del sistema.2. Verificación de Acceso:Una vez asignados los permisos, se validó que la usuaria pudiera acceder y utilizar correctamente el sistema de impresión.Se confirmó que Sara Gomez ahora tiene acceso completo a las funcionalidades necesarias para realizar sus tareas sin inconvenientes.3. Cierre del Caso:Con esta acción, se garantiza que la usuaria cuenta con los permisos adecuados para todas las áreas del sistema de impresión relevantes para su rol.Impacto y Recomendaciones:Impacto: La usuaria se vio afectada en su capacidad para gestionar documentos y procesos de impresión durante el tiempo en que no tuvo acceso.Recomendaciones:a. Mejorar la coordinación interna entre el equipo de soporte local y nuestra área, para evitar retrasos en la creación de usuarios y asignación de permisos.b. Establecer un protocolo de notificación temprana para alertar sobre la creación de usuarios, permitiendo agilizar los flujos relacionados.Sistema Relacionado:Aplicativo de Sistema de ImpresiónFlujo relacionado:Configuración, autenticación y permisos de acceso al sistema de impresiónCausa raíz relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO 170

Tipo Solución: Workaround171

INC-4105 Validar lentitud en CoreDescripción del problema: El usuario reporta lentitud en el core a nivel general en los centros de CR y Nic. Los usuarios experimentaban retrasos significativos al realizar operaciones cotidianas, afectando la productividad y la experiencia del cliente.Análisis y acciones tomadas: Se realizaron revisiones de los componentes afectados del core, incluyendo la infraestructura de servidores y bases de datos. Se verificaron las métricas del sistema, como el uso de CPU, memoria y I/O, para determinar si existía alguna saturación o cuello de botella. Se analizaron los logs para identificar posibles patrones que indicaran problemas de rendimiento. Además, se llevaron a cabo pruebas de conectividad entre los centros de datos en CR y Nic, verificando la latencia y la estabilidad de la red. También se compararon eventos recientes en la infraestructura, como despliegues o actualizaciones, que pudieran haber provocado esta lentitud.Validación y cierre: Después del análisis detallado, se identificó que la causa principal de la lentitud estaba relacionada con problemas en la red y la conectividad entre los centros de CR y Nic. Lo cual impactaba negativamente el rendimiento general del sistema. La red volvió a la normalidad sin necesidad de realizar acciones por parte del equipo de infraestructura.Solución aplicada: No se aplicó ninguna acción específica, ya que el problema se resolvió por una estabilización automática de la conectividad, posiblemente debido a condiciones externas favorables en la infraestructura de red.Código proporcionado: No AplicaResultado: El rendimiento del core volvió a la normalidad después de realizar las correcciones en la red. Se verificó la estabilidad de los componentes afectados y se confirmó que la lentitud fue resuelta. Los usuarios reportaron una mejora en los tiempos de respuesta y una operación fluida sin interrupciones.Sistema Relacionado: CoreFlujo relacionado: Buscar ClientesCausa: Problemas de red debido a inestabilidad en los enlaces de comunicación y alta latencia entre los centros de datosSolución: Se identificó que el problema principal estaba relacionado con una conexión a internet lenta entre los centros de CR y Nic. Esto causaba los cuellos de botella que estaban generando la lentitud.Causa raíz relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo solución: No existe Error172

INC-4094 - Solicitud para Descartar Cédulas sin ApadronarPropietario:José ValverdeFecha:30-10-2024Sistema Relacionado:Base de Datos SUGEF - CR_Buro_BancarioCausa:Se identificó que la cédula 702238028 no estaba apadronada en el sistema SUGEF, por lo que era necesario actualizar su estado a descartado. Las transacciones relacionadas no avanzaban debido a la falta de lógica automatizada para manejar este tipo de casos.INC-4094: Solicitud para descartar cédulas sin apadronarCERRADO INC-4134: CEDULAS DESCARGADAS EN MANTENIMIENTO 2.0CERRADO Causa Raíz:Falta de lógica automatizada para descartar cédulas no apadronadas, lo que bloqueaba las transacciones relacionadas y requería intervención manual.Link de Causa Raíz: INC-4143: Causa Raíz - Descartar cédulas no apadrinadasCOMPLETADO Descripción del Problema:El cliente reportó la necesidad de descartar una cédula no apadronada en el sistema. Esta situación causaba que las transacciones quedaran bloqueadas en estados intermedios, sin permitir que siguieran su curso normal en la plataforma.Análisis y Acciones Tomadas:Identificación del problema:Se detectó que las solicitudes relacionadas con la cédula 702238028 permanecían en estados intermedios. Para resolverlo, se realizó una actualización manual del estado a 10 (descartado).Acción Correctiva:1. Consulta Inicial:Se utilizó la siguiente consulta para identificar las transacciones relevantes:1USE CR_BURO_BANCARIO;23SELECT FECHA_INGRESO, FK_UTL_CAT_ESTADO, REINTENTOS, * 4FROM dbo.RPA_TRA_SOLICITUD WITH(NOLOCK) 5WHERE IDENTIFICACION IN ('702238028') 173

 2. Actualización de los Estados:Se actualizó el estado de las solicitudes afectadas a 10 (descartado) para liberar las transacciones bloqueadas: Verificación de las Actualizaciones:Se abrió un chat con el cliente para confirmar que las cuentas asociadas fueron actualizadas correctamente al estado 10 (descartado). El cliente validó los cambios y reportó que las transacciones ya no presentaban bloqueos.Estados de las Solicitudes:10: Descartado9: Pendiente5: Procesado7: Estado inicialValidación y Cierre:Instancia: ProducciónIP: 172.29.0.30El cliente verificó que las solicitudes ya se reflejaban en el estado correcto y sin bloqueos adicionales.Recomendaciones y Próximos Pasos:1. Monitorear: Supervisar solicitudes similares para asegurar que el flujo continúe sin interrupciones.2. Implementar Automatización: Revisar e incorporar lógica automatizada para el manejo de cédulas no apadronadas en futuros procesos.Etiquetas Solución:Actualización de EstadosIntervención ManualContinuidad OperativaTransacciones en Base de Datos6ORDER BY PK_RPA_TRA_SOLICITUD DESC;1BEGIN TRAN;2UPDATE dbo.RPA_TRA_SOLICITUD 3SET FK_UTL_CAT_ESTADO = 10 4WHERE PK_RPA_TRA_SOLICITUD IN (16957146, 16941601);5COMMIT;174

INC-4097-Correccion de cargas de cobertura de seguros op # 98658Problema con los Cargos por Cuota de Cobertura de SegurosSe presentó un problema con la aplicación de dos cargos por ¢90.452,00 cada uno, correspondientes a la cuota de cobertura de seguros de la operación 98658. Estos cargos se intentaron registrar dos veces, pero en ambas ocasiones el sistema los aplicó incorrectamente como abonos al capital en lugar de cuotas de seguro.Problemática de ReversiónEn la primera instancia, se pudo revertir el error, pero en los intentos posteriores, el sistema no permitía realizar nuevas reversiones. Tras investigar, se descubrió que esto se debía a que ya existían transacciones de reversión anteriores con estado 8, lo cual impedía la correcta ejecución de nuevas reversiones. Estas transacciones con estado 8 tuvieron que ser actualizadas manualmente a estado 33, para ser clasificadas como duplicadas y así permitir el procesamiento adecuado.Acción Correctiva Aplicada1. Actualización del Estado de Reversiones Preexistentes: Para solucionar el bloqueo, se actualizó el estado de las transacciones anteriores utilizando el siguiente query:Este query cambia el estado de la transacción a 33 (anulado/duplicado), lo cual libera la restricción que impedía nuevas reversiones.Reversión del Pago Incorrecto y Aplicación de la Reversión: Una vez actualizados los estados, se procedió con la reversión de los pagos incorrectos y la aplicación de los cargos correspondientes mediante los siguientes queries:Reversión del Pago Incorrecto:1BEGIN TRAN2DECLARE @validapago INT = -- Colocar id valida pago3DECLARE @motivo NVARCHAR(60) = 'duplicado' -- Agregar el motivo de anulación4UPDATE dbo.stc_blp_validapago 5SET FK_PSE_CAT_TRANSACCION_STATUS = 33, 6    Estatus = 'cancelado',7    USUARIO_ACTUALIZA = SYSTEM_USER, 8    Comentario = @motivo, 9    FECHA_ACTUALIZA = GETDATE() 10WHERE id_validapago = @validapago;1112ROLLBACK13COMMIT TRAN141EXEC dbo.PA_PRO_TRANSACCION_REVERSION 2    @P_ID_VALOR = 13879134,         -- bigint id_validapago3    @P_USUARIO = 'Procesos.sistema',-- varchar(50)4    @P_TIPO_ORIGEN = '',            -- varchar(1)5    @P_NUM_OPERACION = '',          -- varchar(50)6    @P_MONTO_PAGO = 0,              -- int7    @P_COMENTARIO = ''              -- varchar(200)8175

Aplicación de la Reversión del Pago:Solución del cierre: El problema ha sido resuelto actualizando manualmente el estado de las transacciones duplicadas y aplicando los pasos de reversión y corrección. Esto asegura que los cargos de cobertura de seguro se registren de manera correcta.Sistema RelacionadoCoreCausa-raíz:INC-284: Causa raíz no APLICA (7108754)ABIERTO Flujo relacionado reversion de pagosTipo soluciónworkaround 1EXEC dbo.PA_PRO_PSE_TRANSACCION_PAGO 2    @P_ID_TRADICIONAL_CLIENTE = 0,             -- bigint3    @P_ID_TRADICIONAL_CLIENTE_DETALLE = 0,     -- bigint4    @P_ID_VALIDA_PAGO = 13879754,              -- bigint5    @P_DEBUG = 0                               -- int | DEBUG = 1 -> MODO PRUEBAS | DEBUG = 0 -> APLICA EL PAGO D6176

INC-4098 - Consulta Pagaré 138704Propietario: José ValverdeFecha: 28-10-2024Sistema Relacionado: CORE Bancario- transacciones DTRCausa:Solicitud de información para verificar las transacciones DTR realizadas el 28-10-2024, incluyendo la hora, el agente responsable y el monto involucrado.Descripción del Problema:El equipo solicitó detalles específicos sobre dos transacciones realizadas el 28 de octubre de 2024 para el pagaré 138704. Se requería identificar:Fecha y hora de ingreso.Fecha y hora de aplicación en el sistema CORE.Monto de cada transacción.Usuario responsable del ingreso.Análisis y Acciones Tomadas:Se realizó la siguiente consulta SQL para obtener la información solicitada: Con esta consulta se identificaron dos transacciones correspondientes:Transacción 1:Usuario: alejandra.gonzalezFecha de Ingreso: 28-10-2024 16:54:56Fecha de Aplicación CORE: 28-10-2024 16:54:58Monto: 28,545.00Transacción 2:Usuario: Kathlen.MongeFecha de Ingreso: 28-10-2024 10:59:50Fecha de Aplicación CORE: 28-10-2024 10:59:53Monto: 28,600.001SELECT FECHA_APLICA_CORE, Monto, * 2FROM CR_SERVICIOS_BANCO.dbo.STC_TRA_TRANSFERENCIA WITH (NOLOCK) 3WHERE IDOrigen = '02-0584-0307' 4ORDER BY PK_STC_TRA_TRANSFERENCIA DESC;5177

Validación y Cierre:Se confirmó que las transacciones DTR realizadas el 28-10-2024 fueron registradas y aplicadas correctamente.La información se brindó al solicitante con éxito, cumpliendo con la solicitud planteada.Recomendaciones y Próximos Pasos:Documentación continua: Registrar todas las solicitudes similares con detalles de los usuarios responsables para futuros seguimientos.Monitoreo frecuente: Revisar que las transacciones se reflejen correctamente en el CORE sin demoras significativas.Automatización: Evaluar la posibilidad de generar reportes automáticos para este tipo de consultas recurrentes.Etiquetas Solución:Consultas SQLTransacciones BancariasDTR (Depósitos o Transferencias)Verificación de OperacionesTiempos de ProcesamientoUsuarios Responsables178

INC-4123-Separar cuentasAnálisis del caso Queremos identificar las operaciones activas de ciertas cuentas y luego mover esas operaciones a una cartera separada mediante un procedimiento almacenado.Pasos Detallados del Proceso:1. Consulta Inicial para Obtener los Pagarés Activos:Primero ejecutamos una consulta SQL para encontrar las operaciones activas de un conjunto específico de cuentas.La consulta busca todas las cuentas en la tabla stc_blp_tradicional_cliente y los pagarés relacionados en la tabla stc_blp_tradicional_cliente_detalle que cumplan con las siguientes condiciones:La cuenta esté en una lista específica de cuentas proporcionada.El estado (fk_stc_par_status) sea 10 o 31, que representan las operaciones activas.Resultado esperado: una lista de pagarés que cumplen con las condiciones de ser operaciones activas de las cuentas especificadas.Ejecutar el Procedimiento Almacenado para Separar los Pagarés:Una vez que se tiene la lista de pagarés activos, se debe ejecutar un procedimiento almacenado (sp_gestion_cartera_separada) para cada pagaré y así moverlo a la cartera separada.Cada ejecución del procedimiento almacenado usa el pagaré como argumento junto con un segundo parámetro llamado 'Proceso.sistema'.Aquí 'Pagare' es un valor que debe reemplazarse con el resultado de la consulta inicial.Sugerencias de automatización Para evitar la ejecución manual del procedimiento almacenado para cada pagaré, se puede usar un cursor en SQL que recorra automáticamente cada resultado y ejecute el procedimiento por cada uno.Cursor para Recorrer Pagarés:El cursor (pagares_cursor) se declara para almacenar y recorrer cada pagaré devuelto por la consulta.Se usa un ciclo WHILE para procesar cada pagaré y ejecuta el procedimiento almacenado.1SELECT b.pagare2FROM dbo.stc_blp_tradicional_cliente a WITH(NOLOCK)3INNER JOIN dbo.stc_blp_tradicional_cliente_detalle b WITH(NOLOCK)4    ON b.fk_stc_blp_tradicional_cliente = a.id5WHERE a.NUMERO_CUENTA IN (6    'R-58771', 'R-167365', 'R-197552', 'R-178663', 'R-180139', 7    'R-192306', 'R-183860', 'R-147440', 'R-146500', 'R-179427', 8    '132917', 'R-193039', 'R-193793', '198636', 'R-209139', 'R-51933'9)10AND b.fk_stc_par_status IN (10, 31);1EXEC cr_core..sp_gestion_cartera_separada 'Pagare', 'Proceso.sistema';2179

Una vez procesados todos los pagarés, el cursor se cierra y se libera la memoriaResumen del Resultado Final:1. Consulta de Pagarés Activos: Obtuvimos una lista de pagarés de las cuentas que están activas (status 10 o 31y 16).2. Automatización de la Separación: Usamos un cursor para recorrer cada pagaré obtenido y llamar al procedimiento almacenado para que cada pagaré se mueva automáticamente a la "cartera separada".3. Beneficios del Enfoque:Automatización y Eficiencia: Se automatiza el proceso, evitando la necesidad de ingresar manualmente cada pagaré.Legibilidad y Mantenimiento: El uso del cursor y de una consulta separada hace que sea más fácil mantener el proceso y realizar cambios en el futuro.Este enfoque garantiza que todas las operaciones activas de las cuentas especificadas sean movidas de manera rápida y precisa a la cartera deseada. Además, el proceso es automatizado para que sea más eficiente y menos propenso a errores manuales.Causa raíz relaciona INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo de SoluciónCorrectiva.Caso relacionadoN/A1DECLARE @pagare VARCHAR(50);23DECLARE pagares_cursor CURSOR FOR4SELECT b.pagare5FROM dbo.stc_blp_tradicional_cliente a WITH(NOLOCK)6INNER JOIN dbo.stc_blp_tradicional_cliente_detalle b WITH(NOLOCK)7    ON b.fk_stc_blp_tradicional_cliente = a.id8WHERE a.NUMERO_CUENTA IN (9    'R-58771', 'R-167365', 'R-197552', 'R-178663', 'R-180139', 10    'R-192306', 'R-183860', 'R-147440', 'R-146500', 'R-179427', 11    '132917', 'R-193039', 'R-193793', '198636', 'R-209139', 'R-51933'12)13AND b.fk_stc_par_status IN (10, 31);1415OPEN pagares_cursor;1617FETCH NEXT FROM pagares_cursor INTO @pagare;1819WHILE @@FETCH_STATUS = 020BEGIN21    EXEC cr_core..sp_gestion_cartera_separada @pagare, 'Proceso.sistema';22    FETCH NEXT FROM pagares_cursor INTO @pagare;23END;2425CLOSE pagares_cursor;26DEALLOCATE pagares_cursor;27180

Flujo relacionado proceso de cartera separada181

INC-4105 - México - Cuenta Cancelada y Muestra ActivaPropietario: José ValverdeFecha: 28-10-2024Sistema Relacionado: Proceso de Liquidación de Saldos PA_PRO_CANCELA_SALDOS_BAJOS_PAGAREINC-4104: Mexico Cuenta cancelada y muestra activaCERRADO INC-4170: Causa Raíz - Fallo en el proceso automatizado de liquidación de saldos bajosBAJO REVISIÓN Causa:El proceso automatizado de cancelación de saldos bajos no identificó correctamente ciertas cuentas en México con saldos mínimos pendientes, generando inconsistencias en el estado de las cuentas.Descripción del Problema:Se detectaron cinco cuentas de México que, aunque no tenían saldos significativos, continuaban apareciendo como activas en el sistema con montos residuales mínimos. Estas cuentas debían haberse liquidado automáticamente, pero el proceso configurado no lo hizo, requiriendo intervención manual para su corrección.Análisis y Acciones Tomadas:1. Cuentas Afectadas y Saldos Identificados:R-00143-00: 0.0000191412R-00570-00: 0.0006967205R-01418-00: 0.0009845080R-01760-00: 0.0001244460R-01912-00: 0.00194037632. Acciones Tomadas:Faviana Anaya: Realizó la corrección manual para eliminar los saldos y ajustar el estado de las cuentas afectadas.Jose Valverde: Confirmó que el procedimiento automatizado de liquidación de saldos bajos está implementado para todos los países, pero no procesó estas cuentas.3. Hallazgos:El proceso no liquidó las cuotas pendientes debido a que las cuentas estaban al día, pero con montos pendientes mínimos.Jose Valverde verificará si es necesaria una modificación en el procedimiento para que se ejecute correctamente en México.   1use mx_CORE;2select b.fk_stc_par_status,b.FK_STC_PAR_MONEDA,b.pagare,b.pk_stc_blp_tradicional_cliente_detalle,b.saldo_actual,b.fk_stc_blp_tradicional_cliente,b.FK_STC_PAR_MONEDA,3inner join dbo.stc_blp_tradicional_cliente_detalle b with (nolock) on b.fk_stc_blp_tradicional_cliente = a.id4where  a.NUMERO_CUENTA like'R-01912%'567exec dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE = 1767, -- bigint8                                      @P_PK_STC_PAR_MONEDA = 5,              -- bigint9                                      @P_USUARIO = '',                       -- varchar(50)10                                      @P_MODO_EJECUCION = 0,                 -- smallint11                                      @P_OPCION = 0,                         -- smallint12                                      @P_IDENTIFICADOR_EXTERNO = ''          -- varchar(50)1314select * from dbo.PSE_CAT_STATUS_CUOTA151617select Nivel, Estado, secuencia_cuota, Fecha_Ultimo_Pago, *18from dbo.stc_blp_tradicional_cuota with(nolock)19where id_tradicional = (select pk_stc_blp_tradicional_cliente_detalle from dbo.stc_blp_tradicional_cliente_detalle with(nolock) where pagare = 'R-01912-00' ) ord202122select saldo_actual,Saldo_Al_Pago,Saldo_Al_Pago_Especial,* from stc_blp_tradicional_pago where id_tradicional=1915 order by ID desc23select saldo_actual,* from dbo.stc_blp_tradicional_cliente_detalle where pk_stc_blp_tradicional_cliente_detalle =19152425update dbo.stc_blp_tradicional_cuota  set Estado = 2 , saldo =0, saldo_interes = 0 , saldo_amortizacion = 0 where id = 1520526update stc_blp_tradicional_pago set saldo_actual =0 ,Saldo_Al_Pago = 0 where id = 1074213 27update dbo.stc_blp_tradicional_cliente_detalle set saldo_actual =0 where pk_stc_blp_tradicional_cliente_detalle =19152829update dbo.stc_blp_tradicional_cliente_detalle set fk_stc_par_status = 13 where pk_stc_blp_tradicional_cliente_detalle = 191530182

Validación y Cierre:Faviana Anaya: Confirmó que las cuentas ya fueron corregidas y se encuentran en estado inactivo.Jose Valverde: Revisará el proceso para garantizar que futuras cuentas con saldos bajos en México sean procesadas automáticamente sin necesidad de intervención manual.Recomendaciones y Próximos Pasos:1. Revisión del Proceso Automatizado: Validar que PA_PRO_CANCELA_SALDOS_BAJOS_PAGARE esté configurado correctamente para México.2. Implementación de Alertas Preventivas: Crear una alerta para detectar cuentas con saldos mínimos pendientes que no se liquiden al final del día.3. Monitoreo Continuo: Asegurar que no se presenten más casos similares, evitando que se generen tickets adicionales por estas situaciones.Etiquetas Solución:Automatización de ProcesosLiquidación de Saldos BajosIntervención ManualContinuidad OperativaControl de Saldos y EstadosAlertas Preventivas183

INC-4119-Solicitud de cartera PAXOSDescripción del problema:Se solicita información detallada sobre los clientes y sus saldos en cripto y dólares, así como un desglose de las compras y ventas desde julio de 2021 hasta la fecha. Esta información es necesaria para construir un estado de cuenta por cliente requerido por la SSF y para conciliar con el saldo de la cartera actual.Análisis y acciones tomadas:Primera Solución:Se pidió al cliente que intentara nuevamente generar el archivo, ya que experimentó problemas, posiblemente debido a una alta carga en el servicio. De los cuatro reportes solicitados, logró obtener dos.Segunda Solución:Se aclaró que los dos reportes faltantes eran por un día específico y no globales. Se revisaron los procedimientos almacenados (SP) que generan los reportes y se realizaron modificaciones para permitir la generación de un reporte global desde el 01 de julio de 2021.Se advirtió al cliente que validara la precisión del reporte, dado que se generó para múltiples días, y se sugirió comprobar diferentes fechas para diferentes clientes para asegurar la concordancia de los datos. Validación y cierre:El cliente fue informado de las soluciones y se le ofreció asistencia para validar los reportes generados.Solución aplicada:Modificación de los procedimientos almacenados para permitir la generación de reportes de múltiples días para que se generaran en base de datos, mas no queda productiva esta opción.184

Resultado:Se generaron con éxito dos reportes, y se realizaron modificaciones para facilitar la obtención de los reportes restantes.Notas adicionales:Se recomendó validar los datos de manera cruzada con los reportes que se pasaron.Sistema Relacionado:ReportesFlujo relacionado:Generación de reportes de cartera.Causa:Solicitud Solución:Reintentar la generación de reportes y se pasa la demás información solicitada dejando el siguiente mensaje para ambos archivos  "Recalcar que se debe validar que el reporte este bien ya que el reporte es por día y se esta generando para múltiples dias por lo que seria bueno que agarre con el reporte y el que te pase y valides diferentes fechas para diferentes clientes para ir validando que los datos concuerden".Tipo de Solución:WorkaroundCausa raíz relacionada:INC-284: Causa raíz no APLICA (7108754)ABIERTO Caso relacionado:INC-4119: Solicitud de cartera PAXOSRESUELTO 185

INC-4157 Costa Rica R-82145 consulta activación de débito automáticoDescripción del problema: El equipo de Servicio al Cliente (SAC) solicitó el apoyo para obtener la fecha de activación inicial del débito automático para la cuenta R-82145. La información era necesaria para un proceso interno de Cumplimiento, relacionado con una llamada realizada al cliente.Análisis y acciones tomadas: Se realizó una consulta en la base de datos utilizando el sistema CR_CORE para obtener la información solicitada. Se utilizó una query que buscó específicamente en la tabla stc_blp_clientes_cobro_automatico el registro de la cuenta R-82145, representada en la base de datos como CR29015114320010216219. La consulta fue ajustada para buscar el registro único de activación sin necesidad de ordenar los resultados, ya que solo existe un registro para la cuenta.Validación y cierre: Se encontró la fecha de creación del registro, la cual representa la activación inicial del débito automático. La información fue validada y proporcionada al equipo de SAC para su proceso interno.Solución aplicada: Consulta en la base de datos para identificar la fecha de activación del débito automático.Código proporcionado:Resultado: Se obtuvo correctamente la fecha de activación inicial del débito automático, cumpliendo con la solicitud del área de Cumplimiento.Sistema Relacionado: COREFlujo relacionado: Activación de débito automáticoCausa: Requerimiento de información específica sobre la fecha de activación inicial del débito automático, solicitado por el área de Cumplimiento para una verificación interna.Solución: En base a la solicitud se realizó la consulta necesaria para obtener la fecha de activación inicial del débito automático.La fecha de activación encontrada para la cuenta CR29015114320010216219 fue el 16 de abril de 2021.Causa raíz relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo solución: Consulta informativa. 1USE CR_CORE;2GO34SELECT TOP 1 5    id, 6    banco, 7    cuenta, 8    STR_FECHA_CREACION, 9    *10FROM dbo.stc_blp_clientes_cobro_automatico 11WHERE cuenta = 'CR29015114320010216219';186

187

INC-4174 - Cancelar cuentasDescripción del problemaSolicitud de ayuda para la cancelación de 91 cuentas.Análisis y acciones tomadasSe requiere una revisión de las cuentas a cancelar para asegurarse de que se sigan los procedimientos adecuados.Validación y cierreUna vez que se confirme que las cuentas están listas para la cancelación, se procederá a realizar el proceso necesario, esto los estados 13 se cambian a 19 y se sincroniza saldos.Solución aplicadaIniciar el proceso de cancelación de las cuentas mencionadas.Código Usado1USE CR_CORE;2SELECT CONCAT(3                 'UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicio4                 b.pk_stc_blp_tradicional_cliente_detalle5             ) AS 'update',6       CONCAT(7                 'UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=',8                 b.fk_stc_par_status,9                 ' WHERE pk_stc_blp_tradicional_cliente_detalle=',10                 b.pk_stc_blp_tradicional_cliente_detalle11             ) AS 'rollback',12       CASE13           WHEN b.FK_STC_PAR_MONEDA = 1 THEN14               CONCAT(15                         'EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =',16                         b.fk_stc_blp_tradicional_cliente,17                         '  ,@P_PK_STC_PAR_MONEDA = 1,@P_USUARIO = '''',   @P_MODO_EJECUCION = 0,  @P_OPCION = 18                     )19           WHEN b.FK_STC_PAR_MONEDA = 2 THEN20               CONCAT(21                         'EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =',22                         b.fk_stc_blp_tradicional_cliente,23                         '  ,@P_PK_STC_PAR_MONEDA = 2,@P_USUARIO = '''',   @P_MODO_EJECUCION = 0,  @P_OPCION = 24                     )25       END AS 'sincroniza',26       b.FK_STC_PAR_MONEDA,27       b.*28FROM dbo.stc_blp_tradicional_cliente a WITH (NOLOCK)29    INNER JOIN dbo.stc_blp_tradicional_cliente_detalle b WITH (NOLOCK)30        ON b.fk_stc_blp_tradicional_cliente = a.id31WHERE a.NUMERO_CUENTA IN ( '221416', 'R-159916', 'R-88983', 'R-71898', '176987', 'R-165910', 'R-169431', 'CH-0132                           'R-167693', 'R-165901', 'R-145892', 'R-141657', 'R-194802', 'R-178100', 'R-138965',188

33                           'R-182261', 'R-182494', '177682', 'R-135648', 'R-152557', '104928', 'R-170124', 'R-134                           '380953', '163568', 'R-187925', 'R-188911', 'R-179586', 'R-206887', 'R-116720', 'R-135                           'R-168173', 'R-168909', '223632', '176146', 'R-161380', 'R-165135', 'R-176135', '10636                           'R-128466', 'R-161619', 'R-00638', 'R-141947', 'R-128661', 'R-140382', 'R-11201', '237                           '413185', 'R-33915', 'R-192681', 'R-193680', 'R-106790', 'R-81704', 'R-118619', 'R-138                           '358001', '151661', 'R-53810', 'R-169997', 'R-108370', 'R-192224', 'R-209118', 'R-1939                           'R-202382', 'R-207621', 'R-107249', '107618', 'R-41432', 'R-166512', 'R-149041', 'R-40                           'R-164818', '415509', 'R-165317', 'R-137991', '391501', 'R-166975', '112172', '2218841                           'R-03686', 'R-65340', 'R-15731', 'R-141299', 'R-74169', 'R-85217', 'R-89067', 'R-16942                           'R-80832', 'R-167281', 'R-86820', 'R-197059'43                         )44      AND b.fk_stc_par_status <> 1945ORDER BY 2 DESC;4647--=============================================================================================================48BEGIN TRANSACTION49UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall50UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall51UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall52UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall53UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall54UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall55UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall56UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall57UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall58UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall59UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall60UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall61UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall62UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall63UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall64UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall65UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall66UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall67UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall68UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall69UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall70UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall71UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall72UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall73UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall74UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall75UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall76UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall77UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall78UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall79UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall80UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall81UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall82UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall83UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall84UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall85UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall86UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall87UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall88UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall89UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall90UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall189

91UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall92UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall93UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall94UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall95UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall96UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall97UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall98UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall99UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall100UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall101UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall102UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall103UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall104UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall105UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall106UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall107UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall108UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall109UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall110UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall111UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall112UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall113UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall114UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall115UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall116UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall117UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall118UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall119UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall120UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall121UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall122UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall123UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall124UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall125UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall126UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall127UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall128UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall129UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall130UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall131UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall132UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall133UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall134UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall135UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall136UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall137UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall138UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall139UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall140UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall141UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall142UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall143UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall144UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall145UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall146UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall147UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall148UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall190

149UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall150UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall151UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=19 WHERE pk_stc_blp_tradicional_cliente_detall152153ROLLBACK154COMMIT155156--=============================================================================================================157BEGIN TRANSACTION158UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall159UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall160UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall161UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall162UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall163UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall164UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall165UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall166UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall167UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall168UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall169UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall170UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall171UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall172UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall173UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall174UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall175UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall176UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall177UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall178UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall179UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall180UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall181UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall182UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall183UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall184UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall185UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall186UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall187UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall188UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall189UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall190UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall191UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall192UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall193UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall194UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall195UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall196UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall197UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall198UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall199UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall200UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall201UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall202UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall203UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall204UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall205UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall206UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall191

207UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall208UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall209UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall210UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall211UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall212UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall213UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall214UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall215UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall216UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall217UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall218UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall219UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall220UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall221UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall222UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall223UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall224UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall225UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall226UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall227UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall228UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall229UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall230UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall231UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall232UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall233UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall234UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall235UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall236UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall237UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall238UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall239UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall240UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall241UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall242UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall243UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall244UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall245UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall246UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall247UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall248UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall249UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall250UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall251UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall252UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall253UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall254UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall255UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall256UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall257UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall258UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall259UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall260UPDATE stc_blp_tradicional_cliente_detalle SET fk_stc_par_status=13 WHERE pk_stc_blp_tradicional_cliente_detall261262ROLLBACK263COMMIT264192

265--=============================================================================================================266EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =103368  ,@P_PK_STC_PAR_MONEDA = 1,@P_U267EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =91836  ,@P_PK_STC_PAR_MONEDA = 1,@P_US268EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =79458  ,@P_PK_STC_PAR_MONEDA = 1,@P_US269EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =71940  ,@P_PK_STC_PAR_MONEDA = 1,@P_US270EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =53742  ,@P_PK_STC_PAR_MONEDA = 1,@P_US271EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =49212  ,@P_PK_STC_PAR_MONEDA = 1,@P_US272EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =41643  ,@P_PK_STC_PAR_MONEDA = 1,@P_US273EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =299744  ,@P_PK_STC_PAR_MONEDA = 1,@P_U274EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =298246  ,@P_PK_STC_PAR_MONEDA = 1,@P_U275EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =293007  ,@P_PK_STC_PAR_MONEDA = 1,@P_U276EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =297512  ,@P_PK_STC_PAR_MONEDA = 1,@P_U277EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =188380  ,@P_PK_STC_PAR_MONEDA = 1,@P_U278EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =293007  ,@P_PK_STC_PAR_MONEDA = 1,@P_U279EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =293007  ,@P_PK_STC_PAR_MONEDA = 1,@P_U280EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =38363  ,@P_PK_STC_PAR_MONEDA = 1,@P_US281EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =293007  ,@P_PK_STC_PAR_MONEDA = 1,@P_U282EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =229710  ,@P_PK_STC_PAR_MONEDA = 1,@P_U283EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =284290  ,@P_PK_STC_PAR_MONEDA = 1,@P_U284EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =285412  ,@P_PK_STC_PAR_MONEDA = 1,@P_U285EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =287670  ,@P_PK_STC_PAR_MONEDA = 1,@P_U286EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =287307  ,@P_PK_STC_PAR_MONEDA = 1,@P_U287EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =175722  ,@P_PK_STC_PAR_MONEDA = 1,@P_U288EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =283293  ,@P_PK_STC_PAR_MONEDA = 1,@P_U289EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =282836  ,@P_PK_STC_PAR_MONEDA = 1,@P_U290EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =262029  ,@P_PK_STC_PAR_MONEDA = 1,@P_U291EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =279530  ,@P_PK_STC_PAR_MONEDA = 1,@P_U292EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =278545  ,@P_PK_STC_PAR_MONEDA = 1,@P_U293EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =123269  ,@P_PK_STC_PAR_MONEDA = 1,@P_U294EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =272114  ,@P_PK_STC_PAR_MONEDA = 1,@P_U295EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =234896  ,@P_PK_STC_PAR_MONEDA = 1,@P_U296EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =271881  ,@P_PK_STC_PAR_MONEDA = 1,@P_U297EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =241472  ,@P_PK_STC_PAR_MONEDA = 1,@P_U298EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =269192  ,@P_PK_STC_PAR_MONEDA = 1,@P_U299EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =229387  ,@P_PK_STC_PAR_MONEDA = 1,@P_U300EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =229828  ,@P_PK_STC_PAR_MONEDA = 1,@P_U301EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =264932  ,@P_PK_STC_PAR_MONEDA = 1,@P_U302EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =267707  ,@P_PK_STC_PAR_MONEDA = 1,@P_U303EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =264264  ,@P_PK_STC_PAR_MONEDA = 1,@P_U304EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =229387  ,@P_PK_STC_PAR_MONEDA = 1,@P_U305EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =256031  ,@P_PK_STC_PAR_MONEDA = 1,@P_U306EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =227303  ,@P_PK_STC_PAR_MONEDA = 1,@P_U307EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =227482  ,@P_PK_STC_PAR_MONEDA = 1,@P_U308EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =242641  ,@P_PK_STC_PAR_MONEDA = 1,@P_U309EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =260538  ,@P_PK_STC_PAR_MONEDA = 1,@P_U310EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =229828  ,@P_PK_STC_PAR_MONEDA = 2,@P_U311EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =229828  ,@P_PK_STC_PAR_MONEDA = 1,@P_U312EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =256031  ,@P_PK_STC_PAR_MONEDA = 1,@P_U313EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =238457  ,@P_PK_STC_PAR_MONEDA = 1,@P_U314EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =255341  ,@P_PK_STC_PAR_MONEDA = 2,@P_U315EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =255341  ,@P_PK_STC_PAR_MONEDA = 1,@P_U316EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =262281  ,@P_PK_STC_PAR_MONEDA = 1,@P_U317EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =254259  ,@P_PK_STC_PAR_MONEDA = 1,@P_U318EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =256684  ,@P_PK_STC_PAR_MONEDA = 1,@P_U319EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =256684  ,@P_PK_STC_PAR_MONEDA = 2,@P_U320EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =256684  ,@P_PK_STC_PAR_MONEDA = 1,@P_U321EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =186043  ,@P_PK_STC_PAR_MONEDA = 2,@P_U322EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =222004  ,@P_PK_STC_PAR_MONEDA = 1,@P_U193

 ResultadoEl código usado genera un comando SQL para actualizar el estado de la cuenta y un comando para revertirlo, mostrando el estado anterior.323EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =217212  ,@P_PK_STC_PAR_MONEDA = 1,@P_U324EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =217085  ,@P_PK_STC_PAR_MONEDA = 1,@P_U325EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =216519  ,@P_PK_STC_PAR_MONEDA = 1,@P_U326EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =216441  ,@P_PK_STC_PAR_MONEDA = 1,@P_U327EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =215997  ,@P_PK_STC_PAR_MONEDA = 1,@P_U328EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =215261  ,@P_PK_STC_PAR_MONEDA = 1,@P_U329EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =214781  ,@P_PK_STC_PAR_MONEDA = 1,@P_U330EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =214369  ,@P_PK_STC_PAR_MONEDA = 1,@P_U331EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =214063  ,@P_PK_STC_PAR_MONEDA = 1,@P_U332EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =213600  ,@P_PK_STC_PAR_MONEDA = 1,@P_U333EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =212998  ,@P_PK_STC_PAR_MONEDA = 1,@P_U334EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =212989  ,@P_PK_STC_PAR_MONEDA = 1,@P_U335EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =212405  ,@P_PK_STC_PAR_MONEDA = 1,@P_U336EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =212223  ,@P_PK_STC_PAR_MONEDA = 1,@P_U337EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =211906  ,@P_PK_STC_PAR_MONEDA = 1,@P_U338EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =208704  ,@P_PK_STC_PAR_MONEDA = 1,@P_U339EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =208465  ,@P_PK_STC_PAR_MONEDA = 1,@P_U340EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =207001  ,@P_PK_STC_PAR_MONEDA = 1,@P_U341EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =201736  ,@P_PK_STC_PAR_MONEDA = 1,@P_U342EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =199643  ,@P_PK_STC_PAR_MONEDA = 1,@P_U343EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =196129  ,@P_PK_STC_PAR_MONEDA = 1,@P_U344EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =192974  ,@P_PK_STC_PAR_MONEDA = 1,@P_U345EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =189028  ,@P_PK_STC_PAR_MONEDA = 1,@P_U346EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =188738  ,@P_PK_STC_PAR_MONEDA = 1,@P_U347EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =187460  ,@P_PK_STC_PAR_MONEDA = 1,@P_U348EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =186043  ,@P_PK_STC_PAR_MONEDA = 1,@P_U349EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =185069  ,@P_PK_STC_PAR_MONEDA = 1,@P_U350EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =182726  ,@P_PK_STC_PAR_MONEDA = 1,@P_U351EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =175722  ,@P_PK_STC_PAR_MONEDA = 1,@P_U352EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =175519  ,@P_PK_STC_PAR_MONEDA = 1,@P_U353EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =160249  ,@P_PK_STC_PAR_MONEDA = 1,@P_U354EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =158184  ,@P_PK_STC_PAR_MONEDA = 1,@P_U355EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =151363  ,@P_PK_STC_PAR_MONEDA = 1,@P_U356EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =148696  ,@P_PK_STC_PAR_MONEDA = 1,@P_U357EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =147355  ,@P_PK_STC_PAR_MONEDA = 1,@P_U358EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =146811  ,@P_PK_STC_PAR_MONEDA = 1,@P_U359EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =142829  ,@P_PK_STC_PAR_MONEDA = 1,@P_U360EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =142421  ,@P_PK_STC_PAR_MONEDA = 1,@P_U361EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =127130  ,@P_PK_STC_PAR_MONEDA = 1,@P_U362EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =127046  ,@P_PK_STC_PAR_MONEDA = 1,@P_U363EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =124873  ,@P_PK_STC_PAR_MONEDA = 1,@P_U364EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =123269  ,@P_PK_STC_PAR_MONEDA = 1,@P_U365EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =119747  ,@P_PK_STC_PAR_MONEDA = 1,@P_U366EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =118873  ,@P_PK_STC_PAR_MONEDA = 1,@P_U367EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =112208  ,@P_PK_STC_PAR_MONEDA = 1,@P_U368EXEC dbo.PA_CON_PSE_SINCRONIZA_SALDOS @P_PK_STC_BLP_TRADICIONAL_CLIENTE =109935  ,@P_PK_STC_PAR_MONEDA = 1,@P_U369370Select @@trancount194

Notas adicionalesAsegurarse de que todos los registros se mantengan en caso de auditoría.Sistema RelacionadoCoreFlujo relacionadoProceso de cancelación de cuentas dentro del sistema.CausaSolicitud para cancelar cuentas que ya no son necesarias o que han sido cerradas, lo que lleva a la necesidad de cancelarlas.SoluciónProceder con la cancelación de las cuentas conforme a las políticas establecidas.Tipo de SoluciónWorkaround.Causa raíz relacionadaINC-284: Causa raíz no APLICA (7108754)ABIERTO Caso relacionadoINC-4174: Cancelar cuentas RESUELTO 195

INC-4198 Inconsistencia en la app ONFIDODescripción del Problema: Durante la mañana, la aplicación ONFIDO ha presentado inconsistencias, principalmente tiempos de espera de hasta un minuto al realizar una consulta de clientes. Esta situación afecta el funcionamiento correcto de las funciones principales de la aplicación, generando una experiencia deficiente para los usuarios.Análisis y Acciones Tomadas:1. Análisis Inicial:Se verificó el estado de la aplicación ONFIDO a las 11:33, donde se observó un comportamiento normal y sin mayores problemas de lentitud.Se solicitó a la usuaria Nicole Zamora que replicara el problema para identificar si la inconsistencia seguía presente en el momento.2. Acciones Tomadas:Se realizó una prueba adicional mientras Nicole estaba en la oficina para observar el comportamiento.Se verificó también el estado de la aplicación desde una conexión residencial por parte de la usuaria Vivian Sandoval, quien reportó que la aplicación estaba funcionando bien desde su ubicación.3. Conclusión del Análisis:El problema parecía ser intermitente y no generalizado.Se sugirió mantener el monitoreo del comportamiento durante el día, dejando el chat abierto para facilitar la comunicación en caso de que la situación persistiera.Solución del Cierre: El problema parece haber sido momentáneo, se habilita dejar el chat abierto para que se pueda reportar de manera inmediata para revisar si se requiere alguna intervención técnica adicional.Sistema Relacionado: Aplicación ONFIDO.Servicios relacionados: Software y aplicaciones crediticiasCausa: No se logró identificar una causa específica, pero se presume que fue un problema temporal relacionado con la conectividad o el servicio externo de ONFIDO.Solución: Monitoreo del comportamiento y validación con múltiples usuarios en diferentes ubicaciones (oficina y casa). No se detectaron nuevos incidentes tras la primera revisión. Causa - raíz: INC-284 Causa raíz no APLICA (7108754)196

INC-4064 El Salvador Actualizar parámetros para contabilidad automáticaDescripción del problema: El usuario reportó que, tras realizar cambios en los parámetros contables, estos no se reflejaban en los reportes generados. Se solicitó asistencia para actualizar dichos parámetros y resolver el problema de carga de reportes.Análisis y acciones tomadas: Tras el análisis del archivo proporcionado, se identificó que el problema se originaba porque el archivo estaba siendo cargado con el campo ID. Este campo es autoincremental y debe ser gestionado por el sistema, lo cual estaba generando conflictos al intentar cargar los parámetros contables manualmente. Se realizaron pruebas en UAT eliminando el campo ID y el archivo se cargó correctamente.Se indicó al usuario que realizara la carga de los parámetros contables sin utilizar el campo ID, permitiendo al sistema asignar los valores automáticamente.Validación y cierre: Tras implementar la recomendación de no incluir el campo ID en el archivo de carga, el sistema reflejó los cambios contables adecuadamente en los reportes. El usuario realizará la carga mañana 01/11/2024 para validar los cambios definitivos.Solución aplicada: Se removió el campo ID del archivo de carga de parámetros contables, permitiendo que el sistema gestione la asignación de identificadores de manera automática.Código proporcionado: Resultado: Los parámetros contables se cargarán hasta mañana para no afectar el cierre del mes de octubre, y los reportes ahora reflejan los cambios realizados de manera adecuada.Sistema Relacionado: Sistema de reportesFlujo relacionado: Parámetros ContablesCausa: Error en la carga manual del campo autoincremental ID, que es gestionado automáticamente por el sistema y no debe ser incluido en la carga manual. Al intentar incluir este campo, se generaban conflictos que impedían la correcta actualización de los parámetros contables.Solución: Carga del archivo sin el campo ID autoincremental, ya que este campo es gestionado automáticamente por el sistema y su inclusión manual puede generar conflictos que impidan la correcta actualización de los parámetros. Se mantendrá el chat 'ext-inc-4064-el-salvador-actualizar-parametros-para-contabilidad-automatica' abierto por si surge algún issue operativo durante la carga del archivo.Causa raíz relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo solución: Operativa1--Validación de parametros contables cargados2SELECT TOP 1000 * FROM F2P_SAP_INTERFACE.dbo.SAP_PAR_CONTABLE WITH(NOLOCK) WHERE TIN_ID_PAIS=4 ORDER BY INT_ID de197

INC-4058 CARACTER ESPECIAL PARA CREACION Y CAMBIO DE CONSTRASEÑADescripción del Problema:El cliente informó que, al cambiar la contraseña de acceso al sistema, pero este no se solicitó un carácter especial, permitiendo establecer una nueva contraseña sin cumplir con este requisito de seguridad. Además, no se mostró ninguna advertencia o leyenda que indicara la necesidad de un carácter especial. Esto afecta tanto a personas físicas como jurídicas que intentan realizar el cambio de contraseña.Análisis y Acciones Tomadas:1. Se revisó la información del tiquete y se determinó que el problema podría estar relacionado con la configuración del sistema en el parámetro "Authentication.PasswordRegex".2. Se validó con el proveedor Bankingly, quien confirmó que el sistema tiene una política para contraseñas que requiere letras mayúsculas, un número y un carácter especial, pero la configuración depende de los administradores del portal de la financiera.3. Se sugirió contactar con el administrador del sistema de la financiera, quien es responsable de la configuración de estas variables.4. Se consultó internamente sobre quién podría apoyar en la configuración, y se determinó que la revisión debe ser realizada por el administrador del portal o, si no está claro, se debe escalar a Bankingly mediante un correo o caso formal.Solución del Cierre:La solución consiste en validar y ajustar la configuración del sistema para el parámetro "Authentication.PasswordRegex" con el administrador de la financiera, de modo que se cumpla con los requisitos de seguridad establecidos para contraseñas. Esto incluirá las características de configuración con que se programa, respetando la política interna.Sistema Relacionado: Bankingly (portal de autenticación y gestión de contraseñas).Servicios relacionados: COM - Gestión Bankingly.Causa:Configuración incorrecta del parámetro "Authentication.PasswordRegex", lo cual permitía a los usuarios cambiar contraseñas sin cumplir con el requisito de incluir un carácter especial.Solución:Coordinar con el administrador de la financiera para ajustar el parámetro de contraseñas "Authentication.PasswordRegex", asegurando que cumpla con los requisitos de seguridad esperados. Además, proporcionar una advertencia clara a los usuarios para que conozcan los requisitos antes de proceder con el cambio de contraseña.Causa - raíz: INC-284 Causa raíz no APLICA (7108754)198

INC-4220 - Error en status de operación R-201029 siguiendo la plantilla proporcionada:Propietario: José ValverdeFecha: 31-10-2024Sistema Relacionado: Sistema de Control de Operaciones (CORE)CausaEl problema se debió a una asignación incorrecta del estado fk_stc_par_status en la operación R-201029, lo cual impedía que el sistema reflejara el saldo cero y mantenía la cuenta en un estado de morosidad, afectando la gestión y seguimiento de la cuenta.Descripción del ProblemaLa operación R-201029 se encontraba en un estado incorrecto, presentando un status de morosidad pese a que el saldo había sido pagado completamente. Este error generó inconsistencias en los reportes de operaciones y requirió intervención manual para poder corregir el estado en el sistema.Análisis y Acciones Tomadas1. Análisis Inicial:Se ejecutó un query de verificación en la tabla stc_blp_tradicional_cliente_detalle para confirmar el estado actual de la cuenta y el saldo de la operación. 2. Acciones Correctivas:Se actualizó el estado en las tablas involucradas, configurando fk_stc_par_status al valor correcto (13) y ajustando el saldo a cero en registros específicos. 1select b.fk_stc_par_status, b.FK_STC_PAR_MONEDA, b.pagare, b.pk_stc_blp_tradicional_cliente_detalle, b.saldo_a2from dbo.stc_blp_tradicional_cliente_detalle b with (nolock) 3where pagare = 'R-201029-00';41begin tran2update dbo.stc_blp_tradicional_cuota  3set Estado = 2, saldo = 0, saldo_interes = 0, saldo_amortizacion = 0 4where id = 24006874;56update stc_blp_tradicional_pago 7set saldo_actual = 0, Saldo_Al_Pago = 0 8where id in (14725528, 14725527, 14725525, 14662007, 14661805, 14661570, 14617581);910update dbo.stc_blp_tradicional_cliente_detalle 11set saldo_actual = 0, fk_stc_par_status = 13 12where pk_stc_blp_tradicional_cliente_detalle = 345862;13commit;199

Validación y CierreValidación Final: Se verificó que el estado de la operación R-201029 ahora muestra un saldo cero y se encuentra en un estado no moroso, cumpliendo los requisitos de seguimiento y gestión en el sistema.Cierre: El caso fue validado y cerrado después de una revisión final en los dashboards y reportes.Recomendaciones y Próximos Pasos1. Automatización de Validaciones: Incorporar validaciones automáticas en el sistema para evitar asignaciones incorrectas de estado cuando el saldo de una cuenta es cero.2. Monitoreo Adicional: Implementar un monitoreo por 48 horas para asegurar que los cambios persisten sin errores en el flujo de operaciones.3. Capacitación del Equipo: Reforzar el entrenamiento en detección temprana de errores de asignación de estados.Etiquetas Solución:Lógica de ProcesosAsignación de EstadosCorrección de FlujosActualización de StatusIntervención ManualMejora en Reportes200

INC-4168-modificar-usuario-coreCausa:Dar acceso a subir plantilla para realizar cambio de producto en el CORE, para mi, Jerry y Johanna Jimenez.Descripción del Problemausuario sin acceso por que ocupa ese acceso para que ocupa ese acceso Análisis:La solicitud de acceso para realizar la carga masiva de cambios de productos en el CORE requiere una evaluación cuidadosa, ya que este tipo de acceso tiene un impacto directo en la estabilidad del sistema y podría provocar que el job falle frecuentemente.Actualmente, el usuario de Belckis tiene varios roles asignados. Si se otorga acceso al CORE con todos estos roles, cualquier persona vinculada a esos mismos roles podría tener acceso al módulo de cambio de productos, lo cual representa un riesgo significativo para la seguridad y la estabilidad del sistema.Acciones Tomadas/Recomendadas:1. No otorgar acceso directamente: Evitar conceder acceso de manera directa sin un análisis previo de los permisos.2. Crear un rol específico: Definir un rol nuevo y específico para un usuario que requiera acceso a este módulo del CORE.3. Autorización de Gerencia: Asegurar que la creación de este rol y la concesión de acceso esté respaldada por una autorización formal de la gerencia, garantizando así un proceso más seguro y controlado.Sistema RelacionadoCoreCausa-raíz:INC-284: Causa raíz no APLICA (7108754)ABIERTOFlujo relacionado accesos a sistema Core Tipo soluciónSe recomienda hacer un rol especifico para usuario para no tener problemas los demás accesos 201

INC-4238 - Eliminación de Minicard Borra Saldo.Descripción del problemaSe solicitó la eliminación del Minicard "Borra Saldo" según las indicaciones del cliente.Análisis y acciones tomadasSe procedió con la eliminación del Minicard "Borra Saldo" en el sistema.Se verificó que la eliminación se realizara de acuerdo con las especificaciones del cliente.Validación y cierreSe validó que el Minicard "Borra Saldo" ya no aparezca en el sistema.El cliente confirmó que el cambio fue satisfactorio.Solución aplicadaEliminación del Minicard "Borra Saldo" del sistema de acuerdo con las instrucciones recibidas.Código UsadoResultadoEl Minicard "Borra Saldo" ha sido eliminado exitosamente.Notas adicionalesSin notas adicionales.Sistema RelacionadoAPPFlujo relacionadoMinicards.CausaSolicitud directa del cliente para la eliminación del Minicard "Borra Saldo".SoluciónEliminación directa del Minicard "Borra Saldo" en el sistema.Tipo de SoluciónWorkaround.Causa raíz relacionadaINC-491: Creación y modificación de minicards APP (71156150)ABIERTO Caso relacionadoINC-4238: CR. Eliminación de Minicard Borra SaldoRESUELTO  1BEGIN TRANSACTION2UPDATE RG_SUCURSAL_VIRTUAL..SUV_PAR_PARAMETRO3SET    VALOR=   '[{"prioridad":0,"tipo":"Mercadeo","Description":"CAMBIO DIVISAS","imagenUrl":"https://storageest4           --  '[{"prioridad":0,"tipo":"Mercadeo","Description":"CAMBIO DIVISAS","imagenUrl":"https://storageesta5WHERE PK_SUV_PAR_PARAMETRO=483267ROLLBACK8COMMIT202

INC-4366: Costa Rica R-200195 consulta activación de debito automáticoTema: Activación de débito automático - Cuenta R-200195Descripción del problema: La cuenta R-200195, asociada al cliente Fernando Alberto Miranda Araya, necesita verificación de la fecha de activación inicial del débito automático. La solicitud fue realizada por el área de Servicio al Cliente (SAC) para un proceso interno. A partir del historial de registros, se confirma que la primera activación del débito automático para este cliente se realizó el 2020-11-07 04:15:05.100.Análisis y acciones tomadas: El análisis del historial de activaciones mostró múltiples entradas asociadas a diferentes bancos y estados de activación. La información incluye tanto activaciones como desactivaciones en varias cuentas de débito automático. La consulta SQL ejecutada arrojó estos registros, con el siguiente resultado relevante:Fecha de Primera Activación: 2020-11-07 04:15:05.100Banco Original: Banco Crédito Agrícola de CartagoEstado Inicial: Activado (estado 1)Se validaron las fechas y el historial para asegurar que la primera activación registrada corresponde a la mencionada, con el usuario del sistema (PROCESOS.SISTEMA) como responsable de la creación del registro.Validación y cierre: La fecha de activación inicial (2020-11-07 04:15:05.100) ha sido confirmada con base en el historial. Se ha preparado la respuesta para el área de SAC, asegurando que tengan la información precisa para su proceso.Solución aplicada: Extracción y análisis del historial completo de activación de débito automático para confirmar la fecha inicial y documentar cambios posteriores.Código proporcionado:Resultado: La fecha de activación inicial ha sido identificada y confirmada exitosamente (2020-11-07 04:15:05.100). Esta información está lista para su comunicación al área de SAC.Sistema Relacionado: Sistema de Débito Automático / Base de Datos de Clientes y Cobros Automáticos.Flujo relacionado: Activación y administración de débitos automáticos para clientes.Causa: La solicitud se originó debido a la necesidad de verificar la fecha de activación inicial del débito automático para procesos internos de SAC.Solución: Realizar una consulta específica en la base de datos para obtener la fecha de activación inicial del débito automático y validar el historial de activaciones y desactivaciones.Causa raíz relacionada: No aplica.Tipo solución: No aplica.1SELECT id, banco, cuenta, estado, str_fecha_creacion, str_usuario_creacion, str_fecha_modificacion, str_usuari2FROM stg.stc_blp_clientes_cobro_automatico_scd3WHERE pais_dwh=506 AND id_cliente=1658794ORDER BY id DESC;203

INC-4376: Cambio de nombreTema:Cambio de Nombre del Cliente en el SistemaDescripción del problema:El cliente CARLOS ROBERSY SALAZAR CASTILLO (ID de cliente: 114220139) solicitó la actualización de su nombre a ELENA SALAZAR CASTILLO. Para validar esta solicitud, se envió un enlace de verificación de identidad mediante la plataforma Onfido. La operación incluye la actualización en el sistema SOC y la validación de identidad a través del Check ID de Onfido: 3e9b4f10-3d96-4f0f-9007-4f23c6815b67.Análisis y acciones tomadas:1. Verificación de Identidad en Onfido: Se utilizó el endpoint de la API de Onfido (https://api.onfido.com/v3.4/applicants/e04d76e2-d39d-4a8a-92bf-3b6db73b8bad) para realizar la actualización y validación de identidad. Esta acción confirmó que los documentos coinciden con la solicitud del cambio de nombre.2. Actualización en SOC y Módulos Asociados: Tras la verificación en Onfido, se ejecutaron los cambios en el sistema SOC y en otros módulos relacionados, como KYC, mensajería y pagaré. El cambio asegura que el nombre ELENA SALAZAR CASTILLO esté reflejado en todas las bases de datos y registros relevantes.Validación y cierre:El cambio de nombre fue implementado en SOC y validado con éxito, y el cliente fue notificado de que la actualización ha sido completada correctamente.Solución aplicada:Se ejecutaron los cambios de nombre en el sistema SOC y en otros módulos relevantes mediante consultas SQL, asegurando que el nombre actualizado esté reflejado en todos los registros del cliente. Además, se utilizó la API de Onfido para validar la identidad del cliente antes de proceder con los cambios.Código proporcionado:1-- Declaración de variables2DECLARE @INT_ID_PADRON INT = 1188528;3DECLARE @INT_ID_PERSONA_BASE INT = 11551579;4DECLARE @STR_IDENTIFICACION1 VARCHAR(20) = '114220139';5DECLARE @ID_KYC INT = 1391215;6DECLARE @ID_MENSAJERIA INT = 1510505;7DECLARE @ID_PAGARE INT = 1458882;8DECLARE @NOMBRE_COMPLETO NVARCHAR(50) = 'ELENA SALAZAR CASTILLO';9DECLARE @PRIMER_NOMBRE NVARCHAR(50) = 'ELENA';10DECLARE @SEGUNDO_NOMBRE NVARCHAR(50) = '';11DECLARE @GENERO NVARCHAR(10) = 'Femenino';1213-- Consultas y actualizaciones utilizando variables1415-- BUR_MTR_PADRON_ELECTORAL16SELECT *17FROM F2P_BURO_INTERNO_CR..BUR_MTR_PADRON_ELECTORAL18WHERE INT_ID = @INT_ID_PADRON;1920UPDATE F2P_BURO_INTERNO_CR..BUR_MTR_PADRON_ELECTORAL21SET STR_PRIMER_NOMBRE = @PRIMER_NOMBRE22WHERE INT_ID = @INT_ID_PADRON;2324-- BUR_TRA_PERSONA_BASE204

Resultado:El cambio de nombre fue exitoso y ahora el cliente aparece como ELENA SALAZAR CASTILLO en todos los registros asociados.Sistema Relacionado:Sistema de Ventas y OnfidoFlujo relacionado:Cambio de Nombre en el Sistema SOC.Causa:Solicitud del cliente para la actualización de nombre, respaldada con documentos válidos en Onfido.Solución:Validación de identidad mediante Onfido y actualización de nombre en SOC y otros módulos asociados.25SELECT *26FROM F2P_BURO_INTERNO_CR..BUR_TRA_PERSONA_BASE27WHERE INT_ID = @INT_ID_PERSONA_BASE;2829UPDATE F2P_BURO_INTERNO_CR..BUR_TRA_PERSONA_BASE30SET STR_NOMBRE_1 = @PRIMER_NOMBRE, STR_GENERO = @GENERO31WHERE INT_ID = @INT_ID_PERSONA_BASE;3233-- cliente_dir234SELECT *35FROM F2P_VENTAS_CR..cliente_dir236WHERE STR_IDENTIFICACION1 = @STR_IDENTIFICACION1;3738UPDATE F2P_VENTAS_CR..cliente_dir239SET Nombre = @NOMBRE_COMPLETO, PrimerNombre = @PRIMER_NOMBRE40WHERE STR_IDENTIFICACION1 = @STR_IDENTIFICACION1;4142-- kyc43SELECT *44FROM F2P_VENTAS_CR..kyc45WHERE id_kyc = @ID_KYC;4647UPDATE F2P_VENTAS_CR..kyc48SET primer_nombre = @PRIMER_NOMBRE, segundo_nombre = @SEGUNDO_NOMBRE49WHERE id_kyc = @ID_KYC;5051-- mensajeria52SELECT *53FROM F2P_VENTAS_CR..mensajeria54WHERE id_mensajeria = @ID_MENSAJERIA;5556UPDATE F2P_VENTAS_CR..mensajeria57SET nombre_cliente = @NOMBRE_COMPLETO58WHERE id_mensajeria = @ID_MENSAJERIA;5960-- pagare61SELECT *62FROM F2P_VENTAS_CR..pagare63WHERE id_pagare = @ID_PAGARE;6465UPDATE F2P_VENTAS_CR..pagare66SET nombre = @NOMBRE_COMPLETO67WHERE id_pagare = @ID_PAGARE;68205

Causa raíz relacionada:No aplica en este caso.Tipo solución:Workaround (actualización solicitada por el cliente)206

Mes Noviembre (SOLIC.) 207

INC-4232-Trazabilidad electrónica de usuarios en App Multimoney1. ObjetivoLa intención es obtener un conjunto de datos que nos proporcione una "fotografía" completa del estado de ciertos usuarios antes de que fueran bloqueados en la aplicación multimoney. La información solicitada incluye desde detalles básicos de acceso hasta transacciones específicas del usuario.2. Consulta en la Base de Datos Principal (RG_SUCURSAL_VIRTUAL)Para obtener la información del usuario, se utiliza un query SQL dividido en varias secciones, cada una enfocada en extraer distintos tipos de datos:1. Información General del Usuario:Query 1: Busca información básica del usuario, como:Correo electrónico (CORREO_ELECTRONICO), identificación (IDENTIFICACION), nombre (NOMBRE).Fechas importantes, como:Fecha de creación del usuario.Fecha de primer acceso y última modificación de contraseña.Información adicional como:Si el usuario tiene o no productos Smart.Validación de identidad (ONFIDO_RESPUESTA) y otros registros relacionados con Onfido.Utiliza la base RG_SUCURSAL_VIRTUAL y combina tablas como SUV_MTR_USUARIO, t_pormCustomer, y SUV_LOG_REGISTRO_CHECK.2. Información de Sesiones del Usuario:Query 2: Obtiene los detalles sobre las sesiones y el dispositivo utilizado:Email, PK_USER, dirección IP (IP_ADDRESS), nombre del dispositivo (device_name) y marca (Brand).Extrae información de las tablas SUV_TRA_AUDIT_LOG y SUV_TRA_USER_SESSION_DEVICE para obtener un registro detallado del acceso.3. Transacciones Cripto:Query 3: Busca las transacciones de criptomonedas asociadas al usuario:Incluye información como tipo de transacción, monto, y detalles adicionales.Se utiliza la base F2P_NEO_BANCO y se combinan las tablas t_pormCustomer y BAN_TRA_TRANSACCION_CRIPTO_MONEDA.4. Transacciones Bancarias:Query 4: Extrae información sobre las transacciones bancarias del usuario:Correo electrónico, Key, fecha de creación, origen y destino de fondos, entre otros datos importantes.Se realiza a partir de la base F2P_NEO_BANCO y las tablas t_pormCustomer y t_pormtCoreBankTransactionQueue.3. Búsqueda en Data Warehouse (DWH)Si los datos solicitados no se encuentran en la base principal, se procede a buscar en el Data Warehouse (DWH).Para esto, se utiliza la base de datos STAGE_SUCURSAL, específicamente en la tabla stg.suv_mtr_usuario_scd, buscando por correo electrónico del usuario.1USE STAGE_SUCURSAL2SELECT * FROM stg.suv_mtr_usuario_scd WHERE correo_electronico='vaquevaque2321@gmail.com'3208

Esta búsqueda permite obtener información que podría haberse registrado en una versión histórica o consolidada de la base de datos, ofreciendo una perspectiva más amplia del usuario.4. Consulta de Logs en seq (Sistema de Logs)Si aún faltan detalles específicos, se procede a buscar en el sistema de logs denominado seq.Este sistema contiene todos los registros de actividad de la aplicación durante los últimos tres días. Es especialmente útil para:Identificar eventos específicos relacionados con el comportamiento del usuario.Buscar accesos o errores ocurridos durante ese periodo.El acceso al sistema de logs se realiza mediante el siguiente enlace: http://prd.akros.tech/logs/#/login.En este sistema, se pueden filtrar eventos por identificadores de usuario, correos electrónicos, IP u otros parámetros para obtener los detalles requeridos.Resumen General del Proceso de Obtención de Datos1. Consulta Inicial: Se busca primero en las bases de datos de la aplicación (RG_SUCURSAL_VIRTUAL) utilizando queries que exploran información personal, accesos, sesiones y transacciones.2. Data Warehouse (DWH): Si falta alguna información, se busca en la base STAGE_SUCURSAL para localizar versiones históricas del usuario.3. Sistema de Logs (seq): Si la búsqueda aún no es satisfactoria, se accede al sistema de logs para obtener registros de actividades durante los últimos tres días.Este enfoque escalonado asegura que se utilicen todas las fuentes de datos disponibles para obtener la información más precisa y completa posible sobre cada usuario.Próximos PasosSi necesitas automatizar este proceso para realizar consultas en secuencia automáticamente, podría elaborar un script que ejecute cada búsqueda de manera escalonada, asegurándose de pasar a la siguiente fuente si no se encuentran datos en la anterior.También podríamos desarrollar reportes para presentar la "fotografía" de cada usuario de manera resumida.Sistema RelacionadoAPPCausa-raíz:INC-284: Causa raíz no APLICA (7108754)ABIERTO209

INC-4276 cuenta R-208191, devolución de saldo a favorINC-4276Propietario: José ValverdeFecha: 01-11-2024Sistema Relacionado: Core BancarioINC-4276: Revision de cuenta R-208191, devolucion de saldo a favorCERRADO Causa:El problema se originó debido a un error en la gestión de pagos y devoluciones en la cuenta R-208191. Se ingresó un pago que dejó saldo negativo (saldo a favor) en la cuenta del cliente. Luego, al realizar una devolución de saldo, se ingresó por un monto incorrecto, y al intentar corregirlo mediante una reversión, el saldo final quedó en 82,080 CRC, dejando la cuenta en estado de "cancelada". Adicionalmente, existía un saldo incorrecto de 1,955 CRC como saldo a favor en el sistema core, el cual no correspondía al cliente.Descripción del Problema:Se solicitó validar que el cliente tuviera un saldo a favor y gestionar la devolución de este. Sin embargo, se detectó que el saldo a favor de 1,955 CRC era un error histórico en el core y no representaba fondos reales para el cliente.Análisis:1. Se revisaron los registros de pagos y devoluciones en la cuenta del cliente.2. Se identificó que el saldo negativo inicial surgió por un pago en exceso.3. La devolución del saldo se ingresó por un monto incorrecto, generando un saldo mayor al real.4. La reversión de esta devolución dejó el saldo en 82,080 CRC y la cuenta como "cancelada".5. Se identificó un saldo a favor ficticio de 1,955 CRC en el sistema core, producto de un error previo.Código Usado:Validación y Cierre:1. Validar el saldo final en el sistema core para confirmar que se refleje el saldo real del cliente sin saldo a favor ficticio.2. Confirmar que la cuenta permanezca en estado "cancelada" con el saldo corregido.Recomendaciones y Próximos Pasos:Corregir el saldo en el core para eliminar el saldo ficticio de 1,955 CRC.Realizar una auditoría de los procesos de devolución y reversión para evitar errores similares en futuras operaciones.Actualizar el estado de la cuenta para reflejar la situación real del cliente y evitar confusiones por saldos incorrectos.Tipo de Solución: Workaround 1use cr_CORE;2select b.fk_stc_par_status,b.FK_STC_PAR_MONEDA,b.pagare,b.pk_stc_blp_tradicional_cliente_detalle,b.saldo_actual,b.fk_stc_blp_tradicional_cliente,b.FK_STC_PAR_MONEDA,b3from dbo.stc_blp_tradicional_cliente a with (nolock)4inner join dbo.stc_blp_tradicional_cliente_detalle b with (nolock) on b.fk_stc_blp_tradicional_cliente = a.id5where  a.NUMERO_CUENTA like'R-201029%'1select saldo_actual,Saldo_Al_Pago,Saldo_Al_Pago_Especial,* from stc_blp_tradicional_pago 2where id_tradicional=361967 order by ID desc34begin tran5update stc_blp_tradicional_pago set Saldo_Al_Pago = 0 where id_tradicional=361967 and id = 1472315167commit210

INC-4206 - Costa Rica Aplicación de pagos para cuentas canceladas separadas al 31oct24Descripción del ProblemaSe solicitó apoyo para la aplicación de pagos en cuentas canceladas dentro de una cartera separada en Costa Rica, con fecha de corte al 31 de octubre de 2024. La solicitud busca asegurar la actualización de estas cuentas en los registros financieros de cierre.Análisis y Acciones Tomadas1. Revisión de cuentas: Se revisaron las cuentas canceladas dentro de la cartera separada para verificar su inclusión y determinar los pagos requeridos.2. Aplicación de pagos: Los pagos fueron aplicados en las cuentas canceladas conforme a los protocolos establecidos.Validación y CierreValidación: La aplicación de pagos fue completada y verificada, garantizando que las cuentas canceladas se mantuvieran actualizadas y alineadas con los registros de cierre del 31 de octubre.Cierre del caso: La operación fue exitosa y no se encontraron problemas adicionales.Solución AplicadaSe realizó la aplicación de pagos en las cuentas canceladas, cumpliendo con la fecha de corte establecida.Código ProporcionadoNo aplica para este caso.ResultadoEstado: Pagos aplicados exitosamente en las cuentas canceladas.Notas adicionales: El proceso fue revisado y validado sin incidencias.Información AdicionalSistema Relacionado: Core.Flujo Relacionado: Proceso de cancelación y aplicación de pagos en cuentas canceladas de cartera separada.CausaLa solicitud surgió de la necesidad de asegurar el cierre adecuado de cuentas canceladas mediante la aplicación de pagos. Este proceso ayuda a evitar acumulaciones indebidas en los registros de cuentas canceladas.211

SoluciónAplicación de pagos realizada en cumplimiento con los lineamientos de cierre financiero para la fecha solicitada (31 de octubre de 2024).Tipo de SoluciónWorkaroundCausa Raíz RelacionadaINC-284: Causa raíz no APLICA (7108754)ABIERTO Caso RelacionadoINC-4206: Costa Rica Aplicación de pagos para cuentas canceladas separadas al 31oct24RESUELTO 212

INC-4215 Actualizacion de comprobante de domicilioDescripción del Problema:El cliente con ID 51204 solicitó la actualización de su comprobante de domicilio debido a que el documento actualmente cargado en el sistema no era vigente (emitido en febrero de 2024). Sin embargo, al intentar reemplazar el documento, el equipo de Originación se encontró con que el sistema no les permitía realizar la sustitución debido al estado avanzado de la solicitud (estado 35 en "core"), el cual bloquea cualquier modificación de documentos. Esto generó una barrera operativa, ya que no contaban con permisos para actualizar el archivo directamente en dicho estado, dificultando así el cumplimiento con los requisitos de actualización de documentos vigentes.Análisis y Acciones Tomadas:Ante esta situación, se realizó una consulta con el equipo técnico y se determinó que el subestado de la solicitud era el principal bloqueo, ya que el sistema establece restricciones en el estado 35 (etapa avanzada en el flujo de aprobación en "core") que impiden la modificación de documentos. Para superar esta limitación, se identificó como alternativa cambiar temporalmente el subestado de la solicitud a "contrato firmado" (subestado 34), lo que permitiría a Originación acceder a la bandeja de activación y realizar la sustitución del documento. Esta bandeja está diseñada para validar la información antes de que la solicitud pase a estados de aprobación avanzada, lo que en este caso permitiría el reemplazo del comprobante de domicilio.Para implementar esta solución, se realizaron las siguientes acciones:1. Cambio Temporal de Estado: Se utilizó una consulta SQL para ajustar el subestado de la solicitud, cambiándolo de 35 a 34, habilitando así la opción de modificar documentos en la bandeja de activación.2. Carga del Nuevo Documento: Con el subestado ajustado, el equipo de Originación pudo cargar el nuevo comprobante de domicilio proporcionado por el cliente en el sistema. Este documento, ahora vigente, reemplaza el anterior y cumple con los requisitos de actualización y validación de información.3. Reversión del Estado Original: Una vez cargado el nuevo documento, se volvió a cambiar el subestado de la solicitud a 35 para mantener la integridad del flujo operativo y evitar posibles conflictos o duplicidades en el proceso de pago.Validación y Cierre:El equipo técnico validó que el cambio de estado temporal permitió el acceso a la bandeja de activación para realizar la sustitución del documento. Después de que Originación confirmó la carga del comprobante, el subestado de la solicitud fue revertido a 35, asegurando la continuidad del flujo sin interferencias en los sistemas de pago. La implementación de este workaround resultó exitosa, y el documento fue cargado adecuadamente en el sistema, cumpliendo con la normativa de mantener información actualizada y vigente en los registros del cliente.Solución Aplicada:Para solucionar el problema de actualización del comprobante de domicilio sin afectar el flujo de pagos y otros procesos dependientes, se aplicó el siguiente flujo:1. Cambio de Subestado: Se cambió temporalmente el subestado de la solicitud de 35 a 34, habilitando la opción de modificación de documentos en la bandeja de activación.2. Carga del Documento Actualizado: Se sustituyó el comprobante de domicilio en el sistema, asegurando que el documento cargado sea el más reciente y cumpla con los requisitos de vigencia.3. Reversión del Estado: Una vez completada la carga, se retornó el subestado de la solicitud a 35 para garantizar que el proceso de pago y las aprobaciones avanzadas se mantuvieran sin interferencias.Código Proporcionado:1USE F2P_GLOBAL;2-- Consulta de solicitudes y estados relacionados3SELECT TOP 100 A.FK_SUBESTADO_SOLICITUD, * 4FROM Originacion.MTR_SOLICITUD A WITH (NOLOCK) 5LEFT JOIN Originacion.MTR_SOLICITUD_DOCUMENTO B WITH (NOLOCK) 6ON B.FK_MTR_SOLICITUD = A.PK_MTR_SOLICITUD WHERE A.CORREO = 'JAVIER_SS10@HOTMAIL.COM' 213

 Resultado:El cambio de subestado permitió que el equipo de Originación accediera a las herramientas necesarias para sustituir el comprobante de domicilio por el nuevo documento enviado por el cliente. El comprobante actualizado fue cargado exitosamente en el sistema, y se procedió a restablecer el subestado original de la solicitud, evitando duplicidades en el proceso de pago. Esto garantizó que el perfil del cliente estuviera actualizado y en cumplimiento con los estándares de documentación.Notas Adicionales:Este caso expone la importancia de validar la vigencia de los documentos en las primeras etapas del flujo de Originación. Se recomienda una revisión de los procesos y permisos en la bandeja de activación para permitir modificaciones necesarias antes de pasar a estados avanzados en el sistema. Este tipo de cambios en el subestado debería ser considerado solo en situaciones excepcionales para evitar riesgos de inconsistencias en el sistema.Sistema Relacionado:Sistema de OriginaciónFlujo Relacionado:Actualización de documentos en solicitudes de OriginaciónCausa:La causa del problema radica en que el comprobante de domicilio cargado originalmente no estaba vigente, lo cual pasó inadvertido durante las primeras etapas de revisión en el flujo de Originación. Al avanzar la solicitud a un estado avanzado en "core" (subestado 35), se bloquearon las opciones de modificación de documentos, lo que impidió al equipo de Originación actualizar el documento directamente.Solución:Para resolver el problema, se implementó un ajuste temporal en el subestado de la solicitud, cambiándolo de 35 a 34 para permitir al equipo de Originación acceder a la bandeja de activación y realizar la actualización del comprobante de domicilio. Tras completar la carga del documento, se restableció el subestado a 35, manteniendo así la integridad del flujo de aprobación y previniendo conflictos en el proceso de pago. Esta solución proveyó un método controlado para actualizar la información del cliente sin interrumpir los procesos automáticos.Causa Raíz Relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo de Solución: Solución temporal (workaround) 7ORDER BY A.PK_MTR_SOLICITUD DESC; -- Consulta de subestados de solicitud 89SELECT TOP 100 * FROM Originacion.CAT_SUB_ESTADO_SOLICITUD WITH(NOLOCK); 1011-- Inicio de transacción para cambios de subestado 12BEGIN TRAN 13UPDATE Originacion.MTR_SOLICITUD SET FK_SUBESTADO_SOLICITUD = 34 14WHERE PK_MTR_SOLICITUD = 51204;1516-- Revertir al estado original tras la carga del documento 17UPDATE Originacion.MTR_SOLICITUD SET FK_SUBESTADO_SOLICITUD = 35 18WHERE PK_MTR_SOLICITUD = 51204; -- Finalizar transacción 1920ROLLBACK 21COMMIT TRAN;214

INC-4250 - Cambio RFC Folio 51280 R-02800Propietario: José ValverdeFecha: [Fecha de ejecución del cambio]Sistema Relacionado: MX_CORECausa:El RFC registrado en el sistema para el cliente en el folio 51280 está incorrecto. Se requiere modificarlo para reflejar el RFC correcto.Descripción del Problema:El cliente notificó que el RFC asociado a su cuenta (Número de Cuenta: R-02800) es incorrecto. El valor actual, BOHJ670127NR1, debe ser actualizado a BOHJ670127FW4.Análisis y Acciones Tomadas:1. Verificación de Información Actual: Se realizaron consultas en la base de datos para confirmar el estado actual del registro y validar la necesidad de la actualización.Consultas Realizadas: 2. Ejecutando la Actualización: Para realizar el cambio, se ejecutó un bloque de transacciones que permite revertir la modificación en caso de error antes de confirmar el cambio.Script de Actualización: Validación y Cierre:Se notificó al cliente para validar los cambios realizados y se solicitó confirmación de la corrección del RFC en el sistema. La incidencia se considera resuelta una vez que el cliente confirma la actualización.Recomendaciones y Próximos Pasos:1. Implementar una validación automática para evitar registros incorrectos en el RFC al momento de la captura inicial.2. Revisar los registros históricos en el sistema para identificar y corregir posibles inconsistencias similares en otros casos.1USE MX_CORE2SELECT * FROM dbo.stc_blp_cliente WITH(NOLOCK) WHERE numero_identificacion = 'BOHJ670127MPLNRN01'3SELECT * FROM dbo.stc_blp_tradicional_cliente WITH(NOLOCK) WHERE NUMERO_CUENTA = 'R-02800'4SELECT TOP 100 * FROM dbo.stc_blp_cliente_identificacion WITH(NOLOCK) WHERE numero_identificacion = 'BOHJ6701251BEGIN TRAN2UPDATE dbo.stc_blp_cliente_identificacion SET identificacion = 'BOHJ670127FW4' WHERE id = 80513ROLLBACK4COMMIT215

216

INC-4122 CR. Digital. Cancelación de Tarjetas visa junio-octubre 2024Descripción del ProblemaSe solicita la cancelación de un total de 594 tarjetas Visa asociadas a los pagarés que se encuentran en la lista adjunta. La cancelación se debe realizar de manera eficiente y minimizando el trabajo manual, lo cual requiere confirmar con la persona responsable si la lista proporcionada debe ser cancelada completamente.Análisis y Acciones TomadasPara llevar a cabo la cancelación masiva de las tarjetas, se decidió crear un script SQL que permitiera automatizar el proceso. Primero, se validó la lista de tarjetas y se utilizó Excel para generar el formato adecuado, concatenando los números de tarjeta para facilitar su uso en el script. Luego, se desarrolló un script SQL que recorre cada tarjeta, realiza la cancelación y actualiza el estado correspondiente en la base de datos.Solución del CierreSe creó un script SQL que cancela las tarjetas de forma masiva. El script recorre una lista de tarjetas almacenadas en una tabla temporal y realiza la inserción de los movimientos de cancelación, además de actualizar el estado de cada tarjeta. De esta manera, se cumplió con el objetivo de cancelar eficientemente todas las tarjetas en la lista proporcionada.Sistema RelacionadoSistema de Tarjetas Virtuales - CR_CORECausaSe requiere cancelar las tarjetas asociadas a los pagarés que se encuentran en la lista adjunta.SoluciónSe creó un script SQL automatizado para realizar la cancelación masiva de las tarjetas Visa asociadas a los pagarés, utilizando un cursor para recorrer cada tarjeta, registrar el movimiento de cancelación y actualizar el estado de cada tarjeta en la base de datos.Descripción del ProcesoSe solicita la cancelación de un total de 594 tarjetas Visa asociadas a los pagarés que se encuentran en la lista adjunta. Para realizar este proceso de manera eficiente y minimizar el trabajo manual, se confirma con la persona responsable si la lista pasada debe ser cancelada completamente. Posteriormente, se crea un script SQL para realizar la cancelación masiva, utilizando un formato específico para las tarjetas que se concatenará en Excel para facilitar el procesamiento.Concatenación de Tarjetas en ExcelSe recomienda utilizar Excel para facilitar la creación del script que maneje las 594 tarjetas. En la hoja de Excel se pueden colocar los números de tarjeta en una columna y concatenar utilizando una fórmula que genere una lista de valores separados por comas, que luego serán utilizados en el script SQL para hacer la cancelación de manera más fácil. Un ejemplo de fórmula de concatenación podría ser:Esta fórmula genera una lista de valores que podrán ser usados directamente en el script SQL. Sistema asociado: Tarjetas virtualesServicio asociado: SACCausa - raíz: INC-284 Causa raíz no APLICA (7108754) Select para sacar las Tarjetas1=CONCATENATE("(", TEXTJOIN(",", TRUE, A2:A595), ")")1--SELECT PARA SACAR LAS TARJETAS2SELECT PK_STC_TRA_TARJETA_VIRTUAL,3est.DESCRIPCION,4vir.FK_UTL_CAT_ESTADO,5       a.NUMERO_CUENTA,6       det.fk_stc_par_status,217

7   status,8       *9FROM dbo.STC_TRA_TARJETA_VIRTUAL vir WITH (NOLOCK)10    INNER JOIN dbo.stc_blp_tradicional_cliente_detalle det WITH (NOLOCK)11        ON det.pk_stc_blp_tradicional_cliente_detalle = vir.FK_STC_BLP_TRADICIONAL_CLIENTE_DETALLE12    INNER JOIN dbo.stc_blp_tradicional_cliente a WITH (NOLOCK)13        ON det.fk_stc_blp_tradicional_cliente = a.id14INNER JOIN dbo.stc_par_status sta WITH(NOLOCK) ON15det.fk_stc_par_status=sta.idstc_par_status16INNER JOIN dbo.UTL_CAT_ESTADO est WITH(NOLOCK) ON17est.PK_UTL_CAT_ESTADO = vir.FK_UTL_CAT_ESTADO18WHERE vir.FK_UTL_CAT_ESTADO = 40 AND 19a.NUMERO_CUENTA IN ( '90192', '90192', '91044', '91596', '92264', '94909', '95060', '96788', '96964', '97331',20                           '97359', '98305', '99063', '100499', '100984', '101864', '102701', '102961', '103050'21                           '103605', '104233', '104392', '106047', '106084', '106372', '106453', '106579', '107322                           '107819', '108243', '108361', '108939', '109030', '109521', '110029', '110065', '110223                           '110221', '110321', '111125', '111717', '112661', '113180', '123649', '123858', '123924                           '124947', '125163', '125528', '126466', '126557', '126726', '126815', '127024', '127325                           '127788', '128284', '128465', '128553', '128597', '128880', '129488', '129936', '130126                           '130312', '130596', '131017', '132034', '132078', '132223', '132232', '132921', '133027                           '133194', '133566', '133808', '134005', '134226', '134643', '134848', '135418', '135728                           '135799', '136720', '136885', '137174', '137886', '138228', '138455', '139004', '139129                           '139544', '140034', '140528', '140573', '151631', '151657', '151779', '152052', '152030                           '152233', '152307', '152320', '163844', '163969', '174932', '175363', '175780', '176231                           '176595', '176866', '176934', '176983', '177254', '177382', '177422', '177629', '177932                           '178030', '198480', '198502', '198675', '198809', '199055', '209849', '220338', '220633                           '220897', '220921', '220937', '221171', '221190', '221364', '221570', '221590', '221734                           '222127', '222326', '222387', '222472', '222948', '223034', '223503', '224030', '224035                           '224687', '224738', '224900', '225078', '225093', '225161', '245491', '245536', '245736                           '265966', '266167', '347054', '347084', '347244', '347253', '357743', '378407', '378437                           '378570', '378907', '379026', '379489', '379521', '379965', '380713', '380848', '380938                           '381018', '391518', '391702', '391752', '391948', '402179', '412478', '412615', '413139                           '413237', '413559', '413622', '413639', '413675', '413710', '413806', '414117', '414440                           '414604', '414727', '414859', '414897', '415140', '415409', '415417', '415757', '415941                           '416296', '416505', '426975', 'R-01538', 'R-03756', 'R-05157', 'R-100565', 'R-109534'42                           'R-109796', 'R-11047', 'R-112185', 'R-113043', 'R-113169', 'R-114648', 'R-116370',43                           'R-117778', 'R-118291', 'R-118442', 'R-119890', 'R-122538', 'R-122809', 'R-123702',44                           'R-124277', 'R-125904', 'R-126311', 'R-126393', 'R-126454', 'R-127121', 'R-128286',45                           'R-129214', 'R-130366', 'R-131495', 'R-132004', 'R-132005', 'R-132125', 'R-132294',46                           'R-132347', 'R-134745', 'R-135290', 'R-137252', 'R-137433', 'R-137960', 'R-137960',47                           'R-138686', 'R-142160', 'R-142268', 'R-143662', 'R-143700', 'R-143738', 'R-144478',48                           'R-145308', 'R-145775', 'R-146416', 'R-146502', 'R-146697', 'R-149321', 'R-149608',49                           'R-150213', 'R-150975', 'R-151749', 'R-151864', 'R-152810', 'R-153187', 'R-153444',50                           'R-154057', 'R-154580', 'R-154824', 'R-155163', 'R-155197', 'R-155480', 'R-156587',51                           'R-156926', 'R-158453', 'R-159419', 'R-159582', 'R-16007', 'R-161018', 'R-161042',52                           'R-161304', 'R-161612', 'R-161857', 'R-161878', 'R-161919', 'R-162819', 'R-162835',53                           'R-163411', 'R-163795', 'R-164362', 'R-164695', 'R-165176', 'R-165177', 'R-165223',54                           'R-165616', 'R-165690', 'R-165887', 'R-166298', 'R-166628', 'R-166666', 'R-166945',55                           'R-166977', 'R-167046', 'R-167261', 'R-167351', 'R-167551', 'R-167624', 'R-168566',56                           'R-168695', 'R-168835', 'R-169105', 'R-169181', 'R-169436', 'R-169603', 'R-169682',57                           'R-170625', 'R-170678', 'R-171126', 'R-171145', 'R-171164', 'R-171229', 'R-171272',58                           'R-171277', 'R-171340', 'R-171363', 'R-171623', 'R-171952', 'R-172441', 'R-173064',59                           'R-173227', 'R-173259', 'R-173383', 'R-173430', 'R-174166', 'R-174772', 'R-174798',60                           'R-175134', 'R-175270', 'R-175459', 'R-175631', 'R-175727', 'R-175735', 'R-175914',61                           'R-175949', 'R-175968', 'R-176124', 'R-176147', 'R-176262', 'R-176370', 'R-176398',62                           'R-176531', 'R-176689', 'R-176721', 'R-176826', 'R-176940', 'R-176946', 'R-176965',63                           'R-177095', 'R-177158', 'R-177167', 'R-177217', 'R-177359', 'R-177387', 'R-177508',64                           'R-177509', 'R-177559', 'R-177603', 'R-177630', 'R-177839', 'R-177859', 'R-178090',218

Script SQL para la Cancelación Masiva de TarjetasA continuación, se presenta el script SQL ajustado que se puede utilizar para procesar las tarjetas Visa mencionadas. Se incluye la funcionalidad para recorrer cada tarjeta y realizar la cancelación correspondiente, teniendo en cuenta las relaciones necesarias en las tablas involucradas.--SCRIPT POR CHAT PARA HACER EL PROCESO.65                           'R-178138', 'R-178199', 'R-178203', 'R-178212', 'R-178216', 'R-178457', 'R-178682',66                           'R-178693', 'R-178800', 'R-178898', 'R-178917', 'R-179028', 'R-179148', 'R-179237',67                           'R-179324', 'R-179344', 'R-179437', 'R-179451', 'R-179473', 'R-179475', 'R-179493',68                           'R-179495', 'R-179675', 'R-179691', 'R-179735', 'R-179777', 'R-179789', 'R-179811',69                           'R-179821', 'R-179842', 'R-179850', 'R-179905', 'R-179935', 'R-179953', 'R-179970',70                           'R-179970', 'R-179983', 'R-180004', 'R-180040', 'R-180122', 'R-180214', 'R-180220',71                           'R-180238', 'R-180243', 'R-180308', 'R-180330', 'R-180360', 'R-180361', 'R-180362',72                           'R-180363', 'R-180378', 'R-180385', 'R-180442', 'R-180469', 'R-180530', 'R-180567',73                           'R-180597', 'R-180656', 'R-180667', 'R-180672', 'R-180687', 'R-180705', 'R-180808',74                           'R-180839', 'R-180840', 'R-180841', 'R-180842', 'R-180872', 'R-180916', 'R-180929',75                           'R-180947', 'R-180957', 'R-180976', 'R-181004', 'R-181005', 'R-181088', 'R-181092',76                           'R-181103', 'R-181104', 'R-181107', 'R-181109', 'R-181126', 'R-181134', 'R-181154',77                           'R-181171', 'R-181185', 'R-181190', 'R-181216', 'R-181225', 'R-181236', 'R-181268',78                           'R-181269', 'R-181283', 'R-181317', 'R-181321', 'R-181336', 'R-181375', 'R-181377',79                           'R-181433', 'R-181437', 'R-181442', 'R-181489', 'R-181515', 'R-181537', 'R-181539',80                           'R-181617', 'R-181635', 'R-181641', 'R-181648', 'R-181690', 'R-181703', 'R-181735',81                           'R-181736', 'R-181756', 'R-181804', 'R-181812', 'R-181826', 'R-181858', 'R-181866',82                           'R-181901', 'R-181913', 'R-181932', 'R-181954', 'R-181955', 'R-182072', 'R-182126',83                           'R-182131', 'R-182156', 'R-182161', 'R-182209', 'R-182209', 'R-182210', 'R-182213',84                           'R-182228', 'R-182255', 'R-182293', 'R-182294', 'R-182316', 'R-182395', 'R-182396',85                           'R-182405', 'R-182408', 'R-182413', 'R-182415', 'R-182441', 'R-182448', 'R-182482',86                           'R-182518', 'R-182540', 'R-182551', 'R-182612', 'R-182616', 'R-182632', 'R-182649',87                           'R-18265', 'R-182720', 'R-182751', 'R-182770', 'R-182772', 'R-182811', 'R-182849',88                           'R-182933', 'R-182964', 'R-183027', 'R-183100', 'R-183144', 'R-183161', 'R-183162',89                           'R-183170', 'R-183186', 'R-183211', 'R-183215', 'R-183257', 'R-183274', 'R-183305',90                           'R-183306', 'R-183369', 'R-183406', 'R-183455', 'R-183493', 'R-183518', 'R-183611',91                           'R-183625', 'R-183645', 'R-183673', 'R-183718', 'R-183767', 'R-183808', 'R-183846',92                           'R-183915', 'R-183944', 'R-183982', 'R-183989', 'R-183994', 'R-184053', 'R-184276',93                           'R-184426', 'R-23833', 'R-26540', 'R-27771', 'R-30564', 'R-36931', 'R-42797', 'R-506494                           'R-52219', 'R-53917', 'R-54972', 'R-57396', 'R-59363', 'R-62091', 'R-63238', 'R-6425195                           'R-66555', 'R-71051', 'R-72637', 'R-73919', 'R-73979', 'R-76525', 'R-78254', 'R-7940496                           'R-80597', 'R-85829', 'R-86298', 'R-87255', 'R-87591', 'R-87774', 'R-87821'97                         );1    BEGIN tran2DECLARE @FK_STC_BLP_CLIENTE INT,3        @FK_STC_BLP_TRADICIONAL_CLIENTE INT,4        @FK_STC_TRA_TARJETA_VIRTUAL VARCHAR(50);56-- Tabla temporal para almacenar los valores7DECLARE @Tarjetas TABLE (TarjetaVirtual VARCHAR(50));89-- Insertar los valores en la tabla temporal10INSERT INTO @Tarjetas (TarjetaVirtual)11VALUES (5060012312), (5060024024), (5060012339), (5060012200), (5060012125),12                                     (5060025195), (5060012347), (5060012265), (5060012303), (5060011862),13                                     (5060012124), (5060023752), (5060012199), (5060012197), (5060011961),14                                     (5060027538), (5060012203), (5060011876), (5060012042), (5060011865),15                                     (5060018543), (5060011909), (5060012169), (5060011899), (5060011891),16                                     (5060012393), (5060012033), (5060012345), (5060012348), (5060011874),219

17                                     (5060011868), (5060012170), (5060012252), (5060028630), (5060011956),18                                     (5060012254), (5060016631), (5060012049), (5060017077), (5060012372),19                                     (5060012398), (5060012168), (5060028352), (5060012319), (5060011877),20                                     (5060012246), (5060011946), (5060012089), (5060012066), (5060012264),21                                     (5060022763), (5060012121), (5060011859), (5060012318), (5060019499),22                                     (5060011888), (5060011860), (5060012238), (5060012404), (5060012099),23                                     (5060012416), (5060020270), (5060027665), (5060012006), (5060012304),24                                     (5060012260), (5060011922), (5060021388), (5060012218), (5060011895),25                                     (5060021641), (5060012163), (5060022277), (5060012262), (5060012141),26                                     (5060012150), (5060011829), (5060012406), (5060012417), (5060011893),27                                     (5060027432), (5060011971), (5060027321), (5060011977), (5060019233),28                                     (5060012016), (5060012180), (5060012412), (5060012363), (5060012240),29                                     (5060012299), (5060012310), (5060011976), (5060011965), (5060012115),30                                     (5060011993), (5060011852), (5060012117), (5060012235), (5060012342),31                                     (5060012165), (5060011937), (5060012395), (5060012302), (5060025232),32                                     (5060011832), (5060011828), (5060012174), (5060011963), (5060011943),33                                     (5060012152), (5060012031), (5060019295), (5060012023), (5060012290),34                                     (5060012005), (5060012287), (5060016616), (5060012211), (5060011867),35                                     (5060016890), (5060011883), (5060016625), (5060011966), (5060012401),36                                     (5060011873), (5060012362), (5060017117), (5060012275), (5060012380),37                                     (5060012167), (5060016564), (5060016451), (5060012131), (5060011964),38                                     (5060012077), (5060012213), (5060012274), (5060012373), (5060012008),39                                     (5060012052), (5060012188), (5060011955), (5060012379), (5060016996),40                                     (5060012391), (5060012048), (5060012209), (5060012025), (5060012068),41                                     (5060012047), (5060011995), (5060012415), (5060011924), (5060012338),42                                     (5060012064), (5060012234), (5060012105), (5060012284), (5060012332),43                                     (5060012221), (5060016743), (5060012272), (5060012210), (5060011968),44                                     (5060012204), (5060027609), (5060011880), (5060012037), (5060028094),45                                     (5060012385), (5060012198), (5060011890), (5060012333), (5060012261),46                                     (5060011900), (5060012088), (5060011851), (5060011894), (5060012194),47                                     (5060012352), (5060012102), (5060012079), (5060011911), (5060012110),48                                     (5060011919), (5060012146), (5060011872), (5060011954), (5060012143),49                                     (5060012060), (5060012056), (5060012189), (5060011902), (5060012388),50                                     (5060012040), (5060025291), (5060012001), (5060011830), (5060011908),51                                     (5060012007), (5060011998), (5060011951), (5060011916), (5060011915),52                                     (5060011845), (5060012091), (5060012184), (5060012111), (5060012314),53                                     (5060011980), (5060012300), (5060011904), (5060011846), (5060011903),54                                     (5060012413), (5060012084), (5060012171), (5060012365), (5060012349),55                                     (5060012021), (5060012139), (5060027629), (5060012179), (5060012153),56                                     (5060012090), (5060012355), (5060012291), (5060012157), (5060012331),57                                     (5060012137), (5060012136), (5060012230), (5060012324), (5060012013),58                                     (5060011173), (5060012002), (5060012151), (5060011991), (5060012397),59                                     (5060012239), (5060012043), (5060012280), (5060012158), (5060012187),60                                     (5060012384), (5060012080), (5060012328), (5060012092), (5060011944),61                                     (5060012271), (5060011855), (5060011884), (5060012292), (5060012327),62                                     (5060012206), (5060012190), (5060011843), (5060011906), (5060011920),63                                     (5060027918), (5060012148), (5060012096), (5060011898), (5060011842),64                                     (5060012181), (5060012288), (5060012093), (5060011892), (5060012237),65                                     (5060012104), (5060012350), (5060012228), (5060012018), (5060012402),66                                     (5060011836), (5060012316), (5060011910), (5060012216), (5060011979),67                                     (5060012010), (5060012063), (5060011994), (5060012371), (5060011973),68                                     (5060012054), (5060012196), (5060011869), (5060012050), (5060012055),69                                     (5060011854), (5060024209), (5060023726), (5060024726), (5060012231),70                                     (5060010931), (5060011834), (5060011960), (5060028585), (5060012185),71                                     (5060012081), (5060012354), (5060012067), (5060012232), (5060027363),72                                     (5060012017), (5060012112), (5060011841), (5060027329), (5060012122),73                                     (5060012405), (5060012000), (5060012222), (5060012106), (5060012403),74                                     (5060012392), (5060012114), (5060012366), (5060017429), (5060012075),220

75                                     (5060011987), (5060012344), (5060011969), (5060012359), (5060027611),76                                     (5060011992), (5060012335), (5060011861), (5060012045), (5060012100),77                                     (5060012022), (5060012321), (5060016627), (5060012409), (5060011897),78                                     (5060012334), (5060027685), (5060012263), (5060012201), (5060012083),79                                     (5060016239), (5060011882), (5060016185), (5060012154), (5060012227),80                                     (5060012144), (5060012192), (5060027843), (5060012036), (5060020493),81                                     (5060012307), (5060012142), (5060012053), (5060012072), (5060012028),82                                     (5060011857), (5060012214), (5060012172), (5060012336), (5060012396),83                                     (5060028093), (5060012219), (5060012308), (5060012058), (5060012140),84                                     (5060011826), (5060011923), (5060016570), (5060016699), (5060012062),85                                     (5060012175), (5060012386), (5060016585), (5060012004), (5060011999),86                                     (5060012383), (5060012236), (5060012244), (5060011914), (5060027858),87                                     (5060012026), (5060012011), (5060012223), (5060012156), (5060011940),88                                     (5060012298), (5060012162), (5060017196), (5060012356), (5060023034),89                                     (5060012074), (5060017255), (5060011917), (5060012400), (5060011831),90                                     (5060012149), (5060012286), (5060012317), (5060011856), (5060012251),91                                     (5060012370), (5060011983), (5060012296), (5060012044), (5060011921),92                                     (5060012208), (5060012019), (5060012202), (5060011925), (5060011945),93                                     (5060012266), (5060019160), (5060011941), (5060011835), (5060012191),94                                     (5060012173), (5060012178), (5060012087), (5060019971), (5060012315),95                                     (5060011837), (5060012253), (5060026537), (5060011974), (5060028115),96                                     (5060012147), (5060027670), (5060012410), (5060012082), (5060012353),97                                     (5060017897), (5060012399), (5060011870), (5060011926), (5060012070),98                                     (5060011853), (5060011850), (5060011958), (5060011970), (5060012071),99                                     (5060012177), (5060012215), (5060012330), (5060012160), (5060012041),100                                     (5060023764), (5060012164), (5060011875), (5060011889), (5060011932),101                                     (5060012368), (5060011863), (5060027709), (5060011905), (5060011833),102                                     (5060011858), (5060016707), (5060011878), (5060011982), (5060011959),103                                     (5060012155), (5060011949), (5060027796), (5060012241), (5060012257),104                                     (5060011938), (5060011939), (5060011942), (5060027347), (5060011871),105                                     (5060011848), (5060012003), (5060012278), (5060011918), (5060011896),106                                     (5060012341), (5060012134), (5060028472), (5060012061), (5060012032),107                                     (5060011948), (5060011975), (5060012309), (5060012027), (5060011985),108                                     (5060011881), (5060011907), (5060011864), (5060011978), (5060011913),109                                     (5060011886), (5060011887), (5060012377), (5060012225), (5060012046),110                                     (5060012367), (5060028257), (5060011996), (5060011981), (5060012390),111                                     (5060011931), (5060011972), (5060011930), (5060028620), (5060011962),112                                     (5060011957), (5060012078), (5060012132), (5060012145), (5060011934),113                                     (5060011950), (5060011967), (5060011953), (5060012076), (5060012012),114                                     (5060012382), (5060012116), (5060012039), (5060025960), (5060012118),115                                     (5060012101), (5060012256), (5060012176), (5060011997), (5060012133),116                                     (5060012020), (5060011990), (5060012038), (5060012322), (5060011928),117                                     (5060028247), (5060011901), (5060011936), (5060012295), (5060012024),118                                     (5060012103), (5060011935), (5060012051), (5060012129), (5060012035),119                                     (5060012029), (5060011988), (5060012086), (5060012120), (5060012073),120                                     (5060028292), (5060012057), (5060012207), (5060012195), (5060012097),121                                     (5060012059), (5060011986), (5060012186), (5060012205), (5060012014),122                                     (5060012034), (5060012220), (5060022119), (5060012065), (5060012098),123                                     (5060012166), (5060028643), (5060012159), (5060012138), (5060012281),124                                     (5060012273), (5060012095), (5060012107), (5060012113), (5060012255),125                                     (5060012130), (5060012249), (5060012128), (5060012126), (5060012277),126                                     (5060012243), (5060012276), (5060012212), (5060012267), (5060012127),127                                     (5060012182), (5060020302), (5060012258), (5060012279), (5060012375),128                                     (5060012161), (5060012320), (5060028367), (5060012340), (5060012381),129                                     (5060012419), (5060011933), (5060012323), (5060011847), (5060012351),130                                     (5060012242), (5060027603), (5060012229), (5060012226), (5060012389),131                                     (5060012301), (5060012247), (5060012408), (5060012374), (5060012297),132                                     (5060012250), (5060012376), (5060011844), (5060012248), (5060012224),221

133                                     (5060012269), (5060012245), (5060011912), (5060012108), (5060012268),134                                     (5060012259), (5060012326), (5060012285), (5060011838), (5060012418),135                                     (5060012293), (5060011840), (5060012289), (5060012217), (5060012294),136                                     (5060020273), (5060020410), (5060012378), (5060012313), (5060012311),137                                     (5060012337), (5060012305), (5060011929), (5060012360), (5060012346),138                                     (5060012343), (5060012369), (5060012361), (5060012329), (5060012387),139                                     (5060012069), (5060012407), (5060012394), (5060012109), (5060018514),140                                     (5060012414), (5060012429), (5060012270), (5060011927), (5060012306),141                                     (5060012282), (5060011989), (5060012233), (5060013357), (5060013358),142                                     (5060013359), (5060011827), (5060012183), (5060016933), (5060027726),143                                     (5060016613), (5060012357), (5060012325), (5060012030), (5060027714),144                                     (5060011952), (5060011984), (5060016735), (5060016820), (5060024312),145                                     (5060012015), (5060028108), (5060011947), (5060027953), (5060012119),146                                     (5060012135), (5060027979), (5060011879), (5060012009), (5060012193),147                                     (5060011839), (5060011866), (5060028651), (5060012094), (5060012123),148                                     (5060012358), (5060011849), (5060012411), (5060018652), (5060027336);149150BEGIN tran151-- Declarar un cursor para iterar sobre las tarjetas152DECLARE tarjeta_cursor CURSOR FOR153SELECT TarjetaVirtual FROM @Tarjetas;154155OPEN tarjeta_cursor;156157FETCH NEXT FROM tarjeta_cursor INTO @FK_STC_TRA_TARJETA_VIRTUAL;158159WHILE @@FETCH_STATUS = 0160BEGIN161    -- Validar si el valor de la tarjeta existe en STC_TRA_TARJETA_VIRTUAL162    IF EXISTS (163        SELECT 1164        FROM dbo.STC_TRA_TARJETA_VIRTUAL165        WHERE PK_STC_TRA_TARJETA_VIRTUAL = @FK_STC_TRA_TARJETA_VIRTUAL166    )167    BEGIN168        -- Obtener FK_STC_BLP_CLIENTE y FK_STC_BLP_TRADICIONAL_CLIENTE169        SELECT TOP 1170            @FK_STC_BLP_CLIENTE = FK_STC_BLP_CLIENTE,171            @FK_STC_BLP_TRADICIONAL_CLIENTE = FK_STC_BLP_TRADICIONAL_CLIENTE172        FROM dbo.STC_TRA_MOVIMIENTOS_TARJETA WITH (NOLOCK)173        WHERE FK_STC_TRA_TARJETA_VIRTUAL = @FK_STC_TRA_TARJETA_VIRTUAL174        ORDER BY PK_STC_TRA_MOVIMIENTOS_TARJETA DESC;175176177178    -- Insertar el nuevo movimiento de bloqueo179    INSERT INTO dbo.STC_TRA_MOVIMIENTOS_TARJETA 180    VALUES (181        @FK_STC_TRA_TARJETA_VIRTUAL,182        12,183        2110,184        @FK_STC_BLP_CLIENTE,185        @FK_STC_BLP_TRADICIONAL_CLIENTE,186        NULL,187        3,188        0,189        0,190        0,222

 191        'bloqueo de tarjeta',192        NULL,193        GETDATE(),194        GETDATE(),195        21,196        'usuario.soporte',197        GETDATE(),198        'transaction.worker',199        GETDATE(),200        1,201        NULL202    );203204    -- Actualizar el estado de la tarjeta virtual205    UPDATE dbo.STC_TRA_TARJETA_VIRTUAL206    SET FK_UTL_CAT_ESTADO = 40207    WHERE PK_STC_TRA_TARJETA_VIRTUAL = @FK_STC_TRA_TARJETA_VIRTUAL;208END209ELSE210BEGIN211    PRINT 'La tarjeta virtual ' + CAST(@FK_STC_TRA_TARJETA_VIRTUAL AS VARCHAR(20)) + ' no existe en la tabla ST212END;213214-- Obtener el siguiente valor215FETCH NEXT FROM tarjeta_cursor INTO @FK_STC_TRA_TARJETA_VIRTUAL;216217END;218219-- Cerrar y liberar el cursor220CLOSE tarjeta_cursor;221DEALLOCATE tarjeta_cursor;222223--ROLLBACK224225--COMMIT223

INC-4149 SV. Agregar nuevo banco participante en servicio Transferencia 365 APPDescripción del problema: Se solicitó la adición de un nuevo participante en la funcionalidad de T365, identificada bajo la cuenta "600440" (IdentificationBank). El proceso requería la aprobación de Edgardo Zepeda y la verificación de la documentación correspondiente.Análisis y acciones tomadas:1. Confirmación de Identificación: Daniela Barnett confirmó con Edgardo Zepeda que la cuenta "600440" corresponde al campo IdentificationBank.2. Aprobación Documental: Edgardo Zepeda subió al ticket el visto bueno del área correspondiente en formato PDF, conforme a los procedimientos previos.3. Carga y Verificación: Daniela Barnett cargó la información y solicitó a Edgardo Zepeda que realizara una validación, notando una discrepancia en la longitud de caracteres en comparación con registros previos.4. Pruebas de Validación: Se comunicó a Edgardo Zepeda que, en caso de problemas en la prueba, se realizarían los ajustes necesarios.Solución de cierre: Se completó exitosamente la adición del nuevo participante en la funcionalidad de T365 con el visto bueno del área correspondiente y la verificación documental requerida. Se ejecutó la validación en el sistema, y se confirmó la operación.Sistema relacionado: T365Causa de la intervención: Adición de un nuevo participante en la funcionalidad del sistema.Solución aplicada: Actualización del registro en T365 tras la verificación documental y aprobación del área correspondiente.Servicio relacionado: T365 - Gestión de Identificación de ParticipantesCausa - raíz: INC-284 Causa raíz no APLICA (7108754)Pasos utilizados:1. Se solicita visto bueno, una vez aportado. Se consulta el IdentificationBank con Edgar Zepeda.2. Se hacen los cambios, se borra el caché redis del app: Another Redis Desktop Manager de la tabla: t_cmac_Banco (Esto lo que hace es que no consulte en el caché y que vaya a consultar a tablas) Se hace procedimiento, se pide validar.3. Para configurar el Redis Caché: Configuración de Redis Cache. . Una vez dentro, se busca en la base, y se debe chequear en cuál de los DB aparece, ejemplo este estaba en DB4, se busca la tabla de arriba y se le da en el basurerito rojo.Consulta:INSERT Y UPDATE RESPECTIVOS DE VENTAS.1USE F2P_NEO_BANCO2SELECT * FROM dbo.t_cmac_Banco with(nolock)  where FK_T_COMC_PAIS=4  ORDER BY IdentificationBank DESC --Consulta 3SELECT * FROM dbo.t_cmac_Banco with(nolock) where FK_T_COMC_PAIS=4 AND IdT_cmac_Banco IN (199) --Consulta nuevos 4USE F2P_VENTAS_SV5SELECT * FROM dbo.bancos--29= 365 BCR1BEGIN TRAN2--update dbo.bancos SET BIT_ESTADO=1 WHERE id=273INSERT INTO dbo.bancos4(5    banco,6    BIT_SINPE,7    BIT_INTERNO,224

PARA AGREGAR LOS NUEVOS BANCOS8    TIN_LENGTH_SINPE,9    TIN_LENGTH_INTERNO,10    STR_MASK_INTERNO,11    BIT_ESTADO,12    tipo,13    cuenta_tipo,14    cant_cuenta15)16VALUES17(   '365 BCR',    -- banco - varchar(250)18    NULL,    -- BIT_SINPE - bit19    NULL,    -- BIT_INTERNO - bit20    NULL,    -- TIN_LENGTH_SINPE - tinyint21    NULL,    -- TIN_LENGTH_INTERNO - tinyint22    NULL,    -- STR_MASK_INTERNO - varchar(250)23    1, -- BIT_ESTADO - bit24    'SUC-V',    -- tipo - varchar(50)25    NULL,    -- cuenta_tipo - varchar(50)26    NULL     -- cant_cuenta - int27    ) COMMIT28        ROLLBACK2912BEGIN TRAN3INSERT INTO dbo.t_cmac_Banco4(5    IdEntidad,6    IdOrganizacion,7    UsuInclusion,8    FechaCreacion,9    UsuModificacion,10    FechaModificacion,11    EnviarDWH,12    Estado,13    Nombre,14    CantidadCaracteresCuenta,15    Formato,16    TransferState,17    IdentificationBank,18    Codigo_IBAN,19    FK_T_COMC_PAIS,20    CODIGO_BIC,21    TIPO_CONSULTA,22    ID_BANCO_VENTAS23)24VALUES25(   1,       -- IdEntidad - int26    1,       -- IdOrganizacion - int27    'Admin',    -- UsuInclusion - varchar(50)28    GETDATE(),    -- FechaCreacion - datetime29    NULL,    -- UsuModificacion - varchar(50)30    NULL,    -- FechaModificacion - datetime31    1, -- EnviarDWH - int32    1, -- Estado - int33    '365 BCR',    -- Nombre - varchar(200)34    25,    -- CantidadCaracteresCuenta - int225

Adicional, se agrega un procedimiento almacenado (Stored Procedure) con parámetros que permite realizar un rollback en caso de que ocurra algún error durante la inserción en la tabla dbo.t_cmac_Banco.35    NULL,    -- Formato - varchar(200)36    1,    -- TransferState - bit37    600440,    -- IdentificationBank - varchar(50)38    NULL,    -- Codigo_IBAN - varchar(20)39    4,    -- FK_T_COMC_PAIS - bigint40    'BCRESVS1',    -- CODIGO_BIC - varchar(10)41    NULL,    -- TIPO_CONSULTA - varchar(20)42    29     -- ID_BANCO_VENTAS - int43    )44        COMMIT45        ROLLBACK (editado) 1CREATE PROCEDURE sp_InsertBancoRecord2    @IdEntidad INT,3    @IdOrganizacion INT,4    @UsuInclusion VARCHAR(50),5    @FechaCreacion DATETIME,6    @UsuModificacion VARCHAR(50),7    @FechaModificacion DATETIME,8    @EnviarDWH INT = DEFAULT,9    @Estado INT = DEFAULT,10    @Nombre VARCHAR(200),11    @CantidadCaracteresCuenta INT,12    @Formato VARCHAR(200),13    @TransferState BIT,14    @IdentificationBank VARCHAR(50),15    @Codigo_IBAN VARCHAR(20),16    @FK_T_COMC_PAIS BIGINT,17    @CODIGO_BIC VARCHAR(10),18    @TIPO_CONSULTA VARCHAR(20),19    @ID_BANCO_VENTAS INT20AS21BEGIN22    -- Inicio de la transacción23    BEGIN TRANSACTION;24    BEGIN TRY25    -- Inserción de datos en la tabla dbo.t_cmac_Banco26    INSERT INTO dbo.t_cmac_Banco 27    (28        IdEntidad,29        IdOrganizacion,30        UsuInclusion,31        FechaCreacion,32        UsuModificacion,33        FechaModificacion,34        EnviarDWH,35        Estado,36        Nombre,37        CantidadCaracteresCuenta,38        Formato,39        TransferState,40        IdentificationBank,41        Codigo_IBAN,42        FK_T_COMC_PAIS,226

Explicación del códigoLa transacción comienza con BEGIN TRANSACTION.En el bloque BEGIN TRY, se realiza la inserción en la tabla dbo.t_cmac_Banco usando los parámetros del procedimiento.Si la inserción es exitosa, COMMIT TRANSACTION confirma los cambios en la base de datos.En caso de error, el bloque BEGIN CATCH ejecuta un ROLLBACK TRANSACTION, deshaciendo los cambios.La función RAISERROR se utiliza para mostrar el mensaje de error.43        CODIGO_BIC,44        TIPO_CONSULTA,45        ID_BANCO_VENTAS46    )47    VALUES48    (49        @IdEntidad,50        @IdOrganizacion,51        @UsuInclusion,52        @FechaCreacion,53        @UsuModificacion,54        @FechaModificacion,55        @EnviarDWH,56        @Estado,57        @Nombre,58        @CantidadCaracteresCuenta,59        @Formato,60        @TransferState,61        @IdentificationBank,62        @Codigo_IBAN,63        @FK_T_COMC_PAIS,64        @CODIGO_BIC,65        @TIPO_CONSULTA,66        @ID_BANCO_VENTAS67    );6869    -- Confirmación de la transacción en caso de éxito70    COMMIT TRANSACTION;71    PRINT 'Inserción exitosa';72END TRY73BEGIN CATCH74    -- Rollback en caso de error75    ROLLBACK TRANSACTION;7677    -- Manejo de error78    DECLARE @ErrorMessage NVARCHAR(4000) = ERROR_MESSAGE();79    DECLARE @ErrorSeverity INT = ERROR_SEVERITY();80    DECLARE @ErrorState INT = ERROR_STATE();8182    -- Impresión del mensaje de error83    RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState);84END CATCH;85END;86GO227

INC-4227-Acceso a reporte de pagosProblema Inicial: Falta de Acceso al Reporte 216Los usuarios Jorge Porras y Sharon Fonseca no tienen acceso al reporte 216 - Reporte pagos pendientes identificar. Esto dificulta que puedan realizar sus labores relacionadas con la revisión de pagos pendientes, afectando la eficiencia en la gestión de las tareas relacionadas.Causa del ProblemaLa falta de acceso se debe a que los usuarios Jorge Porras y Sharon Fonseca no tienen asignados los permisos necesarios dentro del sistema para visualizar el reporte 216. Esto puede suceder por varias razones:No tienen el rol asignado que permite el acceso a dicho reporte.El reporte no está incluido en los permisos asignados al rol correspondiente.Pasos para Resolver el Problema1. Consulta de Roles en la Base de Datos:Se verifica a qué roles están asignados los usuarios mediante un query en la base de datos DBMANAGER_RG:Esto permite identificar a qué roles están asignados los usuarios y verificar si el rol correspondiente tiene acceso al reporte deseado.1. Acceso al Sistema de Mantenimiento:Ingresar al sistema de mantenimiento de usuarios para realizar cambios. Se utiliza el siguiente enlace: Sistema de Mantenimiento - Versión 1.Iniciar sesión con credenciales de administrador.2. Navegación a la Sección de Configuración y Roles:Ir a la sección de Configuración y luego seleccionar Roles.Esto mostrará la lista completa de roles del sistema.3. Modificar los Permisos del Rol:Buscar el rol específico al que se desea agregar el permiso, por ejemplo, el rol "BSYS_OPE_REPORTES".Seleccionar el rol y buscar el "Reporte pagos pendientes identificar" en la lista de permisos.Marcar la casilla correspondiente para agregar el acceso a dicho reporte.4. Guardar Cambios:Desplazarse hasta la parte inferior de la página y hacer clic en Editar o Guardar cambios para aplicar la modificación.Esto permitirá que el rol tenga acceso al reporte, y por consiguiente, todos los usuarios que pertenezcan a ese rol (en este caso, Jorge Porras y Sharon Fonseca) tendrán también el acceso.1USE DBMANAGER_RG2SELECT DISTINCT username, ROL.DESCRIPCION 3FROM dbo.SEC_SYS_GLOBAL_USERS USR WITH(NOLOCK)4INNER JOIN dbo.SEC_MTR_ROL_USER RUS WITH(NOLOCK) ON RUS.FK_STS_SYS_GLOBAL_USERS = USR.PK_SEC_SYS_GLOBAL_USER5INNER JOIN dbo.SEC_CAT_ROL ROL WITH(NOLOCK) ON RUS.FK_SEC_CAT_ROL = ROL.PK_SEC_CAT_ROL6WHERE username LIKE '%Sharon.Fonseca%'7228

ResultadoDespués de completar estos pasos, Jorge Porras y Sharon Fonseca tendrán el acceso necesario al reporte 216, lo cual permitirá que puedan revisar los pagos pendientes sin inconvenientes y realizar sus tareas de manera eficiente. causa raíz: INC-284: Causa raíz no APLICA (7108754)ABIERTO  Tipo de Solución: Solución temporal  Sistema Relacionado: reporterita    229

INC-4298 Validar quién y cuándo se activa la domiciliación del cliente 139101-Descripción del problema: Se necesitaba validar quién y cuándo se activó la domiciliación del cliente con ID 139101, ya que recientemente se aplicó un débito automático en su cuenta.-Análisis y acciones tomadas: Se realizaron las siguientes consultas SQL para obtener la información relacionada con la domiciliación del cliente:1. Consulta en la tabla stc_blp_tradicional_cliente para obtener detalles de la cuenta del cliente.2. Consulta en la tabla stc_blp_clientes_cobro_automatico para obtener información de la domiciliación asociada al cliente.3. Consulta específica de los detalles de la cuenta domiciliada CR84015100320010519248, donde se obtuvieron los datos del banco, usuario de creación, fecha de creación, y fecha de la última modificación.-Validación y cierre: Se confirmó que la domiciliación fue creada el 25 de febrero de 2021 por el usuario sandraobandovelasquez77@gmail.com y que hubo una modificación reciente realizada el 2 de octubre de 2024 por el mismo usuario. Esta modificación pudo haber activado la domiciliación, lo cual derivó en el débito automático aplicado.-Solución aplicada: Se registró la información obtenida y se notificó al equipo correspondiente sobre el usuario y la fecha de activación de la domiciliación para su seguimiento.-Código proporcionado: Consultas SQL utilizadas para la investigación:-Resultado: Se obtuvo información precisa sobre la creación y modificación de la domiciliación del cliente, lo cual permitió validar quién y cuándo se activó la domiciliación.-Sistema Relacionado: CR_CORE-Flujo relacionado: Domiciliación y cobro automático-Causa: Modificación reciente realizada por el usuario en la domiciliación, lo cual activó el débito automático.-Solución: En base a la solicitud se realizó la consulta necesaria para obtener la fecha de activación inicial del débito automático. La fecha de activación encontrada para la cuenta CR84015100320010519248 fue el 25 de febrero de 2021, y hubo una modificación realizada el 2 de octubre de 2024 por el usuario sandraobandovelasquez77@gmail.com.-Causa raíz relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO -Tipo solución: Consulta informativa 1USE CR_CORE23SELECT TOP 100 * FROM dbo.stc_blp_tradicional_cliente WHERE NUMERO_CUENTA = '139101';45SELECT TOP 100 * FROM dbo.stc_blp_clientes_cobro_automatico WHERE FK_STC_BLP_TRADICIONAL_CLIENTE = 236522;67SELECT TOP 108    id,9    banco,10    cuenta,11    STR_FECHA_CREACION, STR_USUARIO_CREACION, fecha_ultima_modificacion, STR_USUARIO_MODIFICACION,12    *13FROM dbo.stc_blp_clientes_cobro_automatico14WHERE cuenta = 'CR84015100320010519248';230

INC-4287-Error inesperado en la reversión de pago / mala aplicación del sistema en montoINC-4287: Error inesperado en la reversion de pago / mala aplicacion del sistema en monto/ CERRADO INC-4504: Reversion de movimiento en op R212680CERRADO Propietario: José ValverdeFecha: 2024-10-31Sistema Relacionado: Sistema de Pagos/OperativoFlujo Relacionado: Procesamiento de Ajustes de Pago No Reversibles Posibles Causas y DiagnósticoLa transacción de ajuste aplicada al cliente en este caso no tiene la capacidad de ser reversada en el sistema, posiblemente debido a restricciones de diseño en el flujo de pagos o en la naturaleza del ajuste.Descripción del ProblemaUn ajuste de pago fue aplicado incorrectamente al saldo de un cliente. Debido a la naturaleza no reversible de este tipo de ajuste, no es posible deshacer la acción de forma directa en el sistema.AnálisisEl sistema carece de funcionalidad para revertir este ajuste específico, lo cual impide realizar la operación sin generar diferencias en las cuentas del cliente. En este caso, la solución operativa recomendada es aplicar un descuento o ajuste manual que restablezca el saldo del cliente, respetando el registro inicial.Código UsadoValidación y CierreSe sugiere que la aplicación del ajuste manual sea validada en el sistema para asegurar que el saldo final coincida con el saldo correcto que el cliente debería tener.Recomendaciones y Próximos Pasos1. Gestionar el ajuste manual o descuento para corregir el saldo del cliente.2. Documentar el ajuste realizado para futuros seguimientos y auditorías.3. Evaluar si es necesario desarrollar una funcionalidad que permita la reversión de estos tipos de ajustes para casos futuros.Tipo de Solución: WorkaroundEtiquetasCausa Raíz: Restricciones en reversión de transacciones.Flujos Relacionados: Ajustes Manuales, Procesamiento de Pagos.1use CR_core23select b.pagare,b.pk_stc_blp_tradicional_cliente_detalle,b.saldo_actual,b.fk_stc_blp_tradicional_cliente,b.FK_STC_PAR_MONEDA,b.fk_stc_par_status,* from dbo.stc_blp_tr4inner join dbo.stc_blp_tradicional_cliente_detalle b with (nolock) on b.fk_stc_blp_tradicional_cliente = a.id5where  a.NUMERO_CUENTA like'R-212680%'67select Tipo_Transaccion,* from stc_blp_tradicional_pago where id_tradicional = 255902 order by id desc89select * from dbo.PSE_PAR_TIPO_TRANSACCION231

INC-4265 Problemas con cliente, no genera análisis de créditoDescripción del ProblemaEl cliente con identificación 113080705 no generaba el análisis crediticio en el sistema Akrosys, lo cual provocaba que no pudiera continuar con el proceso crediticio. Se solicitó una revisión para identificar la causa que impedía la generación del análisis de crédito.Análisis y Acciones Tomadas1. Verificación de Datos del Cliente: Se realizó una revisión completa de los datos del cliente en el sistema para asegurarse de que los campos requeridos estuvieran completos y correctos.2. Evaluación de Requisitos de Crédito: Se revisaron los criterios de elegibilidad y políticas de crédito en Akrosys, confirmando que el cliente debía cumplir ciertos requisitos para ser elegible.3. Consulta de Estado de Cartera: Se analizó el estado de cartera del cliente, identificando que su cuenta estaba clasificada como una "cartera separada."4. Verificación de Dependencias del Sistema: No se encontraron problemas en los servicios o componentes adicionales requeridos para el análisis de crédito.Solución del CierreLa investigación concluyó que el estado de cartera separada del cliente impedía la generación del análisis crediticio, ya que las políticas del sistema de crédito excluyen a clientes en esta condición. Este estado significa que el cliente no es viable para un análisis de crédito, cumpliendo con los parámetros establecidos en las políticas de negocio y en la configuración del sistema.Solución del CasoEl caso fue cerrado tras confirmar que la situación se ajustaba a las políticas de negocio y del sistema, sin requerir una modificación en Akrosys. No fue necesaria ninguna acción adicional dado que el sistema estaba operando según lo esperado y el estado de cartera del cliente no cumplía con los requisitos para análisis crediticio.Sistema RelacionadoAkrosysServicio RelacionadoAnálisis de CréditoCausaEl cliente se encontraba en un estado de cartera separada, lo cual le excluye de los análisis crediticios según las políticas de negocio establecidas.SoluciónNo se tomaron acciones correctivas específicas en el sistema, ya que el funcionamiento era adecuado y se alineaba con las políticas y parámetros de análisis de crédito. La condición de "cartera separada" del cliente fue identificada como la razón para la no generación de análisis crediticio, y esto fue informado como resolución definitiva.Resumen para NegocioEl caso INC-4265 fue investigado debido a que el cliente 113080705 no generaba análisis de crédito en Akrosys. Tras la revisión, se identificó que el cliente tenía un estado de cartera separada, condición que, por política, excluye al cliente de la evaluación crediticia. Este es un comportamiento esperado del sistema y no requiere ajustes, ya que las políticas actuales cumplen con los criterios de riesgo establecidos por el negocio.Scripts utilizados.No aplica, ya que el estado de la cuenta se puede ver desde el coresys. Adjunto imagen del core, donde se puede ver el estado de la cuenta.  Causa raiz relacionada1. INC-284 Causa raíz no APLICA (7108754)232

INC-4333-Guatemala Diferencia en descuento aplicado 10020858Número de Caso: INC-4333Propietario: José ValverdeFecha: [05-11-2024]Sistema Relacionado: STC_TRA_CONTROL_INTRAFINANCIAMIENTOFlujo Relacionado: Validación y ajuste de descuento aplicado en saldo intrafinanciamientoClientes inactivo con Visa Cuota pendiente GT (ALTA) | Detalles de sensor | PRTG Network Monitor (SRVPRTGAKROS)INC-4333: Guatemala Diferencia en descuento aplicado 10020858CERRADO Posibles Causas y DiagnósticoDescripción del ProblemaSe detectó una diferencia en el descuento aplicado a la cuenta 10020858, en la cual se liquidaron saldos que deberían haber permanecido activos en Visa Cuotas (VC). La cuenta muestra que el saldo total fue liquidado, lo cual no era la intención inicial, ya que solo se buscaba ajustar un saldo específico en capital de Q0.49.AnálisisAl revisar los registros, se encontraron casos con valores en SALDO_INTRAFINANCIAMIENTO que están en 0 y una descripción de "Registro de prueba," lo cual sugiere que pudo haber pruebas realizadas en la base de datos que impactaron estos saldos. Estos valores aparecieron junto a ciertos estados (fk_stc_par_status en 13, 19, y 33) y saldos no descargados (SALDO_NO_DESCARGADO > 0), lo cual puede señalar inconsistencias relacionadas con pruebas o configuraciones no previstas.Código Usado1SELECT DISTINCT 2    i.SALDO_INTRAFINANCIAMIENTO,3    tcd.fk_stc_par_status,4    i.PLAZO_RESTANTE,5    i.SALDO_NO_DESCARGADO,6    i.DESCRIPCION,7    tcd.pk_stc_blp_tradicional_cliente_detalle 8FROM 9    dbo.STC_TRA_CONTROL_INTRAFINANCIAMIENTO i WITH(NOLOCK)10INNER JOIN 11    dbo.UTL_CAT_ESTADO E WITH(NOLOCK) 12    ON E.PK_UTL_CAT_ESTADO = i.FK_UTL_CAT_ESTADO13INNER JOIN 14    dbo.stc_blp_tradicional_cliente_detalle tcd 15    ON tcd.pk_stc_blp_tradicional_cliente_detalle = i.FK_STC_BLP_TRADICIONAL_CLIENTE_DETALLE16WHERE  17    i.SALDO_INTRAFINANCIAMIENTO >= 0 18    AND tcd.fk_stc_par_status IN (13, 19, 33)  19    AND i.PLAZO_RESTANTE > 0 20    AND i.SALDO_NO_DESCARGADO > 021233

Validación y CierrePara corregir el caso de la cuenta 10020858, se sugiere realizar una actualización del estado y ajuste del saldo con el siguiente script. Este deberá aplicarse con la supervisión adecuada para confirmar el impacto en tiempo real.Corrección SugeridaRecomendaciones y Próximos PasosValidar si existen otros registros con la descripción "Registro de prueba" para evitar impactos no intencionados en otros saldos de clientes.Revisar si hay procesos de pruebas en el entorno de producción que puedan afectar datos de clientes reales.Implementar controles adicionales para gestionar y supervisar las transacciones y descuentos en VC.Tipo de Solución: Causa RaízEtiquetasCausa Raíz: Ajuste de Descuento IncorrectoFlujos relacionados: Validación de Saldos en VC1BEGIN TRAN  2UPDATE STC_TRA_CONTROL_INTRAFINANCIAMIENTO 3SET  4    FK_UTL_CAT_ESTADO = 34, 5    SALDO_INTRAFINANCIAMIENTO = 10246.72 6WHERE 7    PK_STC_TRA_CONTROL_INTRAFINACIAMIENTO IN (220) 8ROLLBACK TRAN 9COMMIT10234

INC-4316 CEDULAS DESCARGADAS EN MANTENIMIENTO 2.0Descripción del ProblemaEl usuario solicitó la exclusión de un conjunto de cédulas en el sistema de Mantenimiento 2.0, ya que estas no se encuentran en el padrón. Las cédulas especificadas fueron: 155801683, 801600672, 155837365, 155831417 y 502799473.Análisis y Acciones Tomadas1. Verificación Inicial en la Base de Datos: Se realizó una consulta en la base de datos para revisar las solicitudes correspondientes a las cédulas indicadas, en la tabla dbo.RPA_TRA_SOLICITUD, para confirmar su existencia y su estado actual.2. Actualización de Estado: Como parte de la acción solicitada, se procedió a actualizar el estado de las solicitudes de estas cédulas, colocándolas en el estado 10 en la base de datos. Este estado fue asignado a las solicitudes para indicar su exclusión.3. Validación y Ejecución de la Transacción: Se utilizó una transacción en la base de datos para asegurar que los cambios fueran realizados correctamente. Tras verificar los resultados con una consulta preliminar, se aplicó el commit para finalizar la transacción y hacer efectivos los cambios.Solución del CierreEl caso fue cerrado tras completar la solicitud de exclusión. Las cédulas especificadas fueron colocadas en estado 10 en la tabla dbo.RPA_TRA_SOLICITUD, lo que indica que se han descartado conforme a lo requerido. Este cambio se confirmó mediante la consulta de verificación final.Solución del CasoLa solución consistió en actualizar el estado de las solicitudes de las cédulas indicadas, asignándoles el estado 10 en la tabla dbo.RPA_TRA_SOLICITUD. Este estado refleja que las cédulas han sido excluidas y ya no serán procesadas en el sistema de Mantenimiento 2.0.Sistema RelacionadoCR_BURO_BANCARIOServicio RelacionadoMantenimiento de CédulasCausaLa exclusión de estas cédulas se debió a que no se encontraban en el padrón, lo que las hace inelegibles para el procesamiento en el sistema de Mantenimiento 2.0.Solución235

El problema fue solucionado al actualizar las solicitudes de las cédulas indicadas al estado 10 en la tabla correspondiente, en línea con la política de exclusión para cédulas fuera del padrón.Script UtilizadoCopiar códigoUSE CR_BURO_BANCARIO; SELECT * FROM dbo.RPA_TRA_SOLICITUD WITH (NOLOCK) WHERE IDENTIFICACION IN ('155801683','801600672','155837365', '155831417', '502799473') ORDER BY PK_RPA_TRA_SOLICITUD DESC; BEGIN TRAN; UPDATE dbo.RPA_TRA_SOLICITUD SET FK_UTL_CAT_ESTADO = 10 WHERE PK_RPA_TRA_SOLICITUD IN (17023643, 17023575, 17023552, 17023465, 17023394); ROLLBACK TRAN; COMMIT TRAN;Resumen para NegocioEl caso INC-4316 fue resuelto exitosamente al atender la solicitud de excluir cédulas sin padrón en el sistema de Mantenimiento 2.0. Las cédulas indicadas fueron verificadas y actualizadas en la base de datos, asignándoles el estado 10 en dbo.RPA_TRA_SOLICITUD, confirmando su exclusión según los procedimientos de negocio. Este cambio asegura que las cédulas no serán procesadas en futuras operaciones del sistema, alineándose con las políticas de control del padrón. Causa raizINC-284Causa raíz no APLICA (7108754)1sql236

INC-4271-Operacion 98658, reversión de cobertura de seguros (3)Proceso Completo para Realizar Reversiones de PagosPaso 1: Identificar los Pagos a Revertir1. Consulta Inicial para Identificar los Pagos:Lo primero que debes hacer es identificar los pagos relacionados con un determinado pagaré (en este caso, el pagaré número 98658). Esto te permitirá conocer cuáles son los pagos asociados y cuál es el id_validapago de cada uno. La consulta sería la siguiente:Explicación:WITH(NOLOCK) es útil para evitar bloqueos mientras se consulta la base de datos.Filtramos los registros para el pagare que comienza con '98658' y los ordenamos por id_validapago de forma descendente (DESC) para ver los más recientes primero.Resultados esperados: Obtendrás una lista con todos los pagos relacionados al pagaré 98658. Cada registro tendrá información clave como el id_validapago, el monto pagado, la fecha, etc.Paso 2: Realizar la Reversión de los Pagos Identificados2. Ejecutar el Procedimiento para Revertir los Pagos:Una vez identificados los pagos a revertir, debes ejecutar un procedimiento almacenado que permita revertir cada uno de estos pagos. Para esto, utilizarás el id_validapago obtenido en el paso anterior.Ejemplo del comando para la reversión:Detalles de los Parámetros:@P_ID_VALOR: El identificador del pago a revertir (id_validapago).@P_USUARIO: El usuario que está solicitando la reversión ('Procesos.sistema').@P_TIPO_ORIGEN, @P_NUM_OPERACION, @P_MONTO_PAGO: Estos campos pueden dejarse vacíos si no se requiere más información para la reversión.@P_COMENTARIO: Es importante añadir un comentario sobre la razón de la reversión para documentación y auditoría.Acciones:Debes ejecutar este procedimiento para cada uno de los pagos identificados en el paso anterior.1SELECT * FROM dbo.stc_blp_validapago sbv WITH(NOLOCK) 2WHERE sbv.pagare LIKE '98658%' 3ORDER BY id_validapago DESC;41EXEC dbo.PA_PRO_TRANSACCION_REVERSION 2    @P_ID_VALOR = 13880167,            -- bigint id_validapago3    @P_USUARIO = 'Procesos.sistema',   -- varchar(50)4    @P_TIPO_ORIGEN = '',               -- varchar(1)5    @P_NUM_OPERACION = '',             -- varchar(50)6    @P_MONTO_PAGO = 0,                 -- int7    @P_COMENTARIO = 'Reversión por error en el monto aplicado';8237

Paso 3: Aplicar la Reversión de los Pagos3. Aplicar Formalmente la Reversión:Tras ejecutar el procedimiento que realiza la reversión, el próximo paso es aplicar formalmente dicha reversión en el sistema para que quede completamente registrada.Ejemplo del comando para aplicar la reversión:Detalles de los Parámetros:@P_ID_VALOR: El mismo id_validapago que fue revertido previamente.@P_USUARIO: Identifica al usuario que aplica la reversión.@P_TIPO_ORIGEN: Puede quedar vacío si no es necesario.@P_COMENTARIO: Indica que la reversión ha sido aplicada, lo cual es útil para el historial de transacciones.Resumen del Proceso1. Consultar los pagos a revertir:Ejecuta una consulta SELECT para identificar los registros de pagos que corresponden al pagaré específico. Filtra por el campo pagare y revisa los registros para encontrar el id_validapago.2. Revertir los pagos identificados:Utiliza el procedimiento almacenado PA_PRO_TRANSACCION_REVERSION para cada id_validapago encontrado en la consulta. Asegúrate de incluir un comentario explicativo.3. Aplicar la reversión:Ejecuta el procedimiento PA_PRO_TRANSACCION_REVERSION_APLICA para formalizar la reversión de cada pago.RecomendacionesPrueba en un entorno de desarrollo: Antes de realizar las reversiones en un entorno de producción, prueba todos los pasos en un entorno de desarrollo para evitar errores y minimizar el riesgo de afectar datos sensibles.Revisar Documentación: Si hay dudas con respecto a alguno de los parámetros del procedimiento almacenado, revisa la documentación interna de la empresa para entender cómo se manejan los pagos y reversiones.Registra las reversiones: Lleva un registro de las reversiones realizadas, incluyendo la fecha, el monto, el pagaré y los comentarios, para futuras referencias y auditorías.Confirmación: Verifica siempre que las transacciones revertidas efectivamente no aparecen aplicadas en el sistema, para asegurar que todo el proceso se realizó de manera correcta.Sistema Relacionado: CORECausa raíz relacionada: INC-4205: Campo tipo transferencia vacío en tabla transferencia SVABIERTOTipo solución: Workaround1EXEC dbo.PA_PRO_TRANSACCION_REVERSION_APLICA 2    @P_ID_VALOR = 13880167,              -- bigint id_validapago3    @P_USUARIO = 'Procesos.sistema',     -- varchar(50)4    @P_TIPO_ORIGEN = '',                 -- varchar(1)5    @P_COMENTARIO = 'Reversión aplicada';-- varchar(200)6238

INC-4351 - Eliminación de Mini Card "Sé un Máster del Ahorro"Descripción del problemaEl usuario solicitó la eliminación de la Mini Card "Sé un Máster del Ahorro" en la aplicación móvil, la cual formaba parte de una campaña de ahorro. La solicitud fue realizada para actualizar el contenido de la interfaz y eliminar este componente promocional específico.Análisis y acciones tomadasEjecución de la eliminación: Se procedió con la eliminación directa de la Mini Card "Sé un Máster del Ahorro" en el sistema de administración de contenido de la aplicación.Pruebas de validación: Tras la eliminación, se ejecutaron pruebas para asegurar que la Mini Card no se mostrara en ninguna sección de la aplicación, verificando su completa desaparición.Validación y cierreValidación final: Se validó en el entorno de producción que la Mini Card fue removida correctamente. La eliminación fue confirmada por el equipo de control de calidad, y se verificó que no afectó otras funcionalidades.Cierre: Se cerró el caso tras la validación exitosa de la solicitud en el entorno de producción.Solución aplicadaEliminación de la Mini Card "Sé un Máster del Ahorro". La eliminación se realizó en todas las secciones relevantes para asegurar una experiencia de usuario consistente.ResultadoLa Mini Card solicitada fue eliminada correctamente sin afectar otros componentes de la aplicación.Código ProporcionadoNotas adicionalesNo se observaron problemas adicionales durante el proceso de eliminación. El cambio no requirió ajustes en otros módulos ni en la estructura de contenido de la app.1BEGIN TRANSACTION2UPDATE RG_SUCURSAL_VIRTUAL..SUV_PAR_PARAMETRO3SET    VALOR=  '[{"prioridad":1,"tipo":"Credit","Description":"Desembolso de disponible","imagenUrl":"https://sto4--  '[{"prioridad":1,"tipo":"Credit","Description":"Desembolso de disponible","imagenUrl":"https://storageestadoc5WHERE PK_SUV_PAR_PARAMETRO=494267ROLLBACK8COMMIT239

Sistema RelacionadoAPPFlujo relacionadoMINICARDSCausaSolicitud: El usuario solicitó explícitamente la eliminación de la Mini Card "Sé un Máster del Ahorro" como parte de una actualización de contenido en la aplicación.SoluciónSe realizó la eliminación completa del componente Mini Card en la interfaz de usuario de la aplicación, asegurando que el cambio fuera efectivo y sin efectos secundarios.Tipo de SoluciónWorkaround.Causa raíz relacionadaINC-491: Creación y modificación de minicards APP (71156150)ABIERTO Caso relacionadoINC-4351: Eliminación de Mini Card "Sé un Máster del Ahorro"RESUELTO 240

INC-4303-Acceso a la generación de 3 reportesTema: Solicitud de acceso a reportes mediante rol BSYS_OPE_REPORTESDescripción del problema: Un usuario requirió acceso a varios reportes, incluyendo Tasas, Depósitos pendientes de identificar de pagos de clientes y Reporte de diferimiento. Se necesitaba verificar los permisos requeridos y otorgar el acceso correspondiente.Análisis y acciones tomadas:1. Se ejecutó un query en la base de datos DBMANAGER_RG para verificar los grupos de roles del usuario. El query utilizado fue:2. Se identificó que el rol BSYS_OPE_REPORTES es el que proporciona acceso a los reportes solicitados.3. Se accedió al sistema de mantenimiento a través de https://sistemamantenimientos.akros.tech/User/Login.4. Dentro de configuración, se navegó a la sección de roles y se localizó el rol BSYS_OPE_REPORTES.5. Se editó dicho rol para asegurarse de que los reportes solicitados estuvieran habilitados.6. Se confirmó la edición para aplicar los cambios y otorgar los permisos necesarios al usuario.Validación y cierre: El acceso se validó exitosamente tras confirmar la edición del rol y verificar que el usuario tuviera acceso a los reportes requeridos.Solución aplicada: Se otorgó acceso al usuario mediante la edición del rol BSYS_OPE_REPORTES para incluir los reportes solicitados.Resultado: El usuario tiene ahora acceso a los reportes de Tasas, Depósitos pendientes de identificar de pagos de clientes y Reporte de diferimiento.Sistema Relacionado: Sistema de Mantenimiento de Roles y PermisosFlujo relacionado: Configuración de roles y permisos en el sistema de mantenimientoCausa (con palabras para negocio): El usuario no tenía los permisos asignados para acceder a los reportes solicitados.Solución (con palabras para negocio): Se verificaron los roles existentes y se agregó al usuario al rol correspondiente para proporcionar acceso a los reportes necesarios.Causa raíz relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO 1USE DBMANAGER_RG;23SELECT DISTINCT4    USR.username,5    ROL.DESCRIPCION AS rol,6    COALESCE(7        STUFF(8            (9                SELECT DISTINCT ', ' + SSM.nameOption10                FROM dbo.SEC_MTR_ROL_MENU_APP SRMA WITH(NOLOCK)11                LEFT JOIN dbo.STC_SYS_MENU SSM WITH(NOLOCK) ON SRMA.FK_STC_SYS_MENU = SSM.id12                WHERE SRMA.FK_SEC_CAT_ROL = ROL.PK_SEC_CAT_ROL13                FOR XML PATH(''), TYPE14            ).value('.', 'VARCHAR(MAX)'), 1, 2, ''15        ), ''16    ) AS permisos17FROM dbo.SEC_SYS_GLOBAL_USERS USR WITH(NOLOCK)18INNER JOIN dbo.SEC_MTR_ROL_USER RUS WITH(NOLOCK) ON RUS.FK_STS_SYS_GLOBAL_USERS = USR.PK_SEC_SYS_GLOBAL_USERS19INNER JOIN dbo.SEC_CAT_ROL ROL WITH(NOLOCK) ON RUS.FK_SEC_CAT_ROL = ROL.PK_SEC_CAT_ROL20WHERE USR.username LIKE '%userName%' -- Sustituir 'userName' por el nombre del usuario21ORDER BY USR.username, ROL.DESCRIPCION;241

Tipo solución: Administración de roles y permisos.242

INC-4392 Desbloqueo usuario en sysdeDescripción del ProblemaEl usuario solicitó asistencia para desbloquear su cuenta en el sistema Sysde. El bloqueo impedía al usuario iniciar sesión, posiblemente debido a intentos fallidos de autenticación o políticas de seguridad.Análisis y Acciones Tomadas1. Verificación del Estado del Usuario: Se revisó el estado de la cuenta en la base de datos de Sysde para confirmar que efectivamente estaba bloqueada. No se encontraron razones administrativas adicionales para mantener el bloqueo.2. Desbloqueo del Usuario: Procedimos a actualizar el estado de la cuenta del usuario para habilitar el acceso, lo que permitió al usuario iniciar sesión nuevamente en el sistema.3. Validación del Acceso: Tras el desbloqueo, se notificó al usuario para que intentara acceder nuevamente al sistema, y se confirmó que pudo iniciar sesión correctamente.Solución del CierreEl caso se resolvió desbloqueando la cuenta del usuario en el sistema Sysde. Esto restableció su acceso y permitió que el usuario pudiera ingresar sin inconvenientes.Solución del CasoLa solución consistió en desbloquear la cuenta del usuario en Sysde, eliminando el bloqueo que impedía el acceso. Este ajuste fue suficiente para resolver el problema sin necesidad de acciones adicionales.Sistema RelacionadoSysdeServicio RelacionadoGestión de Accesos de UsuarioCausaEl bloqueo de la cuenta ocurrió debido a intentos fallidos de inicio de sesión o una política de seguridad que bloqueó temporalmente el acceso.SoluciónEl problema fue resuelto mediante el desbloqueo de la cuenta del usuario en el sistema Sysde, permitiéndole acceder correctamente al sistema.243

Script UtilizadoNo se empleó un script específico en este caso, ya que el desbloqueo fue realizado directamente a través de la interfaz de administración de Sysde.Resumen para NegocioEl caso INC-4392 fue resuelto desbloqueando la cuenta de usuario solicitada en Sysde. Este ajuste permitió que el usuario recuperara su acceso sin inconvenientes y pudiera continuar con sus actividades. Este proceso garantiza una respuesta rápida a incidentes de acceso, alineándose con las políticas de soporte de usuarios y continuidad de servicio. Causa raiz relacionadaINC-284 Causa raíz no APLICA (7108754)244

INC-4203 Baja de credenciales SAP a usuario de Blanca Galicia / bgaliDescripción del problemaBlanca Galicia, quien desempeñaba el cargo de Contador para la empresa BambuDev en México, ha sido desvinculada de su puesto a partir de octubre. Se requiere la baja de su usuario en el sistema SAP (ID de usuario: bgali) para evitar accesos no autorizados. Las credenciales para el rol de Contador han sido reasignadas a Isaac Venegas.Análisis y acciones tomadas1. Revisión de acceso: Se verificó el estatus del usuario bgali en el sistema SAP para confirmar la actividad y las últimas conexiones.2. Asignación de nuevas credenciales: Se constató que las credenciales necesarias para el rol de Contador han sido asignadas correctamente a Isaac Venegas, de acuerdo con el flujo interno de la empresa.3. Modificación de la cuenta: Se decidió realizar un cambio de clave en la cuenta de Blanca Galicia para prevenir futuros accesos. Alternativamente, se consideró la posibilidad de desactivación del usuario según las políticas de SAP y de BambuDev.Solución aplicada1. Acceso al sistema: Se ingresó al portal de SAP a través del enlace https://sapbo.akros.tech:8100/dispatcher.2. Cambio de clave: En el módulo de Usuarios, se localizó el usuario bgali y se procedió a cambiar la clave para bloquear el acceso de Blanca Galicia al sistema.3. Verificación de reasignación de rol: Se confirmó que Isaac Venegas cuenta con las credenciales necesarias para realizar las funciones del puesto de Contador en el sistema SAP.Esta solución asegura que el acceso de Blanca Galicia al sistema SAP ha sido eliminado de manera efectiva y que el rol ha sido reasignado sin interrupciones operativas.Solución en términos de negocio:Para asegurar la correcta desvinculación de Blanca Galicia y proteger la integridad del acceso al sistema SAP, se procedió a desactivar su usuario en la plataforma. Esto garantiza que, a partir de su salida, no pueda acceder a información confidencial o realizar acciones en nombre de la empresa.Al mismo tiempo, se verificó que las credenciales necesarias para el rol de Contador de México han sido correctamente asignadas a Isaac Venegas, asegurando así la continuidad de las operaciones en el área de Contabilidad sin interrupciones.Con esta medida, BambuDev asegura la actualización de sus accesos y minimiza riesgos de seguridad asociados a usuarios desvinculados.Sistema Relacionado: SAPFlujo relacionado: LoginCausa raíz relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO245

INC-4394 Mensaje en SOC y bloqueoDescripción del problema: Al intentar guardar información de precalificación con el Buró Equifax, se presenta el error: "Problemas al guardar Precalificados con el Buro EQUIFAX: (1), MENSAJE: [ERROR AL ACTUALIZAR EN LA TABLA BOM_TRA_BURO_RESPUESTA]". Este error resulta en el bloqueo automático de los registros en SOC, afectando varias cédulas.Análisis y acciones tomadas: Se realizó una consulta con el equipo de desarrollo (INT2) mediante Slack para entender mejor el problema. Se identificó que el error es conocido y está relacionado con un desarrollo en curso que implica un cambio de URL en el Buró Equifax. Se confirmó que este cambio está generando los errores de actualización y bloqueo reportados. Negocio fue informado sobre la situación y se decidió que, dado que no hay impacto inmediato, no se tomarán acciones adicionales en este momento.Validación y cierre: Se comunicó al equipo de negocio la situación y la causa del problema, quienes confirmaron que estaban al tanto del desarrollo en curso. No se requieren más acciones ni cambios en este momento. El caso se cerró con la indicación de mantener un monitoreo sobre el comportamiento del sistema.Solución aplicada: No se aplicó ninguna solución técnica adicional ya que el problema está asociado a un desarrollo en curso y no se requiere acción inmediata.Código proporcionado: N/AResultado: Caso cerrado ya que el problema es conocido, está relacionado con un desarrollo en curso y no se requieren acciones inmediatas. Se mantendrá el monitoreo del comportamiento para identificar posibles cambios o incidentes futuros.Sistema Relacionado: SOCFlujo relacionado: Análisis de SOCCausa: Error en la actualización de la tabla BOM_TRA_BURO_RESPUESTA debido al cambio en la URL de conexión con el Buró Equifax.Solución: Ninguna acción inmediata requerida. Se seguirá monitoreando el comportamiento y se mantendrá informado al equipo de negocio sobre cualquier cambio relevante.Causa raíz relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo solución: No hay solución.246

INC-4169 cambio de contraseñaDescripción del ProblemaEl usuario amoreira en la empresa MULTIFIN (SBO_MULTIFIN) solicitó un cambio de clave debido a que requiere acceso seguro y actualizado al sistema. Esta solicitud se realizó a través del portal de soporte y se canalizó para su ejecución en la plataforma SAP Business One.Análisis y Acciones Tomadas1. Revisión de la Solicitud:Se verificó que el usuario amoreira existe en la empresa MULTIFIN (SBO_MULTIFIN) y que la solicitud cumple con las políticas de seguridad para cambios de clave.2. Acceso a la Plataforma SAP BO:Ingresamos a la plataforma a través del enlace https://sapbo.akros.tech:8100/dispatcher.Navegamos al módulo de usuarios donde se gestionan las credenciales de acceso.3. Cambio de Clave en el Módulo de Usuarios:Dentro del módulo de usuarios, se seleccionó al usuario amoreira.Se procedió a actualizar la clave siguiendo los lineamientos de seguridad, sin mostrar el contenido exacto de la clave para proteger la información sensible.4. Confirmación de Cumplimiento de Requisitos de Seguridad:Se validó que la nueva clave cumpliera con los requisitos de complejidad y seguridad definidos para el sistema (caracteres especiales, longitud mínima, etc.).5. Notificación:Se notificó al usuario de que el cambio de clave se completó exitosamente y que ya puede acceder al sistema con su nueva credencial.Solución AplicadaLa clave del usuario amoreira en la empresa MULTIFIN fue actualizada satisfactoriamente mediante el módulo de usuarios en SAP Business One. El cambio se realizó en un entorno seguro y se verificó que la nueva clave cumpliera con todos los requisitos de seguridad. El usuario fue informado del cambio para que pueda acceder con la nueva credencial.247

INC-4387-No aparece usuario nuevo en lista de accesos para asignar permisosDescripción del problema:No se puede asignar permisos a "CATÁLOGOS" a un nuevo usuario (francisco.arriola), ya que no aparece en la lista de usuarios para editar su perfil.Análisis y acciones tomadas:Se verificó la existencia del usuario en la base de datos del sistema MX.Se identificó que el usuario "francisco.arriola" no estaba registrado en la base de datos.Se procedió con la inserción manual del usuario utilizando transacciones SQL, detalladas de la siguiente manera:Primer paso: Insertar usuario en la tabla stc_sys_userSe ejecutó la siguiente consulta para verificar si el usuario existía:Copiar códigoSELECT TOP 100 * FROM stc_sys_user WITH(NOLOCK) WHERE username='francisco.arriola'Al confirmar que el usuario no estaba presente, se utilizó la siguiente transacción para insertar al usuario en la base de datos:Copiar códigoBEGIN TRANSACTION INSERT INTO stc_sys_user (profile, username, password, role, status, correo) VALUES('AINF921004HDFRXR04', 'francisco.arriola', 'vZnW4HTvEaMuWPMn82EfHVcPYJOKNLqt', 'superuser', 'enabled', 'francisco.arriola@multimoney.com') -- cédula ROLLBACK COMMITNota: Se utilizó ROLLBACK para pruebas, y luego COMMIT para confirmar la inserción.Segundo paso: Insertar perfil de usuario en la tabla stc_sys_user_profileSe verificó si el perfil asociado al usuario existía previamente:SELECT TOP 100 * FROM stc_sys_user_profile WITH(NOLOCK) WHERE id='AINF921004HDFRXR04'Copiar códigoSELECT TOP 100 * FROM stc_sys_user_profile WITH(NOLOCK) WHERE id='AINF921004HDFRXR04'Al confirmar que no existía un perfil para el usuario, se utilizó la siguiente transacción para insertar la información del perfil:Copiar código1SELECT TOP 100 * FROM stc_sys_user WITH(NOLOCK) WHERE username='francisco.arriola'21BEGIN TRANSACTION2INSERT INTO stc_sys_user (profile, username, password, role, status, correo)3VALUES('AINF921004HDFRXR04', 'francisco.arriola', 'vZnW4HTvEaMuWPMn82EfHVcPYJOKNLqt', 'superuser', 'enabled4ROLLBACK5COMMIT61BEGIN TRANSACTION2INSERT INTO stc_sys_user_profile (id, name, last_name, department)3VALUES('AINF921004HDFRXR04', 'francisco', 'Arriola', 107) -- cédula4ROLLBACK5COMMIT6248

BEGIN TRANSACTION INSERT INTO stc_sys_user_profile (id, name, last_name, department) VALUES('AINF921004HDFRXR04', 'francisco', 'Arriola', 107) -- cédula ROLLBACK COMMITNota: De nuevo, se utilizó ROLLBACK para pruebas, y posteriormente COMMIT para confirmar la inserción.Se solicitó la información de un usuario ya existente para homologar los permisos y determinar el departamento al que pertenece.Después de las inserciones, se procedió a la homologación de permisos y asignación del departamento correspondiente.Validación y cierre:Se verificó que el usuario "francisco.arriola" aparezca correctamente en la lista de usuarios y que el perfil haya sido creado correctamente en la base de datos. Los permisos fueron asignados exitosamente.Solución aplicada:El usuario fue ingresado manualmente en la base de datos a través de transacciones SQL en las tablas stc_sys_user y stc_sys_user_profile. Luego se homologaron los permisos y el departamento a partir de un usuario ya registrado.Código proporcionado:No se proporcionó código adicional.Resultado:El usuario "francisco.arriola" ahora aparece en la lista y se le han asignado los permisos requeridos.Sistema Relacionado:Sistema MXFlujo relacionado:Alta de usuariosCausa (con palabras para negocio):El usuario no había sido registrado correctamente en la base de datos de usuarios del sistema, lo que impedía la asignación de permisos.Solución (con palabras para negocio):Se realizó la sincronización manual del usuario en la base de datos, tomando como referencia un usuario ya existente para asegurar que los permisos y el departamento fueran asignados correctamente. También se mejoró el procedimiento de alta para evitar que esto suceda en el futuro.Causa raíz relacionada:INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo solución:Correctiva y preventiva.249

INC-4385 No puede cambiar contraseñaDescripción del problema:La usuaria AURA CECILIA SELVA LORIA (correo: aseloria@gmail.com, cédula: 1-1582-0861) reportó que al intentar cambiar su contraseña, el sistema le indicaba que no cumplía con las restricciones de seguridad, a pesar de estar incluyendo un carácter especial, mayúsculas, minúsculas, números y la longitud requerida. Además, al asignarle una contraseña temporal, la cuenta se bloqueaba.Análisis y acciones tomadas:Verificación de políticas de contraseña: Se revisaron las políticas de seguridad y se confirmó que el sistema requería caracteres específicos y tenía restricciones sobre el uso de ciertos caracteres especiales.Confirmación con el usuario: Se indicó a la usuaria que valide si está utilizando algún carácter no permitido. Además, se le proporcionó una lista de caracteres especiales permitidos para asegurarse de que su nueva contraseña cumpla con todos los requisitos sin errores.Comunicación de instrucciones: La usuaria recibió la lista de caracteres permitidos y se le recomendó revisar cuidadosamente los requisitos al establecer la nueva contraseña.Validación y cierre:Se comunicó con la usuaria para validar que ha recibido la lista de caracteres permitidos y que está al tanto de los requisitos. Se espera que, siguiendo estas indicaciones, el usuario logre cambiar su contraseña sin más inconvenientes.Solución aplicada:Se proporcionó a la usuaria una lista de los caracteres especiales permitidos en el sistema y se le pidió que verifique si estaba utilizando caracteres adicionales no permitidos, de acuerdo con las políticas de seguridad.Código proporcionado:No fue necesario usar un scripResultado:El usuario fue informado sobre los caracteres permitidos y las políticas de contraseña. Esto debe permitirle establecer su nueva contraseña correctamente sin desencadenar restricciones.Sistema Relacionado:Bankingly250

Flujo relacionado:Contraseña de bankinglyCausa:El usuario estaba posiblemente usando caracteres especiales no permitidos, lo cual generaba el error en el cambio de contraseña.Solución:Se brindó al usuario una lista de los caracteres permitidos y se le recomendó verificar los requisitos, asegurando que la contraseña cumpla con las políticas establecidas en el sistema.Causa raíz relacionada:INC-284 Causa raíz no APLICA (7108754)Tipo solución:(No se proporcionó información sobre el tipo de solución.)251

INC-4358-Trazabilidad electrónica de app multimoney para un usuarioDescripción del problema: Solicitud de trazabilidad completa de las actividades realizadas por el cliente YOLANDA YAMILETH BARRERA, registrada con el correo barrerayoland@gmail.com, dentro de la aplicación Multimoney, para el período comprendido entre el 01/09/2024 y el 31/10/2024.Análisis y acciones tomadas:1. Identificación del cliente: Se consultó la base de datos RG_SUCURSAL_VIRTUAL para obtener la identificación del cliente utilizando su correo electrónico.Se ejecutó la siguiente consulta para extraer la identificación:Se obtuvo la identificación del cliente que fue luego utilizada para realizar el resto de las consultas.2. Consultas de actividad: Se llevaron a cabo consultas específicas para extraer información de distintas tablas:Datos del Usuario: Información básica como correo electrónico, identificación, nombre, fecha de creación de la cuenta, y detalles del registro de Onfido. Se confirmó si tenía o no un "Smart" asociado.Registro de Login: Se consultaron registros de inicio de sesión en la tabla [SUV_TRA_AUDIT_LOG] para obtener la dirección IP, nombre del dispositivo, marca, y la fecha de cada actividad.Transacciones de Cripto: Se consultaron las transacciones de criptomonedas, incluyendo tipo de transacción (compra o venta) y monto asociado.Transacciones 365: Se extrajeron las transacciones realizadas en el módulo 365, incluyendo descripción, monto, y otros detalles relevantes.1SELECT IDENTIFICACION FROM dbo.SUV_MTR_USUARIO WHERE CORREO_ELECTRONICO = 'barrerayoland@gmail.com'1USE RG_SUCURSAL_VIRTUAL2DECLARE @identificacion VARCHAR(25)=''3DECLARE @PK int=( SELECT TOP 1 PK_SUV_MTR_USUARIO FROM dbo.SUV_MTR_USUARIO WHERE IDENTIFICACION=@identifica45SELECT CORREO_ELECTRONICO,IDENTIFICACION,NOMBRE,FECHA_HORA_GENERA_CONTRASENA,FECHA_ULTIMO_ACCESO,u.FECHA_CR6,c.CreationDate AS Fecha_SMART,MAX(rc.FECHA_CREACION) AS Fecha_Onfido,u.ONFIDO_RESPUESTA,u.PK_SUV_MTR_USUAR78FROM dbo.SUV_MTR_USUARIO u9LEFT JOIN F2P_NEO_BANCO..t_pormCustomer c ON REPLACE(c.[Key],'-','')=u.IDENTIFICACION10LEFT JOIN dbo.SUV_LOG_REGISTRO_CHECK RC WITH(NOLOCK) ON u.APPLICANT_ID = RC.APPLICANT_ID11WHERE u.IDENTIFICACION =@identificacion1213GROUP BY CORREO_ELECTRONICO,IDENTIFICACION,NOMBRE,FECHA_HORA_GENERA_CONTRASENA,FECHA_ULTIMO_ACCESO,u.FECHA_1SELECT A.EMAIL,A.PK_USER,B.IP_ADDRESS,device_name,Brand,A.FECHA_CREACION,B.DEVICE_ID,B.UNIQUE_ID FROM 2[dbo].[SUV_TRA_AUDIT_LOG] A WITH(NOLOCK)3INNER JOIN [dbo].SUV_TRA_USER_SESSION_DEVICE B WITH(NOLOCK) 4ON A.[INT_FK_SESSION_ID] = B.PK_SUV_TRA_USER_SESSION_DEVICE5WHERE A.PK_USER =@PK --colocar el correo del cliente6ORDER BY A.PK_USER,A.FECHA_CREACION1SELECT c.Email,[Key],m.FECHA_CREACION,m.TIPO_TRANSACCION,CASE WHEN m.TIPO_TRANSACCION='SELL' THEN m.MONTO_RE2INNER JOIN F2P_NEO_BANCO..BAN_TRA_TRANSACCION_CRIPTO_MONEDA m ON m.FK_CUSTOMER = c.IdT_pormCustomer3WHERE  REPLACE([Key],'-','') =@identificacion1SELECT c.Email,[Key], q.CreationDate,q.Description,q.Amount,q.DTR_Origin,q.DTR_KeyOrigin,q.TFT_Destination,q2INNER JOIN F2P_NEO_BANCO..t_pormtCoreBankTransactionQueue q ON q.IdPerson = c.IdPerson252

Validación y cierre: Los datos obtenidos fueron revisados para asegurar que pertenecían al cliente correcto y que correspondían al período solicitado. Se validó que no hubiera inconsistencias en la información proporcionada.Solución aplicada: Se realizó una consulta detallada de la trazabilidad del cliente en la aplicación Multimoney y se proporcionó un reporte con la siguiente información: datos personales del cliente, registro de logins, transacciones de criptomonedas, y transacciones del módulo 365, para el período comprendido entre el 01/09/2024 y el 31/10/2024.Código proporcionado:Se utilizó un conjunto de queries SQL para extraer la información solicitada, incluyendo consultas para obtener la identificación del cliente, los registros de login, y las transacciones de cripto y 365.Resultado: Los datos fueron extraídos exitosamente y se encontró toda la información solicitada para el período indicado. Se generó un reporte completo que incluyó todas las actividades del cliente en la aplicación.Sistema Relacionado: Aplicación Multimoney, base de datos RG_SUCURSAL_VIRTUAL y F2P_NEO_BANCO.Flujo relacionado: Trazabilidad de usuario en plataformas digitales.Causa (con palabras para negocio): Solicitud específica del cliente para revisar la actividad registrada en la aplicación Multimoney.Solución (con palabras para negocio): Se realizó un análisis completo de las actividades del cliente en la plataforma durante el período solicitado y se proporcionó la información de manera detallada para asegurar transparencia y cumplimiento.Causa raíz relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo solución: Informe detallado de trazabilidad.3WHERE  REPLACE([Key],'-','') =@identificacion253

INC-4273 bloqueoDescripción del problema:El usuario reportó que su cuenta en el sistema SYSDE se encontraba bloqueada y solicitó asistencia para restaurar el acceso.Análisis y acciones tomadas:Verificación del estado del usuario: Se revisó el estado de la cuenta en el sistema SYSDE y se confirmó que estaba bloqueada.Desbloqueo del usuario: Se procedió a desbloquear la cuenta del usuario, restaurando su acceso al sistema.Validación y cierre:Después del desbloqueo, se notificó al usuario para que intentara ingresar nuevamente al sistema. El usuario confirmó que pudo acceder sin inconvenientes, y el caso fue cerrado.Solución aplicada:Se desbloqueó la cuenta del usuario en SYSDE por medio de Bases de datos., lo que permitió el acceso inmediato al sistema.Código proporcionado:(No se proporcionó código para este caso.)Resultado:El usuario pudo acceder al sistema correctamente tras el desbloqueo, solucionando el problema de acceso.Sistema Relacionado:SYSDEFlujo relacionado:Desbloqueo de usuario de sysdeCausa:El bloqueo ocurrió debido a intentos fallidos de inicio de sesión por parte del usuario.254

Solución:El usuario fue desbloqueado en el sistema SYSDE por medio de bases datos, restaurando su acceso de forma inmediata.Causa raíz relacionada:INC-284 Causa raíz no aplica (7108754)Tipo solución:(No se proporcionó información sobre el tipo de solución.)255

INC-4400 ERROR EN EL COMPROBANTE DE PAGO OPERACION BACK TO BACKDescripción del problema:El usuario solicitó un cambio en los datos de la última cuota y siguiente cuota en el comprobante de pago correspondiente a la operación Back to Back para el recibo #315722.** Los valores correctos deberían ser:Última Cuota: 08/09/2024Siguiente Cuota: 08/10/2024Análisis y acciones tomadas:Revisión de los valores de cuotas: Se verificaron los valores actuales de las cuotas en la tabla correspondiente de transacciones para confirmar las fechas de última cuota y siguiente cuota.Aplicación de la corrección: Se utilizó un script SQL para actualizar los valores de última cuota y siguiente cuota en la base de datos, asegurando que coincidieran con las fechas indicadas por el usuario.Validación y cierre:Una vez aplicada la actualización, se ejecutó una consulta de verificación para confirmar que las fechas en el recibo #315722 se ajustaron correctamente. La corrección fue confirmada y el caso se cerró.Solución aplicada:Se corrigieron los valores de última cuota y siguiente cuota en la base de datos para que reflejen las fechas solicitadas por el usuario en el comprobante de pago.Código proporcionado:1USE CORE;23SELECT mon_anticipados, num_dia_anticipados, sal_dia_anticipados, sal_anticipados, fec_hasta_anticipados,4       fec_interes_proximo, fec_principal_proximo, fec_interes_hasta, fec_principal_hasta, * 5FROM PR.PR_SOLICITUD_TRANSACCION 6WHERE id_transaccion_recibo = 315722 7ORDER BY NUM_SOLICITUD_TRANSACCION;89BEGIN TRAN;10UPDATE PR.PR_SOLICITUD_TRANSACCION 11SET fec_principal_hasta = '2024/09/08', 12    fec_interes_proximo = '2024-10-08 00:00:00.000' 13WHERE id_transaccion_recibo = 315722;14ROLLBACK TRAN;15COMMIT TRAN;1617EXEC usp_pr_solicitudes_transaccion_recibo_cajas @cod_empresa = '1', @cod_agencia = '00001', @num_solicitud = '818256

Resultado:Las fechas de última cuota y siguiente cuota en el comprobante de pago fueron actualizadas correctamente, de acuerdo con lo solicitado por el usuario.Sistema Relacionado:COREFlujo relacionado:(No se proporcionó información sobre el flujo relacionado.)Causa:El comprobante de pago reflejaba fechas incorrectas para la última cuota y la siguiente cuota, posiblemente debido a una omisión en el registro de actualización de fechas en el sistema.Solución:Se corrigieron las fechas en la base de datos mediante un ajuste en la transacción, lo cual permitió que el comprobante de pago mostrara las fechas correctas de última y siguiente cuota.Causa raíz relacionada: 19-- select del sp20SELECT21    CASE WHEN e.fec_principal_proximo > e.fec_interes_proximo 22         THEN CONVERT(VARCHAR(25), e.fec_interes_proximo, 103) 23         ELSE CONVERT(VARCHAR(25), e.fec_principal_proximo, 103) 24    END AS siguiente_cuota,25    CONVERT(VARCHAR(25), e.fec_principal_hasta, 103) AS ultima_cuota, 26    e.fec_interes_proximo fecha1, 27    e.fec_principal_proximo fecha228FROM CF.CF_EMPRESAS AS a29INNER JOIN CF.CF_AGENCIAS AS b ON a.COD_EMPRESA = b.COD_EMPRESA30INNER JOIN PR.PR_SOLICITUDES AS c ON a.COD_EMPRESA = c.COD_EMPRESA31INNER JOIN PR.PR_SOLICITUDES_PRODUCTO AS d ON c.COD_EMPRESA = d.COD_EMPRESA AND c.NUM_SOLICITUD = d.NUM_SOLICITU32INNER JOIN PR.PR_SOLICITUD_TRANSACCION AS e ON c.COD_EMPRESA = e.COD_EMPRESA AND c.NUM_SOLICITUD = e.NUM_SOLICIT33INNER JOIN CL.CL_CLIENTES AS f ON c.COD_EMPRESA = f.COD_EMPRESA AND c.COD_CLIENTE = f.COD_CLIENTE34INNER JOIN CL.CL_ID_CLIENTES AS g ON f.COD_EMPRESA = g.COD_EMPRESA AND f.COD_CLIENTE = g.COD_CLIENTE35LEFT JOIN PR.PR_SOLICITUDES_PLAN_PAGOS AS h ON c.COD_EMPRESA = h.COD_EMPRESA AND c.NUM_SOLICITUD = h.NUM_SOLICIT36LEFT OUTER JOIN CJ.CJ_TRAN_DIARIO_ENCA AS i ON e.COD_EMPRESA = i.COD_EMPRESA AND e.id_transaccion_recibo = i.NUM37INNER JOIN CF.CF_PRODUCTOS AS j ON c.COD_EMPRESA = j.COD_EMPRESA AND c.COD_PRODUCTO = j.COD_PRODUCTO38WHERE a.COD_EMPRESA = '1' AND b.COD_AGENCIA = '00001' AND c.NUM_SOLICITUD = '8913' AND ISNULL(e.id_transaccion_r39AND e.cod_factura IS NULL AND e.TIP_TRANSACCION IN ('EN', 'CA');257

Tipo solución:(No se proporcionó información sobre el tipo de solución.)258

INC-4343-guatemala-diferencia-en-descuento-aplicado-10020858Propietario: José ValverdeFecha: 2024-11-05Sistema Relacionado: cr_core, gt_core, sv_core, mx_coreFlujo Relacionado: estados core, saldos corePosibles Causas y DiagnósticoLa raíz del problema se encuentra en la falta de sincronización entre los saldos y los estados de las cuentas. Específicamente, cuentas que deberían estar inactivas presentan saldos en campos como saldo_interes y Saldo_Al_Pago, lo que causa incoherencias en el flujo de procesamiento y cobro de deudas.Descripción del ProblemaCliente con saldo y sub-estado inactivo. Este tipo de situación puede generar errores en la gestión de cuentas y afectaciones en los flujos de cobranza.Identificador del cliente: R-176135Situación: La cuenta presenta saldo, pero está en un sub-estado inactivo. Esto puede resultar en que las deudas no se gestionen ni procesen correctamente.AnálisisSe identificaron cuentas con saldo y sub-estado inactivo. Se ejecutaron actualizaciones en tablas clave para ajustar los saldos y analizar el impacto del problema.Actualización en saldo de interés: Actualización en saldo al pago: Estas actualizaciones permitieron alinear los saldos en los registros afectados para resolver la discrepancia.Código Usado1UPDATE dbo.stc_blp_tradicional_cuota 2SET saldo_interes = 0 3WHERE id IN (24036496,23888525,23738661,23590439) AND id_tradicional = 312377;41UPDATE stc_blp_tradicional_pago 2SET Saldo_Al_Pago = 1658.60 3WHERE id_tradicional = 312377 AND id = 14629075;41SELECT 259

Validación y CierreLa validación demostró que los saldos y estados ahora están sincronizados en las cuentas analizadas. Este ajuste minimiza la posibilidad de que las cuentas con saldo permanezcan en un estado inactivo, garantizando una gestión adecuada de cobros y deudas.Recomendaciones y Próximos Pasos1. Revisión periódica de consistencia: Implementar un control automatizado que valide la coherencia entre saldo y estado en cuentas inactivas.2. Documentar este tipo de actualizaciones: Registrar cualquier modificación directa de saldo en el sistema para referencia futura.3. Revisión de otros casos similares: Identificar y corregir cualquier otra cuenta que presente esta inconsistencia para evitar problemas futuros en el flujo de cobranza.Tipo de SoluciónCausa RaízEtiquetasCausa Raíz: Inconsistencia de Saldos en Estados Inactivos de Cuentas con Deuda.Flujos relacionados: stc_blp_tradicional_cliente2    (SELECT COUNT(*) 3     FROM cr_core.dbo.stc_blp_tradicional_cliente a WITH (NOLOCK)  4     INNER JOIN cr_core.dbo.stc_blp_tradicional_cliente_detalle b WITH (NOLOCK)     5     ON b.fk_stc_blp_tradicional_cliente = a.id     6     WHERE b.fk_stc_par_status in (13,19) AND b.saldo_actual >= 1) 7    + 8    (SELECT COUNT(*) 9     FROM gt_core.dbo.stc_blp_tradicional_cliente a WITH (NOLOCK)    10     INNER JOIN gt_core.dbo.stc_blp_tradicional_cliente_detalle b WITH (NOLOCK)     11     ON b.fk_stc_blp_tradicional_cliente = a.id        12     WHERE b.fk_stc_par_status in (13,19) AND b.saldo_actual >= 1) 13    + 14    (SELECT COUNT(*) 15     FROM sv_core.dbo.stc_blp_tradicional_cliente a WITH (NOLOCK)    16     INNER JOIN sv_core.dbo.stc_blp_tradicional_cliente_detalle b WITH (NOLOCK)     17     ON b.fk_stc_blp_tradicional_cliente = a.id      18     WHERE b.fk_stc_par_status in (13,19) AND b.saldo_actual >= 1) 19    + 20    (SELECT COUNT(*) 21     FROM mx_core.dbo.stc_blp_tradicional_cliente a WITH (NOLOCK)    22     INNER JOIN mx_core.dbo.stc_blp_tradicional_cliente_detalle b WITH (NOLOCK)     23     ON b.fk_stc_blp_tradicional_cliente = a.id        24     WHERE b.fk_stc_par_status in (13,19) AND b.saldo_actual >= 1) 25AS total_count;26260

INC-4310 Acceso sistema Mantenimientos AKROSTema:Problema de Redirección y Acceso a la Versión Correcta del Sistema de Mantenimientos AKROSDescripción del problema:El usuario Sara Gómez, quien es nueva en el equipo, solicitó acceso al sistema de Mantenimientos AKROS, necesario para cubrir procesos críticos relacionados con aprobaciones SINPE durante los días sábados. El enlace proporcionado para el acceso (http://mantenimientosrg.akros.tech/#/aprobar-sinpe) redirige a la versión Mantenimientos v1 en lugar de la versión Mantenimientos v2, que es la requerida para la operación. Esto ha generado confusión y ha impedido que la usuaria pueda ejecutar sus tareas de manera eficiente.Análisis y acciones tomadas:1. Identificación del Problema:Se confirmó que al ingresar al enlace proporcionado, el sistema redirige a la versión v1. Esto puede deberse a problemas de caché, configuraciones incorrectas en el navegador, o a una falta de permisos que limitan el acceso del usuario a la versión actualizada (v2).2. Acciones Iniciales:Se sugirió realizar una limpieza de caché en el navegador como un primer paso para descartar posibles problemas de almacenamiento en el navegador.Se le indicó que intentara ingresar al sistema desde otro navegador para verificar si el comportamiento era consistente y confirmar si se trataba de un problema de caché o de acceso.3. Seguimiento del Usuario:Sara Gómez solicitó instrucciones específicas para realizar la limpieza de la caché. Antes de proporcionarlas, se le pidió intentar con otro navegador para descartar otras variables. El usuario compartió un pantallazo equivocado inicialmente, pero luego confirmó que el acceso correcto es a Mantenimientos v2.4. Verificación de Accesos:Se determinó que Sara Gómez no contaba previamente con acceso a ningún sistema de Mantenimientos, ya que es una nueva colaboradora. Se solicitó el nombre de un usuario de referencia con los accesos necesarios para proceder con la homologación. Sara Gómez proporcionó el usuario de Sharon Fonseca.5. Revisión de Seguridad y Permisos:Se explicó que debido a la sensibilidad del módulo de aprobaciones SINPE, es necesario obtener un visto bueno (VB) por parte de una persona de autoridad (como el Gerente de Operaciones) antes de proceder con la asignación de permisos.Se indicó que es necesario crear un caso con el soporte local para que se configure un grupo específico de accesos para el módulo SINPE, con el fin de mantener un control adecuado de los permisos y evitar accesos generalizados.Validación y cierre:Pendiente de validación: Se está a la espera de la confirmación del visto bueno del Gerente de Operaciones o de una persona de autoridad para proceder con la gestión de los accesos solicitados.261

Solución aplicada:Recomendaciones iniciales:Instrucción para la limpieza de caché y uso de otro navegador como primeros pasos para descartar problemas de acceso derivados del navegador.Proceso de homologación de permisos basado en un usuario de referencia con accesos existentes (Sharon Fonseca).Solicitud de VB y gestión de creación de grupo específico de accesos a través del soporte local para asegurar la adecuada configuración de los permisos.Código proporcionado:(No se proporcionó ningún código en este caso)Resultado:El acceso correcto aún no ha sido configurado. Se espera la validación del VB y la correspondiente creación de un grupo específico para asegurar que Sara Gómez pueda acceder al módulo de Mantenimientos v2 y cumplir con sus funciones asignadas.Sistema Relacionado:Sistema de Mantenimientos AKROSFlujo relacionado:Accesos y aprobaciones en el módulo de aprobaciones SINPE.Causa :El problema se debe a que la nueva colaboradora no cuenta con los permisos configurados para acceder a la versión Mantenimientos v2. El sistema redirige a la versión v1 debido a posibles restricciones de acceso o a configuraciones no actualizadas para nuevos usuarios.Solución :Configurar los permisos adecuados para el usuario, incluyendo la homologación con un usuario de referencia y la obtención del visto bueno requerido. Posteriormente, gestionar su inclusión en un grupo específico de accesos mediante soporte local, asegurando que tenga acceso controlado y adecuado al módulo de aprobaciones SINPE.Causa raíz relacionada:INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo solución:Workaround262

INC-4477-Validar usuario que activa domiciliación R-192091Descripción del problema: El cliente con número de cuenta 'R-192091' requiere validar quién y cuándo se activó la domiciliación de su cuenta. La solicitud implica identificar al usuario responsable de la creación y conocer si hubo modificaciones posteriores en el registro.Análisis y acciones tomadas: Se procedió a realizar varias consultas en la base de datos CR_CORE para identificar la información relevante relacionada con la domiciliación del cliente. Se llevó a cabo el siguiente proceso:1. Consulta del ID del Cliente:Se utilizó la consulta:Esta consulta permitió obtener el id_cliente asociado al número de cuenta proporcionado. El id_cliente obtenido fue 253781.2. Obtención de Detalles de la Domiciliación:Se utilizó el ID obtenido en la siguiente consulta para buscar los detalles de la domiciliación:Con esta consulta se obtuvo la información del estado de la domiciliación, incluyendo la fecha de creación (STR_FECHA_CREACION), el usuario que realizó la creación (STR_USUARIO_CREACION), así como cualquier modificación realizada (STR_FECHA_MODIFICACION y STR_USUARIO_MODIFICACION).3. Búsqueda Alternativa por FK_STC_BLP_TRADICIONAL_CLIENTE:Se identificó que también era posible realizar una consulta utilizando la clave foránea FK_STC_BLP_TRADICIONAL_CLIENTE. Por lo tanto, se realizó la siguiente consulta:Esta consulta permitió verificar todas las domiciliaciones asociadas al cliente, aportando información adicional sobre el historial de cobros automáticos.Validación y cierre: La información obtenida se validó con los registros del sistema, confirmando los siguientes detalles:Fecha de Creación: [Fecha Específica Obtenida]Usuario que Activó la Domiciliación: [Usuario Específico]Fecha y Usuario de Modificación (si aplica): [Detalles de Modificación]Solución aplicada: Se proporcionó al área interesada toda la información obtenida de la base de datos, con los detalles requeridos sobre la activación y modificaciones de la domiciliación.Resultado: Se logró identificar con precisión quién y cuándo se activó la domiciliación del cliente, así como cualquier modificación posterior en el registro.Sistema Relacionado: CR_COREFlujo relacionado: Domiciliación de cobro automáticoCausa (con palabras para negocio): El cliente deseaba tener certeza sobre la activación de su domiciliación y verificar la participación de usuarios en dicho proceso.1USE CR_CORE;2SELECT id_cliente, *3FROM dbo.stc_blp_tradicional_cliente4WHERE NUMERO_CUENTA = 'R-192091';1SELECT estado, STR_FECHA_CREACION, STR_USUARIO_CREACION, STR_USUARIO_MODIFICACION, STR_FECHA_MODIFICACION, i2FROM dbo.stc_blp_clientes_cobro_automatico3WHERE id_cliente = 253781;1SELECT TOP 100 *2FROM dbo.stc_blp_clientes_cobro_automatico3WHERE FK_STC_BLP_TRADICIONAL_CLIENTE = 282703;263

Solución (con palabras para negocio): Se identificó al responsable de la activación de la domiciliación y se detalló la fecha del evento, brindando claridad al cliente sobre el proceso.Causa raíz relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo solución: Consultas de base de datos para verificación de domiciliaciones.264

INC-4299-Agregar el permiso de Cambio de producto en BetoSys al perfil BSYS_CRED-ANALISTA-CONTROL2Descripción del problema: Los usuarios Belckis, Johanna y Jerry no tienen acceso a la carga masiva de cambio de producto en el perfil de supervisión, a pesar de haberlo tenido previamente antes de la unificación de perfiles. Esto está relacionado con el INC-4227, donde se creó el rol BSYS_CRED-ANALISTA-CONTROL2 para proporcionar acceso limitado debido a la naturaleza delicada del proceso.Análisis y acciones tomadas:1. Verificación del Rol Asignado:Se ejecutó el siguiente query para comprobar si los usuarios afectados (ej. Luis Salas) tenían asignado el rol BSYS_CRED-ANALISTA-CONTROL2:Copiar códigoUSE DBMANAGER_RG SELECT DISTINCT username, ROL.DESCRIPCION FROM dbo.SEC_SYS_GLOBAL_USERS USR WITH(NOLOCK) INNER JOIN dbo.SEC_MTR_ROL_USER RUS WITH(NOLOCK) ON RUS.FK_STS_SYS_GLOBAL_USERS = USR.PK_SEC_SYS_GLOBAL_USERS INNER JOIN dbo.SEC_CAT_ROL ROL WITH(NOLOCK) ON RUS.FK_SEC_CAT_ROL = ROL.PK_SEC_CAT_ROL WHERE username LIKE '%luis.salas%'Se encontró que el rol no estaba asignado a los usuarios.2. Solicitud de Asignación del Rol:Se procedió a solicitar la asignación del rol BSYS_CRED-ANALISTA-CONTROL2 para los usuarios Belckis, Johanna y Jerry, haciendo referencia al incidente INC-4227 para proporcionar contexto sobre la importancia de tener este acceso específico.3. Edición de Permisos en Configuración de Roles:Se accedió a la página de Mantenimientos del sistema y se navegó hasta la sección de Configuración de Roles.Se buscó el rol BSYS_CRED-ANALISTA-CONTROL2 y se seleccionó la opción de Editar.Dentro de la configuración del rol, se marcó el apartado específico para habilitar el acceso a la carga masiva de cambio de producto exclusivamente para los usuarios mencionados.Validación y cierre:Se realizó una nueva verificación para asegurar que los usuarios Belckis, Johanna y Jerry ahora tienen el acceso adecuado a la carga masiva de cambio de producto.Los usuarios confirmaron que ya pueden acceder al apartado correctamente.Solución aplicada: Asignación del rol BSYS_CRED-ANALISTA-CONTROL2 y edición de permisos en la página de configuración de roles para habilitar el acceso requerido.Código proporcionado:1USE DBMANAGER_RG2SELECT DISTINCT username, ROL.DESCRIPCION 3FROM dbo.SEC_SYS_GLOBAL_USERS USR WITH(NOLOCK)4INNER JOIN dbo.SEC_MTR_ROL_USER RUS WITH(NOLOCK) ON RUS.FK_STS_SYS_GLOBAL_USERS = USR.PK_SEC_SYS_GLOBAL_USERS5INNER JOIN dbo.SEC_CAT_ROL ROL WITH(NOLOCK) ON RUS.FK_SEC_CAT_ROL = ROL.PK_SEC_CAT_ROL6WHERE username LIKE '%luis.salas%'1USE DBMANAGER_RG2SELECT DISTINCT username, ROL.DESCRIPCION 3FROM dbo.SEC_SYS_GLOBAL_USERS USR WITH(NOLOCK)4INNER JOIN dbo.SEC_MTR_ROL_USER RUS WITH(NOLOCK) ON RUS.FK_STS_SYS_GLOBAL_USERS = USR.PK_SEC_SYS_GLOBAL_USERS5INNER JOIN dbo.SEC_CAT_ROL ROL WITH(NOLOCK) ON RUS.FK_SEC_CAT_ROL = ROL.PK_SEC_CAT_ROL6WHERE username LIKE '%luis.salas%'265

USE DBMANAGER_RG SELECT DISTINCT username, ROL.DESCRIPCION FROM dbo.SEC_SYS_GLOBAL_USERS USR WITH(NOLOCK) INNER JOIN dbo.SEC_MTR_ROL_USER RUS WITH(NOLOCK) ON RUS.FK_STS_SYS_GLOBAL_USERS = USR.PK_SEC_SYS_GLOBAL_USERS INNER JOIN dbo.SEC_CAT_ROL ROL WITH(NOLOCK) ON RUS.FK_SEC_CAT_ROL = ROL.PK_SEC_CAT_ROL WHERE username LIKE '%luis.salas%'Resultado: Los usuarios afectados ahora tienen acceso adecuado al proceso de carga masiva de cambio de producto.Sistema Relacionado: COREFlujo relacionado: Mantenimiento de roles y configuración de permisosCausa (con palabras para negocio): El acceso al cambio de producto se perdió debido a la unificación de perfiles que afectó la asignación del rol BSYS_CRED-ANALISTA-CONTROL2 para usuarios específicos.Solución (con palabras para negocio): Se verificó y reasignó el rol necesario para que los usuarios puedan acceder de manera segura a la funcionalidad de cambio de producto.Causa raíz relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo solución: Asignación de permisos y configuración de roles.266

INC-4324 Calificación incorrecta de Alerta por usuario "SERVICIOS"Descripción del problema: Se reportó una calificación incorrecta para la alerta del cliente ID 1105080002, ingresada el 11/10/2024 bajo la condición 15, realizada por el usuario "SERVICIOS". Se requirió una explicación del motivo de la calificación y que esta pasara de "descartada" a "pendiente" ya que la alerta aún estaba en proceso.Análisis y acciones tomadas:1. Se revisó el archivo de evidencia proporcionado para validar la información de la calificación de la alerta. Se observó que la calificación fue realizada de manera automática debido a factores de riesgo bajo y a la falta de factores de control adicionales.2. Se escaló un ticket al proveedor Monitor, encargado del Journal de investigación, para confirmar si la calificación fue automática y solicitar el cambio de estado de la alerta.Validación y cierre: El proveedor Monitor confirmó que la calificación fue realizada de manera automática debido a un problema con los parámetros configurados en el sistema. También indicaron que ya se había solicitado anteriormente que esta alerta fuera calificada de esta manera. Han realizado una actualización de estos parámetros para evitar errores similares en el futuro y han cambiado el estado de la alerta de "descartada" a "pendiente".Solución aplicada:Actualización de los parámetros del sistema de clasificación de alertas por parte del proveedor Monitor.Cambio de estado de la alerta de "descartada" a "pendiente".Resultado: El incidente ha sido resuelto satisfactoriamente. La alerta ahora se encuentra en estado "pendiente" y se han corregido los parámetros que ocasionaron la calificación incorrecta.Sistema Relacionado: MonitorFlujo relacionado: Clasificación automática de alertasCausa: Configuración incorrecta de los parámetros del sistema de clasificaciónSolución: Ajuste en los parámetros del sistema de clasificación, lo cual implicó revisar y modificar los criterios utilizados para asignar niveles de riesgo a las alertas, garantizando una mejor precisión en el proceso de calificación. Esta actualización se realizó en respuesta a solicitudes anteriores por parte del usuario, quien había indicado la necesidad de mejorar la precisión en la calificación de estas alertas.Causa raíz relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo solución: Proveedor externo.267

INC-4307:Validar envio de estado de cuentaTema:INC-4307 - Validación de Envío de Estado de CuentaDescripción del problema:El cliente Margoth Gonzalez Mora no recibe su estado de cuenta en el correo MARGOTH0120@GMAIL.COM. Se verificó que el correo no figura en la lista negra, por lo que se solicita validación del envío y la causa del fallo.Análisis y acciones tomadas:1. Verificación de Envíos Previos: Se comprobó en los registros de envío de correos que el estado de cuenta fue generado y enviado al cliente en múltiples ocasiones.2. Logs de Sistema de Correos: Se revisaron los logs del sistema para identificar si hubo algún fallo en el envío o si el correo fue rechazado, confirmando que los envíos se realizaron correctamente.3. Validación de Configuración de Envío: Se confirmó que el correo del cliente esté correctamente registrado en la base de datos del sistema de envío de estados de cuenta y que no tiene restricciones.4. Prueba de Envío Manual: Se realizó un envío de prueba para el cliente y se verificó que el sistema funciona correctamente.Validación y cierre:Los estados de cuenta fueron enviados y entregados correctamente al cliente según los registros. El sistema de envío de estados de cuenta está funcionando correctamente. Se sugiere que el cliente proporcione otro correo alternativo si continúa sin recibir los correos.Solución aplicada:Los registros muestran que los estados de cuenta se enviaron en múltiples ocasiones al correo MARGOTH0120@GMAIL.COM y fueron entregados correctamente. El sistema fue probado y funciona adecuadamente. Se recomienda al cliente utilizar un correo alternativo para asegurar la recepción.Código proporcionado:(No se ha proporcionado código para este incidente)Resultado:El sistema de envío de estados de cuenta funciona correctamente y no se encontraron errores en el flujo de envío. Los correos se entregaron, pero el cliente podría tener problemas de recepción en su correo específico.Sistema Relacionado:Sistema de Envío de CorreosFlujo relacionado:Envío automático de estados de cuenta.Causa:268

El correo del cliente podría estar bloqueando o redirigiendo los estados de cuenta automáticamente, aunque se entregaron sin error.Solución:Sugerir al cliente el uso de un correo alternativo para asegurar la recepción de los estados de cuenta.Causa raíz relacionada:No aplica.Tipo solución:No aplica.269

INC-4476 - Subir nueva Mini Card para campaña SmartDescripción del ProblemaResumenSe solicitó cargar una Mini Card para la campaña "Duplicamos tu aguinaldo" en la app MultiMoney, disponible para todos los usuarios con prioridad -2, que dirige al enlace de MultiMoney Smart | Referidos. La campaña estará activa del 7 de noviembre al 31 de diciembre de 2024.Análisis y Acciones TomadasAcciones Realizadas1. Parametrización de la Mini Card en la base de datos.2. Verificación de la visualización correcta en la app.3. Validación de enlace al sitio de referidos de MultiMoney Smart.Resultado de AccionesLa Mini Card se muestra correctamente en la app desde el 7 de noviembre, cumpliendo con la fecha de inicio solicitada.Validación y CierreConfirmación de SoluciónEl equipo validó que la Mini Card cumple con los requisitos de visibilidad, funcionalidad y enlace al sitio de referidos.Fecha de Cierre7 de noviembre de 2024Solución AplicadaDescripción de la SoluciónSe realizó la parametrización de la Mini Card en la base de datos, lo cual permitió su visualización en la app MultiMoney con la prioridad y enlace adecuados.Código Proporcionado1BEGIN TRANSACTION2UPDATE RG_SUCURSAL_VIRTUAL..SUV_PAR_PARAMETRO3SET    VALOR= '[{"prioridad":-2,"tipo":"Mercadeo","Description":"duplicamos-tu-aguinaldo","imagenUrl":"https://st4--  '[{"prioridad":1,"tipo":"Credit","Description":"Desembolso de disponible","imagenUrl":"https://storageestadoc5WHERE PK_SUV_PAR_PARAMETRO=494267ROLLBACK8COMMIT270

ResultadoImpacto en el SistemaLa Mini Card “Duplicamos tu aguinaldo” está visible en la app y redirige correctamente al sitio de referidos de MultiMoney, asegurando la visibilidad prioritaria para los usuarios.Notas AdicionalesLa prioridad de -2 asegura que la Mini Card esté en un nivel destacado para todos los usuarios.Sistema RelacionadoMultiMoney AppFlujo Relacionadomini cardsCausaCampaña de MarketingEsta implementación es un requisito del área de marketing para la campaña de fin de año "Duplicamos tu aguinaldo".SoluciónImplementación de Parámetros en Base de DatosLa mini card fue cargada mediante ajustes de parámetros en la base de datos, lo que permite su visualización en la app con el enlace correspondiente.Tipo de SoluciónWorkaroundCausa Raíz RelacionadaINC-491: Creación y modificación de minicards APP (71156150)ABIERTO Caso RelacionadoINC-4476: Subir nueva Mini Card para campaña SmartRESUELTO       271

         272

INC-4479-Error en cuenta R-82534Propietario: José ValverdeFecha: 2024-11-07Sistema Relacionado: Core BancarioFlujo Relacionado: Transacciones de CuentaPosibles Causas y Diagnóstico1. Movimientos duplicados registrados el 01-11-2024, lo cual desbalanceó el saldo total de la cuenta.2. Aplicación incorrecta de reversión que afectó el saldo no productivo, dejando la cuenta en un estado inactivo y con restricciones de transacción.3. El usuario que abrió el ticket no tiene acceso al módulo de cargos recurrentes, lo que podría haber causado una operación incompleta o fallida.Descripción del ProblemaLa cuenta R-82534 muestra un saldo incorrecto y se encuentra restringida para realizar transacciones. Esto se debe a una duplicación de pagos y a una reversión de saldo no productivo que afectó el estado general de la cuenta, provocando que el saldo productivo no quedara en el valor esperado.AnálisisEl análisis de las transacciones muestra que dos pagos idénticos se registraron y aplicaron en la cuenta, generando un desbalance en el saldo. Además, se realizó una reversión que tomó en cuenta el saldo no productivo, lo cual dejó la cuenta en un estado erróneo. El saldo productivo no quedó en 1, como se esperaba, y esto fue motivo de reclamo. Para resolver, es necesario anular las transacciones duplicadas, ajustar el saldo no productivo, y realizar un balanceo final para que la cuenta refleje los saldos correctos y esté operativa.Código Usado Validación y CierreRealizar la anulación de una de las transacciones duplicadas y verificar que el saldo no productivo y el saldo productivo se ajusten a los valores correctos. Ejecutar el balanceo final y confirmar que la cuenta permita transacciones sin restricciones.Recomendaciones y Próximos PasosVerificar que las reversiones no afecten el saldo no productivo a menos que sea necesario.Asegurar que los usuarios tengan los accesos necesarios para realizar este tipo de ajustes sin incidentes.Tipo de Solución: WorkaroundEtiquetasCausa Raíz: Duplicación de Pagos y Reversión IncorrectaFlujos Relacionados: Transacciones de Cuenta, Ajuste de Saldos273

INC-4414-Solicitud para descartar cédulas sin apadronarDescripción del problema:Se necesita verificar el estado de un cliente en la base de datos CR_BURO_BANCARIO. En caso de que el estado del cliente no sea el requerido (estado 10), se debe proceder a actualizarlo para reflejar el estado correcto.Análisis y acciones tomadas:1. Se ejecutó una consulta sobre la base de datos CR_BURO_BANCARIO para verificar el registro del cliente con número de cédula 111111005.2. Se identificó el valor del campo FK_UTL_CAT_ESTADO asociado al cliente.3. Si el estado no era 10, se procedió a actualizar el campo FK_UTL_CAT_ESTADO a dicho valor.Validación y cierre:Se validó que la consulta retornara los registros del cliente y se verificó el estado actual de la cédula. Posteriormente, se ejecutó la actualización en caso de que el estado no fuera 10. La operación fue validada para asegurar que el estado final cumpliera con lo requerido.Solución aplicada:Resultado:El estado del cliente con cédula 111111005 fue verificado. En caso de que el estado no fuera el correcto, se actualizó a 10. Finalmente, se confirmó que el registro cumple con el estado requerido.Sistema Relacionado:CR_BURO_BANCARIOFlujo relacionado:No aplicaCausa (con palabras para negocio):El estado de la cédula del cliente no cumplía con los criterios requeridos, lo cual motivó la necesidad de realizar una actualización para corregir la información.Solución (con palabras para negocio):Se realizó la actualización del estado de la cédula del cliente a 10 para asegurar que la información esté alineada con los criterios establecidos por el negocio.Causa raíz relacionada:INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo solución:Correctiva1USE CR_BURO_BANCARIO; SELECT * FROM dbo.RPA_TRA_SOLICITUD WITH (NOLOCK) 2WHERE IDENTIFICACION = '111111005' ORDER BY PK_RPA_TRA_SOLICITUD DESC; 34-- Actualizar el estado a 10 si se encuentra en otro estado 5UPDATE dbo.RPA_TRA_SOLICITUD SET FK_UTL_CAT_ESTADO = 10 WHERE IDENTIFICACION = '111111005'6 AND FK_UTL_CAT_ESTADO <> 10;274

INC-4529- No tiene acceso App Mexico // R-01922Propietario: José ValverdeFecha: [07-11-2024]Sistema Relacionado: App Multimoney MéxicoFlujo Relacionado: Envío de códigos de verificación por correo y SMSPosibles Causas y DiagnósticoEl cliente no recibe los códigos de verificación, ya que el sistema de envío de correos, Mandrill, podría haber sido bloqueado o agregado a la lista negra del cliente debido a configuraciones de spam en su correo.Descripción del ProblemaMauricio de Jesús Vázquez García (VAGM930626HPLZRR03) se contacta por la plataforma Atom para informar que no recibe notificaciones de códigos de acceso vía SMS o correo electrónico al intentar acceder a la aplicación Multimoney México.AnálisisSe determinó que la herramienta de envío, Mandrill, podría estar en una lista negra o marcada como spam en la bandeja de entrada del cliente, lo cual impide la recepción de los códigos.Código UsadoNo se empleó código SQL en esta resolución, ya que la solución implica una gestión administrativa en las configuraciones del cliente y del proveedor de envío. Validación y CierreEl cliente será retirado de la lista de bloqueos y se le recomienda no marcar los correos de la aplicación como spam en el futuro para evitar nuevas restricciones en la recepción de mensajes.Recomendaciones y Próximos PasosAconsejar al cliente evitar marcar los correos de la aplicación como spam.Monitorear la recepción de correos futuros para verificar si el cliente recibe los códigos adecuadamente tras la eliminación de la lista negra.Tipo de Solución: WorkaroundEtiquetasCausa Raíz: Bloqueo de remitente en la bandeja de entrada del clienteFlujos relacionados: Envío de códigos de verificación mediante Mandrill275

INC-4497 Cuota mal proyectada con calculadora para ampliacionesDescripción del problema: La calculadora de ampliaciones ha estado proyectando una cuota mensual de Q28,060 para un crédito de Q150,000 a 6 meses, con una tasa de 2.25% y una comisión de 4%. Sin embargo, al activar el crédito, la amortización no se completa en los seis meses proyectados, generando un séptimo pago adicional de Q295.11.Análisis y acciones tomadas:Se realizó una revisión detallada del cálculo de la cuota proyectada por la calculadora de ampliaciones, así como la proyección generada al activar el crédito en el sistema core.Se identificó que la calculadora no estaba incluyendo los cargos recurrentes de Q120 al cálculo de la cuota mensual, lo que generó un saldo residual que requiere un séptimo pago adicional.Se replicó el escenario utilizando la calculadora y se confirmó que, al sumar los cargos recurrentes, la cuota correcta debería ser de Q28,180 para cubrir el saldo total en seis meses.Validación y cierre:Se validó que el problema radica en la falta de consideración de los cargos recurrentes en el cálculo de la cuota proyectada.Se concluyó que la configuración de la calculadora es la causa del desbalance y que el proceso inicial definido por negocio no incluye todos los componentes necesarios.Solución aplicada: Negocio debe incorporar los cargos recurrentes de Q120 al cálculo de la cuota mensual desde el inicio del proceso de proyección. Al hacerlo, la cuota total resultará en Q28,180, lo cual evitará la necesidad de un séptimo pago adicional y asegurará que la proyección refleje fielmente el monto real que debe pagar el cliente.Código proporcionado: N/AResultado: Se identificó la causa del problema y se recomendó que negocio incorpore los cargos recurrentes en el cálculo de la cuota mensual desde el inicio. Esto es fundamental para asegurar que la proyección refleje el monto total a pagar por el cliente, evitando saldos residuales y pagos adicionales no contemplados. Es necesario que negocio ajuste el proceso para que todos los componentes, incluidos los cargos recurrentes, estén integrados adecuadamente desde la etapa de proyección.Sistema Relacionado: Sistema CoreFlujo relacionado: Tabla de pagosCausa: Falta de consideración de cargos recurrentes en el cálculo de la cuota mensual.Solución: Negocio debe incorporar los cargos recurrentes en el cálculo de la cuota mensual desde el inicio del proceso. Estos cargos impactan directamente en el monto total de las cuotas y su omisión provoca saldos residuales que generan pagos adicionales no contemplados inicialmente. Incluir estos cargos garantizará que la proyección refleje de manera precisa el monto real que el cliente debe pagar mensualmente, evitando desbalances en el plan de pagos.Causa raíz relacionada: INC-284: Causa raíz no APLICA (7108754)ABIERTO Tipo solución: No existe error276

INC-4519 - Cambio de Estado de DTR en el Sistema de NOVATema: INC-4519 - Cambio de Estado de DTR en el Sistema de NOVADescripción del problema: Solicitud de cambio de estado en el sistema NOVA para dos transacciones DTR entrantes, que fueron debitadas de la cuenta del BCCR el 06-11. Las transacciones están actualmente en estado AUTORIZADO y deben cambiar a CONFIRMADO.Análisis y acciones tomadas: Se revisa la solicitud y se confirma que las transacciones cumplen con los requisitos para el cambio de estado. Se procede a escalar el caso a NOVA para realizar el ajuste en su sistema.Validación y cierre: Pendiente de confirmación de NOVA una vez realizado el cambio de estado.Solución aplicada: Creación de ticket a NOVA para solicitar el cambio de estado en su aplicativo.Código proporcionado: N/AResultado: En espera de resolución por parte de NOVA.Sistema Relacionado: NOVAFlujo relacionado: Cambio de estado de transacciones DTRCausa: Las transacciones fueron debitadas correctamente, pero el estado no se actualizó a CONFIRMADO.Solución: Escalación a NOVA para actualización de estado en el sistema.Causa raíz relacionada: 284 No aplicaTipo solución: Escalación externa (aplicativo NOVA)Resumen para negocio: Se solicita a NOVA el cambio de estado de dos transacciones DTR a CONFIRMADO, ya que fueron debitadas correctamente el día 06-11.277

INC-4555 - Restablecimiento de contraseña para Domingo OseguedaTema: INC-4555 - Restablecimiento de contraseña para Domingo OseguedaDescripción del problema: El usuario Domingo Osegueda (DOSEGUEDA) no puede acceder a Sysde porque su contraseña no es aceptada.Análisis y acciones tomadas: Se revisa el estado de la cuenta y se procede al desbloqueo para que el usuario pueda intentar ingresar nuevamente.Validación y cierre: Verificación de que la cuenta se desbloquea correctamente y se notifica al usuario.Solución aplicada: Desbloqueo de la cuenta.Código proporcionado: (No se proporcionó código)Resultado: La cuenta ha sido desbloqueada exitosamente.Sistema Relacionado: SysdeFlujo relacionado: (No especificado)Causa: La cuenta del usuario estaba bloqueada, impidiendo el acceso.Solución: Desbloqueo de la cuenta para que el usuario pueda ingresar nuevamente.Causa raíz relacionada: 284 No aplicaTipo solución: Operativa (desbloqueo de cuenta)Resumen para negocio: Se desbloqueó la cuenta del usuario Domingo Osegueda en Sysde para permitirle el acceso nuevamente, ya que la contraseña no era aceptada inicialmente.278

inc-4530-No permite ingreso a la App Multimoney Mexico // R-00994Propietario: José ValverdeFecha: [08-11-2024]Sistema Relacionado: RG_SUCURSAL_VIRTUALFlujo Relacionado: Registro y Autenticación de Clientes de Crédito en la App MultiMoney MéxicoPosibles Causas y DiagnósticoLa causa probable es que el cliente de crédito no esté registrado en la tabla de autenticación de usuarios de la app MultiMoney México. Esto impide que el sistema lo reconozca como cliente activo, generando el mensaje "Al parecer aún no eres cliente MultiMoney" cuando intenta registrarse. El flujo de autenticación de clientes podría no estar preparado para manejar automáticamente los registros de usuarios de crédito en la base de datos relacionada con la app, lo cual limita su acceso sin una intervención manual.Descripción del ProblemaEl cliente Carlos Ignacio Gil Camacho intenta registrarse en la app de MultiMoney México. Al seleccionar su país de residencia (México), recibe el mensaje "Al parecer aún no eres cliente MultiMoney", impidiendo completar el registro y acceso.Análisis1. Verificación de Registro en la Tabla de Usuarios: Se revisó la tabla SUV_MTR_USUARIO en la base de datos RG_SUCURSAL_VIRTUAL para confirmar si los datos del cliente estaban registrados con la información requerida. La consulta no encontró registros asociados al cliente, lo cual explica el mensaje de error durante el registro.2. Diagnóstico del Proceso de Registro: Este problema ocurre cuando los clientes de crédito, que ya tienen cuentas, intentan registrarse en la app, pero no se encuentran en la tabla de autenticación. Esto indica que el flujo de registro de la app requiere una inserción manual o automática de los datos en la tabla de autenticación.3. Inserción de Datos del Cliente: Para solucionar este problema, se diseñó un script SQL que inserta manualmente al cliente en la tabla de usuarios, permitiendo así su autenticación en la app.Código Usado1-- Consulta de usuario para verificar si existe en la tabla2SELECT IDENTIFICACION, CORREO_ELECTRONICO, *3FROM RG_SUCURSAL_VIRTUAL..SUV_MTR_USUARIO WITH (NOLOCK)4WHERE FK_SUV_CAT_MARCA = 12 AND ID_CLIENTE = ''56-- Inserción del cliente en la tabla de autenticación para habilitar su acceso7USE RG_SUCURSAL_VIRTUAL8INSERT INTO dbo.SUV_MTR_USUARIO9            (FK_SUV_CAT_ROL_APLICACION, FK_SUV_CAT_CATALOGO_PROVEEDOR, FK_SUV_CAT_CATALOGO_ESTADO, FK_SUV_CAT_MA10            USUARIO_MODIFICACION, FECHA_MODIFICACION, CORREO_ELECTRONICO, NOMBRE, TIPO_IDENTIFICACION, IDENTIFIC11            FECHA_TIPO_BLOQUEO, CONTRASENA_ES_TEMPORAL, FECHA_HORA_GENERA_CONTRASENA, ULTIMA_FECHA_REINTENTO, CA279

 Validación y Cierre1. Después de ejecutar la inserción, se verificará que el cliente pueda autenticarse y acceder a la app correctamente.2. Confirmación adicional: se realizará una prueba de acceso para asegurar que el cliente ya no reciba el mensaje de error y que el registro esté completo en la app.Recomendaciones y Próximos Pasos1. Monitoreo: Realizar un monitoreo proactivo de los intentos de registro en la app, especialmente para clientes de crédito que aún no se encuentran en la tabla de autenticación.2. Automatización del Registro: Desarrollar un proceso automático que inserte los datos de los clientes de crédito en la tabla de autenticación para evitar la intervención manual.3. Documentación y Escalación: Documentar y escalar esta solución para que otros casos similares puedan resolverse de manera rápida, sin necesidad de intervención directa.Tipo de Solución: Causa RaízEtiquetasCausa Raíz: Falta de registro en la tabla de autenticación de usuariosFlujos relacionados: Registro y autenticación en la app MultiMoney México12            CANTIDAD_REINTENTOS_PREGUNTA, ULTIMA_FECHA_REINTENTO_PREGUNTA, CANTIDAD_REINTENTOS_SEGURIDAD, ID_CLI13            CREADO_AGENTE, CANTIDAD_REENVIOS_PIN, FECHA_NACIMIENTO, CANTIDAD_REINTENTOS_REGISTRO, CANTIDAD_INTEN14            SEGUNDO_NOMBRE, APELLIDO_CASADA, PRIMER_APELLIDO, SEGUNDO_APELLIDO, TOKEN_NOTIFICACION_PUSH, IMAGEN_15            CANTIDAD_INTENTO_VERIFICAR_PIN_CORREO, ORIGEN, USERNAME, DISPOSITIVO_TARJETA, ID_BILLETERA_TARJETA, 16            VISADIRECT_ID, VISADIRECT_FECHA_CREACION, VISADIRECT_USUARIO, CANTIDAD_REENVIOS_OTP, CANTIDAD_INTENT17            PASO_ACTUAL, CODIGO_PAIS, NACIONALIDAD, MEDIOS_CONTACTO, ID_TIPO_IDENTIFICACION, FK_ESTADO_ONFIDO, D18            HUBSPOT_CONTENIDO, HUBSPOT_MEDIO, HUBSPOT_FUENTE, HUBSPOT_TERMINO, EXCEDIO_TIEMPO_ESPERA)19VALUES (65, 2734, 2670, 12, 'ORIGINACION_EXTERNA', GETDATE(), 'MIRIAMRJ@YAHOO.COM.MX', GETDATE(), 'MIRIAMRJ@YAHO20        'CURP', 'ROHM780123MDFJRR01', '5532229367', '', 0, NULL, 0, GETDATE(), NULL, DEFAULT, DEFAULT, NULL, DEF21        'MIRIAM', '', NULL, 'ROJAS', 'HERNANDEZ', NULL, NULL, DEFAULT, DEFAULT, 'CANAL_EXTERNO', 'MIRIAMRJ@YAHOO22        NULL, NULL, NULL, NULL, NULL, '+52', 'México', NULL, 2816, NULL, NULL, NULL, NULL, NULL, NULL, NULL);23280

INC-4528-Error en acceso a NOVAMPINC-4528 -Problema de restablecimiento de contraseña.Descripción:El usuario intenta generar una nueva contraseña, pero el sistema indica que está vencida sin proporcionar una opción para cambiarla.Aplicativo involucrado: Nova MP.Acciones sugeridas:1. Verificar el acceso al enlace proporcionado:Asegúrate de tener conexión a la red interna, ya que el enlace parece ser de una dirección IP interna (http://172.29.5.13/310/mp.admin/).Si estás fuera de la oficina o fuera de la red, intenta conectarte mediante una VPN para poder acceder al sitio.2. Validar la configuración del navegador:Revisa si el navegador que estás utilizando está actualizado.Intenta limpiar la caché y las cookies, o probar en un navegador diferente para descartar problemas con el almacenamiento temporal.3. Revisar los permisos de usuario:Es posible que la cuenta del usuario no tenga permisos suficientes para modificar su contraseña.Contactar al administrador del sistema para validar si el perfil tiene los privilegios necesarios para cambiar la contraseña.4. Opciones de recuperación de contraseña:Verifica si existe un enlace de "Recuperar contraseña" o "Olvidé mi contraseña" en la página de inicio de sesión.De no ser así, contacta al equipo de soporte técnico para solicitar un restablecimiento manual de la contraseña.5. Verificar la fecha de expiración:La contraseña puede haber expirado debido a políticas internas. Valida si existe algún registro que indique cuándo la contraseña debe renovarse y si está dentro del plazo establecido.6. Contactar al administrador de sistemas:Si no hay una opción de restablecimiento visible, contacta directamente al administrador del sistema.Informa que el sistema no está proporcionando una opción para cambiar la contraseña y solicita que se valide si existen configuraciones de política que bloquean el cambio.7. Crear el caso al proveedor Nova MP.Posibles soluciones:Restablecimiento manual de contraseña: El administrador del sistema puede realizar un restablecimiento de la contraseña desde la base de datos o mediante un script.Ajustar las políticas de caducidad: Verificar y ajustar las políticas de caducidad de la contraseña en el sistema, de forma que el usuario pueda cambiarla sin inconvenientes.Desbloqueo de la cuenta: Si la cuenta está bloqueada, es posible que se requiera una acción específica por parte del administrador para desbloquearla y permitir el cambio de la contraseña.Información adicional:El aplicativo involucrado pertenece al proveedor Nova MP.En otras ocasiones, se ha indicado que el restablecimiento de contraseña puede realizarse desde la consola de Nova MP en el módulo de usuarios.281

Etiquetas agregadas:Sistema relacionado: Nova MP.Flujo relacionado: Restablecimiento de contraseña.Tipo de solución: Restablecimiento manual de contraseñaCausa raíz relacionada: N/A SOLICITUDSolución al negocio: Garantizar el acceso continuo de los usuarios al sistema es crucial para evitar interrupciones en sus actividades diarias, minimizar tiempos de inactividad y asegurar la eficiencia operativa. Un acceso adecuado permite a los usuarios realizar sus tareas sin contratiempos, lo cual es fundamental para mantener la productividad del personal y cumplir con los objetivos de la organización. Además, prevenir problemas recurrentes de acceso contribuye a una experiencia de usuario positiva y reduce la carga sobre los equipos de soporte técnico, mejorando así la satisfacción general de los empleados y la eficiencia del negocio. 282

INC-4568-ACTIVACION DE CATALOGOSTema:Activación de Catálogos para el Usuario Erick Godínez - Área de OperacionesDescripción del Problema:El usuario Erick Godínez, del área de Operaciones, requiere acceso a ciertos catálogos esenciales para su trabajo. Actualmente, el usuario no cuenta con los permisos necesarios, lo cual está impidiendo el cumplimiento de sus tareas diarias y generando posibles retrasos en el flujo de trabajo de su equipo.Análisis y Acciones Tomadas:1. Se revisaron los permisos actuales del usuario para identificar posibles duplicaciones y verificar que no posea acceso previo a los catálogos solicitados.2. Se realizó una consulta con el equipo de Operaciones para confirmar los catálogos específicos requeridos para el rol de Erick Godínez y asegurarse de que la solicitud sea apropiada.3. Se contactó al equipo de administración de accesos para iniciar el proceso de habilitación y realizar las configuraciones necesarias en el sistema.4. Se tomaron medidas para validar que el acceso solicitado cumple con las políticas de seguridad y normativas de acceso.Validación y Cierre:Se espera una confirmación final del equipo de administración de accesos una vez que el usuario tenga el acceso completo a los catálogos solicitados. Posteriormente, el usuario verificará que puede ingresar y utilizar estos recursos sin inconvenientes. Una vez confirmado, el caso se cerrará.Solución Aplicada:Habilitación de acceso a los catálogos específicos solicitados por el usuario en función de su rol en Operaciones, asegurando compatibilidad con los permisos previamente establecidos y cumplimiento con las políticas de seguridad.Resultado:El acceso fue otorgado con éxito, permitiendo al usuario realizar sus tareas sin problemas de acceso. Erick Godínez podrá trabajar con los catálogos solicitados de manera efectiva y sin restricciones.Sistema Relacionado:Sistema de Gestión de Catálogos (detallar el nombre específico si está disponible)Flujo Relacionado:Proceso de Administración de Permisos y Accesos para el Área de OperacionesCausa:El usuario no contaba con los permisos necesarios en los catálogos requeridos, limitando su capacidad de desempeñar su rol de manera eficiente dentro del área de Operaciones.Solución:Otorgar el acceso requerido a los catálogos, garantizando que el usuario cuente con los permisos necesarios para el desempeño de sus funciones sin interrupciones.Causa Raíz Relacionada:INC-284: Causa raíz no APLICA (7108754)ABIERTO 283

Postmortem 284

Año 2024 (POST.) 285

INC-3233 Análisis Postmortem de CiberseguridadResumen del Incidente: Se detectó una infiltración en nuestro sistema APP Revamp, donde un atacante logró suplantar a nuestros clientes, ejecutando diferentes flujos para obtener dinero mediante el uso del tipo de cambio y criptomonedas.Cédula para Análisis: Cliente con identificación 122200758916 se tomó como referencia para el análisis forense de los eventos generados en el sistema interno.1. Validación de UsuarioMétodo: App.Microservice.Security.Controllers.v1.SecurityApplicationController.ValidateUserExistsAsyncFecha y hora: 2024/10/09 21:47Resumen: Usuario con email cristopher.posada@gmail.com y cédula 122200758916.Proceso: VALIDA\_USUARIO\_EXISTE.2. Información de CardsMétodo: api/v1/VirtualCardApplication/GetCardInformationFecha y hora: 2024/10/09 21:47Resumen: Información del cliente con cédula 122200758916, Token generado desde el usuario cuenta12@yopmail.com y el dispositivo con DeviceId: 981b3a93-6859-4537-95b7-046c1a6fcec6. 286

3. Cambio de CorreoMétodo: App.Microservice.Security.Controllers.v1.SecurityApplicationController.ChangeEmailToUserFecha y hora: 2024/10/09 21:49Resumen: Datos del usuario Cristopher con email cristopher.posada@yopmail.com, cédula 122200758916.Nota: Se utiliza el token de la cuenta cuenta12@yopmail.com y el dispositivo con DeviceId: 981b3a93-6859-4537-95b7-046c1a6fcec6.4. Envío de Correos de NotificaciónMétodo: App.Microservice.Common.Controllers.v1.CommonApplicationController.SendEmailToCoreAsyncFecha y hora: 2024/10/09 21:49Resumen: Envío de notificación al correo cristopher.posada@gmail.com con parámetros que incluyen la cédula 122200758916 y contenido relacionado con la cuenta yopmail.5. Cambio de ContraseñaMétodo: App.Microservice.Security.Controllers.v1.SecurityApplicationController.RequestForgotPasswordFecha y hora: 2024/10/09 21:50Resumen: Se genera un PIN de seguridad para el usuario con cédula 122200758916 y se envía al correo cristopher.posada@yopmail.com.6. LoginMétodo: App.Microservice.Security.Controllers.v1.SecurityApplicationController.PreSignInFecha y hora: 2024/10/09 21:52Resumen: Se realiza el primer login del usuario afectado, utilizando sus credenciales y datos personales asociados.7. Verificación del DispositivoMétodo: App.Microservice.Security.Controllers.v1.SecurityApplicationController.ValidateSecurityStructureFecha y hora: 2024/10/09 21:51Resumen: Se genera la verificación del dispositivo debido al cambio de dispositivo interno del usuario con cédula 122200758916.Dispositivo Cliente: b3767401-65a8-41a1-9827-d7b3c89d0ca1Dispositivo Robo de Identidad: 981b3a93-6859-4537-95b7-046c1a6fcec6  8. Continuación del LoginMétodo: App.Microservice.Security.Controllers.v1.SecurityApplicationController.PostSignInFecha y hora: 2024/10/09 21:53Resumen: Posterior al cambio de dispositivo, el sistema termina el proceso de login del usuario afectado, utilizando el dispositivo 981b3a93-6859-4537-95b7-046c1a6fcec6.9. Balance CriptoMétodo: App.Microservice.Crypto.Controllers.v1.CryptoApplicationController.GetHistoricalBalanceClientAsync287

Fecha y hora: 2024/10/09 21:53Resumen: Se genera un balance del saldo del cliente en cripto, con identificación 122200758916, para el país CR. Para generar el token se utilizó el mismo correo cristopher.posada@yopmail.com en vez de cuenta12@yopmail.com.10. Movimientos SmartMétodo: App.Microservice.AccountSmart.Controllers.v1.AccountSmartApplicationController.GetCoreBankMovementsAsyncFecha y hora: 2024/10/09 21:53Resumen: Se consultan los movimientos que ha tenido la cuenta Smart del usuario con cédula 122200758916, incluyendo transacciones de inversión y gastos.Detalle de Movimientos:08/10/2024: Inversión a la vista M Money - $5000 (Dólares) - Autorización: 13196840.08/10/2024: Gastos del carro - $4000 (Dólares) - Autorización: 13193240.09/10/2024: Capitalización normal de intereses -$9.71 (Dólares) - Autorización: 13193238.11. Creación de BilleteraMétodo: App.Microservice.Crypto.Controllers.v1.CryptoApplicationController.GetCryptoDepositAddressAsyncFecha y hora: 2024/10/09 21:54Resumen: Se genera una dirección de depósito para el cliente en la red Bitcoin con identificación 122200758916. Dirección generada: bc1qjfq270rgl4zal7t0xkz9ccu5mfh4m9f6ksz7tp.12. Consulta de Precios CriptoMétodo: App.Microservice.Crypto.Controllers.v1.CryptoApplicationController.GetPricesQuoteAsyncFecha y hora: 2024/10/09 21:54Resumen: Se realiza una consulta de precios de cripto para la moneda BTC en la red Bitcoin, con identificación 122200758916. Precio cotizado: $60860.37. Monto Consultado: $10000.13. Compra CriptoMétodo: App.Microservice.Crypto.Controllers.v1.CryptoApplicationController.SetBuyHQRAsyncFecha y hora: 2024/10/09 21:54Resumen: Se realiza una compra de criptomonedas para la moneda BTC con identificación 122200758916. La cantidad comprada fue de 0.16431053 BTC ($10000) con un precio promedio de $60860.37 por unidad. La transacción se completó con éxito, incluyendo una comisión de $250.00 y un impuesto de $32.50.Resultado: Orden completada exitosamente con el número de transacción 72909269 y estado FILLED. 14. Agregar Billetera ExternaMétodo: App.Microservice.Crypto.Controllers.v1.CryptoApplicationController.SetValidateDepositAddressAsyncFecha y hora: 2024/10/09 21:55Resumen: Se agrega una billetera externa con dirección bc1qmxunshxt678epjpu9tc28tt7989yq4qklkvvmgsv7u67edmvjegqj6ekn7 para el cliente con cédula 122200758916 en el mercado BTCUSD. Proceso exitoso.288

15. TransferenciasMétodo: App.Microservice.Crypto.Controllers.v1.CryptoApplicationController.SeTransferOrderAsyncFecha y hora: 2024/10/09 21:56Resumen: Se realiza una transferencia de 0.15 BTC desde la billetera del cliente con cédula 122200758916 a la dirección bc1qmxunshxt678epjpu9tc28tt7989yq4qklkvvmgsv7u67edmvjegqj6ekn7. La transacción se encuentra en estado PENDING, con un número de transacción 1598830 y un monto total de 0.15376067 BTC que incluye comisiones e impuestos.  Exchange Rate 7 de octubre de 2024ProblemaUn cliente con el Código 86812 realizó transacciones los días 5 y 6 de octubre a tipos de cambio diferentes a Ventanilla y Preferenciales, lo que generó una pérdida cambiaria y distorsión en los tipos de cambio publicados en nuestras plataformas. Estas transacciones viajaron al BCCR con tipos de cambio favorables para el cliente, ocasionando una afectación económica. El tipo de cambio utilizado fue de 500.  Clientes DetectadosSe identificó que tres clientes usaron el mismo dispositivo, de los cuales dos fueron bloqueados. Los tres usuarios identificados fueron creados superando Onfido con fotos falsas. Los clientes detectados fueron:1. juanpabloarroyo12@gmail.com - JUAN PABLO ARROYO QUESADA (Cédula: 604590998)2. barrerayoland@gmail.com - Yolanda Yamileth Barrera (DUI: 042181787)3. teamlosh7@gmail.com - Eladio Josue Montoya Artavia (Cédula: 208580936)4. luisfuentesxd90@gmail.com Luis FuentesTodos estos clientes utilizaron el mismo dispositivo con el identificador 17d54495-58b4-427c-8694-63a2ee663ae5. Evidencia Onfido289

 Se implementa monitoreo para validar cuando se realizan muchas transacciones de un cliente por hora: Transferencia por hora (APP) (SDP) (FRAUDE) (CRÍTICO) - INC-2330 | Detalles de sensor | PRTG Network Monitor (SRVPRTGAKROS)Resumen del Ciberataque del 15 de octubre de 2024El 15 de octubre de 2024 se registró un intento de ciberataque que comenzó a las 9:17 con la creación de un usuario. Durante el ataque, el mismo token fue reutilizado en todas las consultas, intentando acceder a recursos sensibles. El token utilizado tenía la siguiente información:DeviceId: 0a38a2a8-78ca-43cc-a501-6fcb4bf89197Usuario: nayib1990@gmail.comNombre: Nayib Armando Bukele OrtezNúmero de teléfono: +50372837283 290

 Se consumió el método /api/v1/CryptoApplication/GetCryptoAccountBalance en varios intentos.Todas las solicitudes del ataque fueron bloqueadas exitosamente con la respuesta: Response: 400: {"Succeeded":false,"Message":"Intento de fraude: La identificación no coincide."}. El ataque finalizó a las 9:38.  Para monitorear futuros intentos de fraude, se realizaron bloqueos de usuario y DeviceId del atacante, así como la creación de un dashboard específico que será agregado al flujo de monitoreos del sistema. 291

 Acciones Correctivas Implementadas1. Modificación de la regla de bloqueo de dispositivos automático: Se realizó una actualización en la regla para mejorar la seguridad. Regla actual: 1 dispositivo en 15 días.2. Cambio de Onfido a validación manual: Se implementó una validación manual para evitar la creación de cuentas falsas.3. Restricción en el Tipo de Cambio: Se realizó un cambio para que el tipo de cambio se obtenga directamente de la base de datos, evitando que pueda ser modificado por consulta.4. Validaciones en Microservicios: Se implementaron validaciones para que solo se pueda consumir el token generado con el mismo usuario, evitando cambios de contraseña o transacciones con otro token.5. Implementación de Cloudflare: Se configuró Cloudflare para mitigar futuros ataques y proteger el sistema contra vulnerabilidades similares.292

Postmortem de Pruebas de Pentest en la Aplicación MultimoneyFecha del Análisis: 7 de noviembre de 20241. ContextoSe llevó a cabo una prueba de pentest en la aplicación de criptomonedas Multimoney con el objetivo de identificar vulnerabilidades relacionadas con la seguridad de transacciones, la integridad de datos de usuario y la correcta notificación de movimientos. Los tests incluyeron múltiples compras de criptomonedas, enfocándose en la manipulación de comisiones, impuestos y la verificación de la integridad del usuario.Evidencia Pentest2. HallazgosManipulación de Valores CríticosDurante las pruebas, se observó que el sistema permitía establecer valores extremadamente bajos para los campos de CommissionAmount y TaxAmount. Esto permitió realizar transacciones con comisiones de 0.001 y valores de impuesto de 0.00001 sin ninguna restricción. Además, se ingresó un tipo de cambio irreal, indicando una falta de validación en estos campos críticos.  293

Evidencia: Se utilizó el método App.Microservice.Crypto.Controllers.v1.CryptoApplicationController.SetBuyHQRAsync para realizar las compras de criptomonedas. En uno de los ejemplos de request utilizados, los valores de CommissionAmount y TaxAmount fueron establecidos en valores extremadamente bajos, y el tipo de cambio (ExchangeRate) fue ingresado como 0.00000000000000000001. La respuesta de la API indicó un Status: 1 y Message: "Success", lo cual evidencia la falta de validación de estos valores. Evidencia muestra cómo se llamó el método cripto SetBuyHQRAsync Integridad de Datos de Usuario (pkUser)Se confirmó que las transacciones fueron correctamente registradas bajo la cuenta de Héctor Jiménez. No hubo evidencia de que el campo pkUser fuera vulnerado o manipulado para realizar transacciones en nombre de otro usuario. Sin embargo, hubo una discrepancia en el sistema de notificaciones ya que al inyectar en algunos casos el pkUser de Florence Grassl resultó en el envío de correos a pesar de que no se realizaron movimientos en su cuenta.Evidencia: Los logs muestran que todas las solicitudes y respuestas del método SetBuyHQRAsync se realizaron utilizando la identificación del usuario hectorj1970@gmail.com, lo que asegura que las transacciones se registraron bajo el usuario correcto. Sin embargo, en los registros de notificaciones (NeoBancoEndpointService), se observó que las notificaciones también fueron enviadas a florencegrassl@gmail.com, lo cual fue un error. Notificaciones IncorrectasDebido a un bug identificado, el sistema de notificaciones de transacciones tomó el pkUser para enviar correos, lo cual ocasionó que Florence Grassl recibiera notificaciones de compras realizadas en la cuenta de Héctor Jiménez. Aunque los movimientos no afectaron su saldo, esta falla representa un problema de privacidad y de posible confusión para los usuarios.Evidencia: En los registros de notificaciones, se puede ver que el correo destinado a Florence fue enviado debido a la referencia incorrecta del pkUser durante el proceso de notificación, aunque las transacciones no se reflejaron en el saldo de Florence. 294

Movimientos BancariosLos movimientos bancarios confirmaron que todas las transacciones de compra de criptomonedas se registraron bajo la cuenta de Héctor. Los registros mostraron múltiples transacciones realizadas en un corto período de tiempo, con montos de comisión y de impuesto de venta muy bajos.Evidencia: Los movimientos bancarios asociados con el NUM_CUENTA 101006014722 muestran múltiples compras de criptomonedas realizadas en un corto lapso de tiempo, con montos de comisión (0.01) e IVA (0.00001) bajos, indicando una falta de restricciones adecuadas en estos valores críticos.  3. Acciones Recomendadas1. Validación de Campos CríticosImplementar restricciones para evitar valores incorrectos en CommissionAmount, TaxAmount y ExchangeRate. Establecer un mínimo aceptable para estos valores para asegurar la integridad financiera de las transacciones.Recomendación Técnica: En el método SetBuyHQRAsync, agregar validaciones para asegurar que los valores de CommissionAmount, TaxAmount y ExchangeRate se encuentren dentro de rangos aceptables antes de procesar la transacción.2. Corrección del Bug de NotificacionesRevisar y corregir el sistema de notificaciones para que se envíen únicamente al correo electrónico del usuario autenticado. Asegurarse de que los correos estén alineados con los movimientos reales de la cuenta.Recomendación Técnica: Actualizar el servicio de notificaciones (NeoBancoEndpointService) para que utilice los datos del usuario autenticado en lugar del pkUser al determinar el destinatario de la notificación.3. Cálculo de IVA y Comisiones InternoTransferir la responsabilidad del cálculo de IVA y comisiones al sistema interno (Sysde), evitando tomar estos valores directamente de las solicitudes para prevenir manipulaciones externas.Recomendación Técnica: Actualizar el módulo Sysde para calcular el IVA y la comisión de forma interna y utilizar esos valores durante la confirmación de transacción, evitando la dependencia de los valores proporcionados por el cliente en la solicitud.295

4. Control de Frecuencia de Transacciones (Analizar si es un punto valido a tomar en cuenta)Implementar límites para la frecuencia de transacciones por usuario, así como mecanismos de detección de patrones de transacciones sospechosas, con el objetivo de mitigar posibles abusos del sistema.Recomendación Técnica: Modificar el controlador CryptoApplicationController para incluir verificaciones sobre la frecuencia de solicitudes de compra por usuario. Utilizar un sistema de almacenamiento temporal (como Redis) para rastrear la cantidad de transacciones realizadas en un período corto de tiempo.4. ConclusiónEl pentest reveló importantes vulnerabilidades en el sistema de Multimoney, especialmente en cuanto a la falta de validación de valores críticos y errores en la notificación de transacciones. Las recomendaciones detalladas deben ser implementadas para asegurar la protección de los datos de los usuarios, la consistencia de los movimientos financieros y evitar la manipulación indebida de transacciones.Es fundamental priorizar la corrección del bug de notificaciones y la validación de los parámetros financieros para fortalecer la seguridad y la confianza de los usuarios en la plataforma.296

Postmortem of Pentest Tests on the Multimoney Application Analysis Date: November 7, 20241. ContextA pentest was conducted on the Multimoney cryptocurrency application to identify vulnerabilities related to transaction security, user data integrity, and proper transaction notification. The tests included multiple cryptocurrency purchases, focusing on commission and tax manipulation, as well as verification of user integrity. Pentest Evidence 2. FindingsManipulation of Critical ValuesDuring the tests, it was observed that the system allowed extremely low values for the fields CommissionAmount and TaxAmount. This made it possible to carry out transactions with commission values of 0.001 and tax values of 0.00001 without any restrictions. Additionally, an unrealistic exchange rate was entered, indicating a lack of validation for these critical fields.297

Evidence: The App.Microservice.Crypto.Controllers.v1.CryptoApplicationController.SetBuyHQRAsync method was used to make cryptocurrency purchases. In one of the request examples, the values for CommissionAmount and TaxAmount were set extremely low, and the exchange rate (ExchangeRate) was entered as 0.00000000000000000001. The API response returned a Status: 1 and Message: "Success", demonstrating the lack of validation for these values. Evidence shows how the crypto method was called.User Data Integrity (pkUser)Transactions were confirmed to have been correctly registered under the account of Hector Jimenez. There was no evidence that the pkUser field was compromised or manipulated to perform transactions on behalf of another user. However, there was a discrepancy in the notification system: injecting the pkUser of Florence Grassl resulted in emails being sent, even though no transactions had been performed on her account.Evidence: Logs show that all requests and responses for the SetBuyHQRAsync method used the user ID hectorj1970@gmail.com, ensuring that transactions were correctly registered under the intended user. However, notification logs (NeoBancoEndpointService) showed that notifications were also sent to florencegrassl@gmail.com, which was an error. Incorrect NotificationsDue to an identified bug, the transaction notification system used pkUser to send emails, resulting in Florence Grassl receiving notifications of purchases made on Hector Jimenez's account. While these transactions did not affect her balance, this flaw poses a privacy issue and could confuse users.Evidence: Notification logs show that the email intended for Florence was sent due to incorrect reference to pkUser during the notification process, even though the transactions did not affect Florence's balance.  298

Bank MovementsBank transactions confirmed that all cryptocurrency purchases were recorded under Hector's account. Logs showed multiple transactions conducted within a short period, with very low commission and tax values.Evidence: Bank transactions associated with NUM_CUENTA 101006014722 showed multiple cryptocurrency purchases made in a short span, with low commission (0.01) and VAT (0.00001) amounts, indicating a lack of adequate restrictions for these critical values.  3. Recommended Actions1. Validation of Critical FieldsImplement restrictions to prevent incorrect values in CommissionAmount, TaxAmount, and ExchangeRate. Set a minimum acceptable value for these fields to ensure the financial integrity of transactions.Technical Recommendation: In the SetBuyHQRAsync method, add validations to ensure that CommissionAmount, TaxAmount, and ExchangeRate values fall within acceptable ranges before processing the transaction.2. Fix Notification BugReview and fix the notification system to ensure emails are sent only to the authenticated user's email address. Ensure that emails align with actual account activity.Technical Recommendation: Update the notification service (NeoBancoEndpointService) to use authenticated user data instead of pkUser when determining the recipient of a notification.3. Internal Calculation of VAT and CommissionsTransfer the responsibility for calculating VAT and commissions to the internal system (Sysde), avoiding taking these values directly from requests to prevent external manipulation.Technical Recommendation: Update the Sysde module to calculate VAT and commissions internally and use those values during transaction confirmation, avoiding reliance on values provided by the client in the request.4. Control Transaction Frequency (Evaluate if it is a Valid Point to Address)Implement limits on the frequency of transactions per user, as well as mechanisms to detect suspicious transaction patterns, to mitigate potential abuse of the system.299

Technical Recommendation: Modify the CryptoApplicationController to include checks on the frequency of purchase requests per user. Use a temporary storage system (such as Redis) to track the number of transactions made within a short time period.4. ConclusionThe pentest revealed significant vulnerabilities in the Multimoney system, particularly regarding the lack of validation for critical values and errors in transaction notifications. The detailed recommendations must be implemented to ensure the protection of user data, consistency of financial transactions, and to prevent improper manipulation of transactions.It is crucial to prioritize fixing the notification bug and validating financial parameters to strengthen user security and confidence in the platform. 300

Causa Raiz 301

Pendiente 302

En curso 303

INC-3919 Incidentes recurrentes en aplicación de pagosSistema Relacionado: CoreFlujo relacionado: Estado CuentaCausa: PendienteSolución: PendienteResumen agregado del casoSe identificaron múltiples Errores en Saldo relacionados con cuentas en el sistema Core. Estos errores afectan principalmente el flujo de estado de cuenta y tienen un impacto en la correcta visualización y manejo de saldos de clientes.Escenarios Encontrados1. Diferencias en Saldos por Cuentas Canceladas o Cargos Pendientes:Casos Asociados: 6 casos.Asignados más frecuentes: Robert Acosta (3 casos), otros como Andrés Carvajal, Dayana Ruiz Chacon, y justin.cruz con un caso cada uno.Causa Identificada: Problemas derivados de operaciones canceladas que aún muestran saldos pendientes o cargos no procesados adecuadamente.Solución Propuesta: Uso de scripts para ajustar el saldo de cargos residuales y sincronizar los saldos correctamente.2. Errores en Transacciones Memo o Cargos Especiales:Casos Asociados: 2 casos.Asignados más frecuentes: Andrés Carvajal y Daniela Barnett Guillen.Causa Identificada: Inconsistencias debido a transacciones temporales (Memo) que afectan el saldo de las cuentas.Solución Propuesta: Ajustar los montos de las transacciones Memo y eliminar saldos incorrectos.Acciones PropuestasScript para Ajuste de Saldos a 0: Actualización de saldos para cuentas con cargos residuales que afectan la operación normal, con el objetivo de normalizar el estado financiero de las cuentas afectadas.Próximos PasosContinuar con la recopilación de información adicional para aquellos casos sin script asociado.Implementar las acciones recomendadas para resolver los errores, con prioridad en las diferencias de saldo por cuentas canceladas y transacciones Memo.Resumen de los casosA continuación, se presenta un detalle de los casos relacionados con Errores en Saldo y sus diferentes sub-causas, incluyendo acciones propuestas y scripts asociados para su corrección:Casos con script asociado1. INC-1961Asignado a: justin.cruzScript recibido:Actualización de los saldos de comisiones de mora y ajuste de cargos residuales.Consulta de monitoreo para verificar la afectación de cuentas relacionadas.304

2. INC-2822Asignado a: Daniela Barnett GuillenScript recibido:Ajuste de saldos de comisiones de mora y eliminación de cargos pendientes.Uso del procedimiento PA_CON_PSE_SINCRONIZA_SALDOS para sincronizar los saldos de la cuenta y reflejar correctamente la cancelación.Casos sin script asociado1. INC-2186Asignado a: Dayana Ruiz Chacon2. INC-1501Asignado a: justin.cruz3. INC-2147Asignado a: Andrés Carvajal4. INC-2084Asignado a: Robert Acosta5. INC-2658Asignado a: Robert Acosta6. INC-2498Asignado a: Dayana Ruiz ChaconCasos reasignados a otra sub-causaINC-2952Asignado a: Andrés CarvajalReasignado a la sub-causa: Errores en Transacciones Memo o Cargos EspecialesAnálisis de sub-causasDiferencias en Saldos por Cuentas Canceladas o Cargos PendientesCasos asociados: 6 casosINC-1961, INC-2186, INC-1501, INC-2147, INC-2084, INC-2658Asignados más frecuentes:Robert Acosta: 3 casosAndrés Carvajal: 1 casoOtros: Dayana Ruiz Chacon, justin.cruz (1 caso cada uno)Errores en Transacciones Memo o Cargos EspecialesCasos asociados: 2 casosINC-2952, INC-2822Asignados más frecuentes:Andrés Carvajal: 1 casoDaniela Barnett Guillen: 1 casoAcción recomendadaUpdate para establecer saldo a 0:Se recomienda utilizar el siguiente script para dejar el saldo en cero en las cuentas afectadas por diferencias relacionadas con cargos pendientes:305

Planes de Acción - Escenarios de Errores1. Primer Escenario - Errores con Saldos Monitoreo Diario de Pagos NuevosSe crea un monitoreo diario para analizar todos los pagos nuevos.Fecha de implementación: 30/10/2024.   Análisis impacto de Pagarés ActivosAnalizar todos los pagarés activos para encontrar diferencias de saldo.Fecha de implementación: 8/11/2025.Análisis Continuo de Cuentas DetectadasCon las cuentas que se vayan detectando en el monitoreo, analizar los escenarios y aplicar fixes de raíz para evitar problemas futuros.1. Segundo Escenario - Errores en la Aplicación de PagosImplementación de Monitoreo Diario de Pagos FallidosEstablecer un monitoreo diario para identificar pagos fallidos.Fecha de implementación: Por determinar (TBD).Aplicación de Fixes para Cuentas Encontradas en el MonitoreoAplicar correcciones a las cuentas encontradas en el monitoreo para resolver los problemas.Fecha de implementación: Por determinar (TBD). 1. Escenario - Errores en CuotasImplementación de Monitoreo Diario de Cuentas con Cuotas ErróneasEstablecer un monitoreo diario para detectar cuentas que presentan cuotas erróneas.Escenario 1: Cuentas con Mantenimiento de Valor AcumuladoCantidad de Impacto Relacionado: Se identificaron 25 registros afectados con SALDO_MV > 0.Causa Identificada:1BEGIN TRANSACTION;23-- Actualizar saldo a 0 para las cuentas afectadas4UPDATE dbo.PSE_TRA_CARGOS_CUOTA5SET SALDO = 06WHERE FK_PSE_CAT_TIPO_CARGO = 27  AND SALDO = MONTO8  AND FECHA_CREACION >= '2024-06-01'9  AND FK_STC_BLP_TRADICIONAL_CLIENTE_DETALLE IN (10    SELECT Fk_stc_blp_tradicional_cliente_detalle11    FROM dbo.stc_blp_validapago12    WHERE Tipo_Transaccion = 1513      AND Descripcion = 'CAPITALIZACION SALDO POR CARTERA SEPARADA'14      AND Comentario = 'Saldo a la fecha Comision Mora'15      AND Fecha_Pago >= '2024-06-21'16);1718COMMIT;306

El problema se debe a reversiones anteriores de una comisión de cobro, incluidas en pagos previos, que no fueron procesadas correctamente. Esta funcionalidad fue desactivada debido a errores frecuentes.El saldo SALDO_MV proviene de estas reversiones y se mantiene porque la lógica de reversión en el sistema estaba defectuosa.Además, se detectó un cobro incorrecto de Mantenimiento Valor Acumulado, el cual debía ser exclusivo para cuentas de Nicaragua (NIC), pero se aplicó a otras cuentas también.Solución Propuesta:Revisión de Cuentas Afectadas: Ejecutar una consulta para listar todas las cuentas con SALDO_MV > 0 y determinar el alcance completo del problema.Ajuste de Saldos: Realizar ajustes masivos para llevar SALDO_MV a cero en todas las cuentas afectadas.Corrección de Lógica de Cobro: Modificar la lógica para asegurar que el cobro de Mantenimiento Valor Acumulado solo se aplique a cuentas de Nicaragua (NIC).Pruebas y Verificación: Verificar que, después de los ajustes, los saldos sean correctos y las cuentas puedan ser inactivadas sin problemas.Script de Impacto:1.  Fecha de implementación: Por determinar (TBD).Generación de ImpactoAnalizar el impacto de las cuotas erróneas en el sistema y en las cuentas afectadas.Fecha de implementación: Por determinar (TBD).Aplicación de FixesImplementar las correcciones necesarias para solucionar los errores identificados.Fecha de implementación: Por determinar (TBD). 4. Escenario - Diferencias Relacionadas a CriptomonedasIdentificación de errores en las cuotas que puedan estar relacionadas con transacciones en criptomonedas.Implementación de Monitoreo Diario de Cuentas con Cuotas ErróneasEstablecer un monitoreo diario para detectar cuentas con cuotas erróneas.Fecha de implementación: Por determinar (TBD).Generación de ImpactoEvaluar el impacto que las cuotas erróneas tienen en las cuentas afectadas y en las operaciones con criptomonedas.Fecha de implementación: Por determinar (TBD).Aplicación de FixesImplementar las correcciones necesarias para solucionar los errores identificados y prevenir futuros problemas relacionados con criptomonedas.Fecha de implementación: Por determinar (TBD)..1SELECT * 2FROM dbo.stc_blp_tradicional_cliente_detalle 3WHERE SALDO_MV > 0;307

308

Plan de acción INC-3919Plan de Acción para Escenarios de Errores IdentificadosEn el análisis reciente del sistema, se identificaron varios escenarios que presentan errores recurrentes, los cuales afectan la operativa y la experiencia del usuario. Estos escenarios incluyen problemas con saldos, errores en la aplicación de pagos, errores en cuotas y diferencias relacionadas con criptomonedas. A continuación, se detalla un plan de acción para abordar cada uno de estos escenarios y sus sub-causas.Escenarios IdentificadosPara más detalles sobre los escenarios e impactos identificados, consulta la siguiente hoja de cálculo: Escenarios e Impactos1. Errores con Saldo (28 casos)Estado: En curso.Fecha de inicio: 28/11/2024Sub-Escenarios:Diferencias en Saldos por Cuentas Canceladas o Cargos Pendientes (19 casos)Errores en Transacciones Memo o Cargos Especiales (4 casos)Problemas con los Seguros y sus Cargos en las Cuentas (5 casos)2. Errores en la Aplicación de Pagos (14 casos)Estado: Pendiente.Fecha de inicio: 15/11/20243. Errores en Cuotas (12 casos)Estado: Pendiente.Fecha de inicio: TBD4. Errores Relacionados con Criptomonedas (6 casos)Estado: Pendiente.Fecha de inicio: TBD2. Errores en CuotasEscenario 1: Cuentas con Mantenimiento de Valor AcumuladoCantidad de Impacto Relacionado: Se identificaron 25 registros afectados con SALDO_MV > 0.Causa Identificada:El problema se debe a reversiones anteriores de una comisión de cobro, incluidas en pagos previos, que no fueron procesadas correctamente. Esta funcionalidad fue desactivada debido a errores frecuentes.El saldo SALDO_MV proviene de estas reversiones y se mantiene porque la lógica de reversión en el sistema estaba defectuosa.Además, se detectó un cobro incorrecto de Mantenimiento Valor Acumulado, el cual debía ser exclusivo para cuentas de Nicaragua (NIC), pero se aplicó a otras cuentas también.Solución Propuesta:Revisión de Cuentas Afectadas: Ejecutar una consulta para listar todas las cuentas con SALDO_MV > 0 y determinar el alcance completo del problema.Ajuste de Saldos: Realizar ajustes masivos para llevar SALDO_MV a cero en todas las cuentas afectadas.309

Corrección de Lógica de Cobro: Modificar la lógica para asegurar que el cobro de Mantenimiento Valor Acumulado solo se aplique a cuentas de Nicaragua (NIC).Pruebas y Verificación: Verificar que, después de los ajustes, los saldos sean correctos y las cuentas puedan ser inactivadas sin problemas.Script de Impacto:1.  Plan de Acción por Escenario1. Errores con SaldoMonitoreo Diario de Pagos Nuevos: Se ha implementado un monitoreo diario para analizar todos los pagos nuevos.Fecha de implementación: 30/10/2024Análisis del Impacto de Pagarés Activos: Analizar todos los pagarés activos para encontrar diferencias de saldo.Fecha de implementación: 08/11/2025Análisis Continuo de Cuentas Detectadas: Con las cuentas que se vayan detectando en el monitoreo, analizar los escenarios y aplicar correcciones de raíz para evitar problemas futuros.Acción Correctiva: Se creará un script que valide cuando se ingresa un pago, asegurando que no existan diferencias, garantizando así la integridad de los datos.Chat de Coordinación: Se creó el chat ext-cr-3919-diferencia-saldos para revisar reportes nuevos de negocio y encontrados por TI, con el objetivo de realizar una validación conjunta.Fecha: 2024-11-01Nota de Impacto:a. Se encontró impacto en 31 cuentas con diferencias de saldo que estaban separadas, pero mostraban diferencias (Impacto 1). Solucionado de raíz.b. Se detectaron cuentas activas con diferencias de cargos (6 cuentas, Impacto 2). Solucionado de raíz.c. Cancelación de cuentas con saldo a favor no permitido por el sistema (Validar con negocio).Fix Implementado: Los escenarios 1 y 2 se encuentran solucionados de raíz.2. Errores en CuotasImplementación de Monitoreo Diario de Cuentas con Cuotas Erróneas: Establecer un monitoreo diario para detectar cuentas que presentan cuotas erróneas.Fecha de implementación: 2024-11-22Generación de Impacto: Analizar el impacto de las cuotas erróneas en el sistema y en las cuentas afectadas.Fecha de implementación: 2024-11-29Aplicación de Correcciones: Implementar las correcciones necesarias para solucionar los errores identificados.Fecha de implementación: Por determinar (TBD)3. Errores en la Aplicación de PagosImplementación de Monitoreo Diario de Pagos Fallidos: Establecer un monitoreo diario para identificar pagos fallidos.1SELECT * 2FROM dbo.stc_blp_tradicional_cliente_detalle 3WHERE SALDO_MV > 0;Monitoreo: Cuentas CR con mantenimiento de valor (CRITICA) | Detalles de sensor | PRTG Network Monitor (SRVPRTGAKROS)310

Fecha de implementación: Por determinar (TBD)Aplicación de Correcciones para Cuentas Encontradas en el Monitoreo: Aplicar correcciones a las cuentas encontradas en el monitoreo para resolver los problemas.Fecha de implementación: Por determinar (TBD)4. Errores Relacionados con CriptomonedasErrores en Cuotas: Identificación de errores en las cuotas que puedan estar relacionadas con transacciones en criptomonedas.Implementación de Monitoreo Diario de Cuentas con Cuotas Erróneas: Establecer un monitoreo diario para detectar cuentas con cuotas erróneas.Fecha de implementación: Por determinar (TBD)Generación de Impacto: Evaluar el impacto que las cuotas erróneas tienen en las cuentas afectadas y en las operaciones con criptomonedas.Fecha de implementación: Por determinar (TBD)Aplicación de Correcciones: Implementar las correcciones necesarias para solucionar los errores identificados y prevenir futuros problemas relacionados con criptomonedas.Fecha de implementación: Por determinar (TBD)Resumen de Acciones y MonitoreoNota: Se inicia con el escenario Errores con Saldo, ya que es el que más casos genera.Para cada escenario identificado, se implementarán sistemas de monitoreo diario y acciones correctivas para garantizar la integridad de los datos. 311

Completado 312

INC-3533-TIPO-DE-CAMBIOProblema InicialEl problema se centraba en el consumo del API que proporciona el tipo de cambio, el cual ocasionaba un error en la aplicación Graph. Este error estaba relacionado con la validación y el manejo de usuarios a través del API y afectaba el funcionamiento general. Algunos de los problemas específicos que se identificaron incluyen:1. Error en el Consumo del API de Tipo de Cambio:El API que provee el tipo de cambio estaba fallando, lo cual causaba errores en los flujos que dependían de esta información.Problemas de manejo de errores, falta de validación adecuada y posibles problemas de conectividad se identificaron como causantes del problema.2. Validación Específica para idBrand = 5:Se requirió un manejo específico para usuarios que tenían la marca (idBrand) igual a 5, indicando una lógica especial o requerimientos específicos para estos usuarios.Claro, aquí tienes un resumen detallado del problema y los cambios que se realizaron para solventarlo.Problema InicialEl problema se centraba en el consumo del API que proporciona el tipo de cambio, el cual ocasionaba un error en la aplicación Graph. Este error estaba relacionado con la validación y el manejo de usuarios a través del API y afectaba el funcionamiento general. Algunos de los problemas específicos que se identificaron incluyen:1. Error en el Consumo del API de Tipo de Cambio:El API que provee el tipo de cambio estaba fallando, lo cual causaba errores en los flujos que dependían de esta información.Problemas de manejo de errores, falta de validación adecuada y posibles problemas de conectividad se identificaron como causantes del problema.2. Validación Específica para idBrand = 5:Se requirió un manejo específico para usuarios que tenían la marca (idBrand) igual a 5, indicando una lógica especial o requerimientos específicos para estos usuarios.Cambios Realizados para Solucionar el ProblemaPara abordar el problema, se realizaron varios cambios que afectaron múltiples partes del código, con el objetivo de mejorar el manejo de errores, la validación de usuarios, y la integración con servicios externos.1. Manejo Específico de idBrand = 5 en la Validación de UsuariosSe agregaron nuevas validaciones y registros (Log) para los usuarios con idBrand = 5. Estos usuarios tienen un flujo de validación especial, lo cual permite aplicar un manejo de errores más detallado.Se añadió la lógica para establecer userValidationDto.idBrand = 5 durante el proceso de validación, y luego se registran los detalles del proceso en el log.Código Modificado:1userValidationDto.idBrand = 5;2Log log = new Log();3log.idBrand = userValidationDto.idBrand;4log.startDate = startDate;5log.request = JsonConvert.SerializeObject(userValidationDto);6log.proceso = "VALIDACION_INICIAL_USUARIOS";313

 Configuraciones del Gateway (Archivos Ocelot)Se actualizaron varios archivos de configuración de Ocelot (ocelot.development.json, ocelot.production.json, ocelot.uat.json, etc.) con los siguientes cambios:Se especificó que solo se permitirían solicitudes POST (UpstreamHttpMethod).Se estableció una clave de autenticación (AuthenticationProviderKey: "MobileAuthorizer") para asegurar que solo usuarios autenticados puedan realizar solicitudes.Se añadieron opciones de caché con un TtlSeconds de 5 segundos, lo cual mejora el rendimiento evitando múltiples llamadas idénticas al backend.3. Validación de Correo Electrónico con SEONSe implementó una nueva estructura de validación (VerifyEmail) con un campo Score que representa el nivel de riesgo del correo electrónico.Se añadieron consultas para validar si el puntaje (Score) del correo electrónico supera el umbral aceptable (scoreMaxAceptableSeon). En caso de que lo haga, se registra un error y se evita el registro del usuario, ayudando a filtrar cuentas potencialmente fraudulentas.Se añadió un almacenamiento en caché (keyCache) para la validación de correos electrónicos. Si el correo ya ha sido verificado y se encuentra en caché, se reutiliza la información, mejorando la eficiencia.Código Modificado:4. Manejo de Dispositivos en Lista NegraSe implementó lógica adicional para verificar si el dispositivo del usuario está en una lista negra. Esta verificación ayuda a mejorar la seguridad y filtrar usuarios con antecedentes negativos.Si el dispositivo está en la lista negra, se devuelve un mensaje específico para evitar el registro de usuarios fraudulentos.5. Mejoras en los Parámetros de la ClaseSe realizaron cambios en algunos atributos para permitir valores nulos (nullable) en la clase de validación. Esto fue necesario para ciertos atributos que podrían no estar siempre disponibles (por ejemplo, jobSeniority, monthlyExpense, immigrationStatus, subEconomicActivityId).Estos cambios permiten un mayor control sobre cuándo estos atributos son obligatorios y ayudan a manejar escenarios en los que la información no está disponible sin causar errores en la lógica de negocio.Código Modificado:71var keyCache = $"{CACHE_KEY.VERIFY_EMAIL}:{userValidationDto.email}";2var cachedResponse = await _cacheRepository.GetFromCacheAsync<VerifyEmail>(keyCache);3if (cachedResponse == null || cachedResponse.Score > Convert.ToDouble(scoreMaxAceptableSeon.Valor))4{5    // Manejo de error para correo inválido6    log.error = $"Email: {userValidationDto.email} - EmailValidation Error";7    log.endDate = DateTime.Now;8    _logger.LogInformation(JsonConvert.SerializeObject(log));9    return userResponseReturn;10}111public bool? ownHome { get; set; }2public DateTime? jobSeniority { get; set; }314

Correción de Errores TipográficosSe detectó un error tipográfico en el uso de log.starDate, que debería ser log.startDate. Se realizó la corrección para evitar errores en el registro de la información de los procesos.Resumen Final de los CambiosMejoras en la validación de usuarios para idBrand = 5, añadiendo un manejo de errores específico y registrando detalles del proceso.Actualización de las configuraciones de Ocelot para manejar la autenticación y el caché de las solicitudes al API de tipo de cambio.Integración de SEON para validar correos electrónicos mediante el uso de puntajes (Score) y almacenamiento en caché para mejorar la eficiencia.Validación de dispositivos en lista negra para evitar el registro de dispositivos no confiables.Correcciones y mejoras en la clase de validación permitiendo que ciertos campos sean opcionales (nullable).Correción de errores tipográficos en la definición de fechas (starDate a startDate).Estos cambios fueron necesarios para mejorar el manejo de errores, optimizar las consultas al API de tipo de cambio, asegurar la autenticación, y garantizar una mejor validación de usuarios y dispositivos. El objetivo principal fue hacer que la aplicación sea más robusta, segura y eficiente.Afectación del Problema y Cambios RealizadosAfectación del Problema InicialEl problema original en la API que proporciona el tipo de cambio y las fallas en el proceso de validación afectaron varios aspectos del sistema, incluyendo:1. Interrupción de Flujos Críticos:La falla en el consumo del API que provee el tipo de cambio tuvo un impacto directo en los procesos que dependían de estos datos. Esto afectó cualquier operación financiera que requiriera el tipo de cambio actualizado, lo cual pudo causar problemas de inconsistencia en el cálculo de tasas y montos, afectando la experiencia del usuario final.2. Validación Incorrecta de Usuarios:Al no manejar adecuadamente el error en la validación de usuarios, se pudieron haber registrado datos erróneos o rechazado usuarios válidos de manera incorrecta. Esto habría generado experiencias frustrantes para los usuarios y una posible pérdida de clientes.3. Problemas de Seguridad:La falta de validación adecuada de dispositivos y correos electrónicos con SEON pudo dejar brechas en la seguridad del sistema, permitiendo que usuarios maliciosos o cuentas fraudulentas pudieran registrarse sin un control adecuado. Este problema representaba un riesgo de seguridad significativo.4. Duplicación de Código y Errores Tipográficos:El código tenía errores como la duplicación de propiedades (immigrationStatus y subEconomicActivityId) y errores tipográficos (starDate en lugar de startDate). Esto habría afectado la mantenibilidad del código, generado errores de compilación y causado problemas de seguimiento en el registro de eventos.5. Problemas de Desempeño:La falta de almacenamiento en caché apropiado para las validaciones y la solicitud repetitiva de datos pudo haber causado sobrecarga en los servicios y tiempos de respuesta lentos, afectando el rendimiento general del sistema.3public decimal? monthlyExpense { set; get; }4public int? immigrationStatus { set; get; }5public int? subEconomicActivityId { set; get; }6315

Afectación de los Cambios RealizadosLos cambios realizados tuvieron un impacto positivo en la corrección del problema y la mejora general del sistema. A continuación se presentan las afectaciones derivadas de los cambios:1. Manejo Adecuado de idBrand = 5:El ajuste específico para idBrand = 5 permitió un manejo de excepciones específico y una mejor trazabilidad en los procesos de validación. Esto mejoró la personalización de la lógica de negocio para ciertas marcas que requieren reglas especiales, asegurando que estas validaciones fueran manejadas de forma correcta.2. Mejor Seguridad con la Validación de Correos (SEON):La integración del sistema SEON para la validación de correos electrónicos redujo la posibilidad de registros fraudulentos. Con la validación basada en Score, solo se permitieron registros con puntajes aceptables, lo cual aumentó la seguridad del sistema y mejoró la calidad de los usuarios registrados.3. Mejor Rendimiento mediante Almacenamiento en Caché:El uso de caché para las validaciones de email y el tipo de cambio mejoró notablemente el rendimiento. La configuración de FileCacheOptions con TtlSeconds = 5 permitió evitar múltiples llamadas innecesarias al API y mejoró los tiempos de respuesta, aunque es importante tener en cuenta la carga del sistema y ajustar estos valores si es necesario.4. Validación de Usuarios más Robusta:La adición de validación para dispositivos en lista negra mejoró el control sobre los dispositivos sospechosos, lo cual hizo el sistema más seguro y evitó el acceso de usuarios potencialmente riesgosos.También se incorporó una lógica de validación que asegura que, en caso de correos electrónicos con alto puntaje de riesgo o dispositivos en listas negras, los usuarios no puedan proceder con el registro, mejorando la integridad de los datos y reduciendo el riesgo de fraude.5. Corrección de Duplicación y Errores Tipográficos:La corrección de las propiedades duplicadas y errores tipográficos (como starDate a startDate) mejoró la calidad del código, facilitando su mantenimiento y evitando posibles errores en la ejecución.6. Experiencia de Usuario Mejorada:Con los cambios en la validación de correo y la verificación de dispositivos, la experiencia del usuario también mejoró, ya que las respuestas fueron más rápidas gracias a la utilización del caché, y los mensajes de error fueron más precisos en caso de que se presentara algún problema de validación.Resumen de la Afectación Positiva de los Cambios RealizadosSeguridad Mejorada: Gracias a la integración de SEON y la validación de dispositivos, se evitó la entrada de usuarios fraudulentos.Mejora en el Rendimiento: La implementación de caché y la configuración en Ocelot redujeron la carga en los sistemas backend, mejorando los tiempos de respuesta.Mejor Trazabilidad y Control: El manejo específico de idBrand = 5 y los logs detallados permitieron un control más preciso sobre el flujo de validación y facilitaron la depuración.Calidad del Código: Corregir los errores tipográficos y duplicaciones permitió mantener un código más limpio y facilitar el mantenimiento futuro.En conclusión, estos cambios fueron fundamentales para corregir los errores originales, evitar futuras incidencias similares, y mejorar tanto la calidad del código como la experiencia de usuario y la seguridad del sistema.316

Reglas DocumentaciónPara documentar los cierres de incidentes utilizar la siguiente plantilla.Puede indicarse en un archivo .txt o bien pasarse directamente en una conversación para que siga el lineamiento indicado. 1Tema:2Descripción del problema:3Análisis y acciones tomadas:4Validación y cierre:5Solución aplicada:6Código proporcionado: (cuando lo proporcione sino dejar vacío)7Resultado:89Sistema Relacionado:10Flujo relacionado:11Causa:12Solución:13Causa raíz relacionada:14Tipo solución:           Documentación de incidentes

               INCIDENTES

                    Año 2024 (INC.)

                         Mes octubre (INC.)

                              INC-2955 No se recibe código

                              INC-3988 El Salvador - Reporte de contabilidad automática del 24oct24 no subió a Sysde

                              INC-3907 - Paso incorrecto flujo Smart

                              INC-4037-Costa Rica R-154738 y 209911 error en debito automático

                              INC-3990 Revisión de Tablas de pagos

                                   .

                              INC-4038-no genera reportes en el sistema sysde

                              INC-4033-Apoyo plataforma SYSDE

                              INC-4034-SYSDE

                              INC-3852 - El Salvador - No se aplica PLP - R-083511

                              INC-3812 - Venta de SOC con datos incorrectos

                              INC-3906 - Validación de Envío de Mensajes

                              INC-3894 CR. Flujo de crédito incorrecto WEB

                              INC-3954 - Cliente Activo no se encuentra en Reporte de Sysde "Clientes y Saldos"

                              INC-4063-El Salvador Diferencia en saldo

                              INC-4117 - CR. Digital. Seguro con monto en 0

                              INC-4047-Seguros colones cargados automáticamente a cuenta en dólares

                              INC-4085 - Reporte no muestra pagaré

                              INC-4081-SOC permitió avanzar a una venta con cuenta en Cartera Separada

                              INC-3005 - Error en provisión de intereses Certificados 29 y 30 septiembre

                              INC-3994 - Error al Generar Comprobante

                              INC-4147 - ERROR CON SYSDE YA QUE ME SACA DEL SISTEMA

                              INC-4024 Detalle de tarjeta 439749******6301

                              INC-4087 Correcion de saldo en core

                              INC-3195 El Salvador sobregiro de compras en comercio Visa

                              INC-4195 Validar core lentitud

                                   INC-4204 Guatemala Diferencia saldo por pagos mal aplicados vs la reversa del pago 10043792.

                              INC-4164 - Guatemala Diferencia saldo por pagos mal aplicados vs la reversa del pago 10048639

                              INC-4340 - Error en plazo cuenta R-137881

                         Noviembre (INC.)

                              INC-4274

                              INC-4163 - Validar Cuenta - Corregir Cuota

                                   INC-4235 - Consulta pagaré R-195460

                              INC-4257

                              INC-4144 Revisión de pagaré 129559

                              INC-4242 DTR entrante no registrado en sysde

                              INC-4309 Error en la cabeza de mora R-196795

                              INC-4317 Pagaré R-095111 no se puede imprimir y no aparece en sistema logística

                              INC-4262 No se refleja seguimientos en SOC

5

6

7

8

9

10

12

14

16

18

19

21

23

25

27

30

31

33

34

36

39

42

44

46

55

57

59

61

64

66

68

70

71

73

74

76

78

80

82

85

87

90

92

                              INC-4152-Actualización de App Multimoney Mexico // R-01922 // MAURICIO DE JESUS VAZQUEZ GARCIA

                              INC-4185-Error en sistema R-213537 Cédula:118220355

94

95

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                              INC-4249-operacion R-31927 cambio a cancelada

                              INC-4349-Su ayuda con cuentas sin información en KYC

                              INC-4225-Error en numero de cuotas op R-66559

                              INC-4190-Validar apertura de cuota en parámetro menos y debito a cuenta R-185382

                              INC-4337 - Costa Rica Reporte de Cartera Paxos

                              INC-4408 INC-4409 Problema ingreso SAP

                              INC-4420-El salvador R-045152 R-04515201 corrección de distribución pago.

                              INC-4395 - Corregir operaciones activas - saldo 0

                              INC-4344 Aprobación automática de Onfido

                              INC-4460 DTR Confirmado en BCCR y no registrado en SYSDE

                              INC-4423 Error en cuota r-209653

                              INC-4280 Incidencia en ONFIDO

96

98

99

100

102

104

105

107

112

113

115

117

                              INC-4451-Pagare R-095160 se observa que no se marca la casilla del extracto de la póliza de seguro, en el

reverso del documento carta de comunicación

                              INC-4437 Movimientos Bancarios del mes de Octubre-24 con número de referencias en Marzo.

                              INC-4470 - No se pueden cancelar los clientes en el Core, escenario clientes de comercios con estado

inactivo

                              INC-4405 Cliente sin Onfido

120

122

123

124

                              INC-4272 - Diferencia en reportería entre el saldo final e inicial del día 09/10 vs el día 10/10 en la cuenta de

desembolsos 101005000331

                              INC-4510-Diferencia de saldo en operaciones

                              INC-4520-Lentitud en core -INC-4546-No carga Core

                              INC-4509-Cliente no aparece en el core

                              INC-4264-[CR][SEGUROS] Falta de carga de seguros en pagare R-28469

                              INC-4478 El salvador R-083029 error en estado de cuenta

               SOLICITUDES

                    Año 2024 (SOLIC.)

                         Mes octubre (SOLIC.)

                              INC-3971 Extension de ciclo

                                   INC-4150 - Usuario Bloqueado App Multimoney México

                              INC-3986 Alta de usuario y accesos a SAP a colaborado de nuevo ingreso MX

                              INC-4008-Eliminación de cuenta IBAN pagaré R-192379

126

133

134

135

138

140

143

144

145

146

150

152

153

                              INC-4011 Adición de usuarios para que pueda ver reportes y envió de estados de cuenta de Core a zimbra

155

                              INC-3961 - Liquidación de Saldos en Cuentas Canceladas e Inactivas

                              INC-4006 -4013 CEDULAS DESCARGADAS EN MANTENIMIENTO 2.0

158

161

                              INC-3944-INC-4216-INC-4217-INC-4223-INC-4288-INC-4289-INC-4293-INC-4357-INC-4440 - Transferir

Cripto Matic

                              INC-4026: Error en modificar cuentas contables Sistema Administrador de catálogos opción "Servicios

SINPE Detalle"

                              INC-4004 Error en integración de HS

                              INC-4060-Aplicativo de sistema de impresión

                              INC-4105 Validar lentitud en Core

                              INC-4094 - Solicitud para Descartar Cédulas sin Apadronar

                              INC-4097-Correccion de cargas de cobertura de seguros op # 98658

163

165

166

167

171

172

174

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
